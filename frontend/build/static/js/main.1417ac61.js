/*! For license information please see main.1417ac61.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},67:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",a="[object Array]",o="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",u="[object Map]",h="[object Number]",m="[object Object]",p="[object Promise]",f="[object RegExp]",g="[object Set]",x="[object String]",y="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",j=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[i]=k[a]=k[b]=k[o]=k[w]=k[l]=k[c]=k[d]=k[u]=k[h]=k[m]=k[f]=k[g]=k[x]=k[v]=!1;var S="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,_="object"==typeof self&&self&&self.Object===Object&&self,C=S||_||Function("return this")(),E=t&&!t.nodeType&&t,T=E&&e&&!e.nodeType&&e,D=T&&T.exports===E,A=D&&S.process,P=function(){try{return A&&A.binding&&A.binding("util")}catch(e){}}(),M=P&&P.isTypedArray;function L(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var I,F,z=Array.prototype,B=Function.prototype,q=Object.prototype,U=C["__core-js_shared__"],V=B.toString,$=q.hasOwnProperty,H=function(){var e=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),W=q.toString,Y=RegExp("^"+V.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=D?C.Buffer:void 0,G=C.Symbol,Q=C.Uint8Array,X=q.propertyIsEnumerable,Z=z.splice,J=G?G.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=K?K.isBuffer:void 0,ne=(I=Object.keys,F=Object,function(e){return I(F(e))}),re=Ae(C,"DataView"),se=Ae(C,"Map"),ie=Ae(C,"Promise"),ae=Ae(C,"Set"),oe=Ae(C,"WeakMap"),le=Ae(Object,"create"),ce=Oe(re),de=Oe(se),ue=Oe(ie),he=Oe(ae),me=Oe(oe),pe=G?G.prototype:void 0,fe=pe?pe.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function be(e){var t=this.__data__=new xe(e);this.size=t.size}function we(e,t){var n=Fe(e),r=!n&&Ie(e),s=!n&&!r&&ze(e),i=!n&&!r&&!s&&$e(e),a=n||r||s||i,o=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=o.length;for(var c in e)!t&&!$.call(e,c)||a&&("length"==c||s&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Le(c,l))||o.push(c);return o}function je(e,t){for(var n=e.length;n--;)if(Re(e[n][0],t))return n;return-1}function Ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=$.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch(i){}var s=W.call(e);r&&(t?e[J]=n:delete e[J]);return s}(e):function(e){return W.call(e)}(e)}function ke(e){return Ve(e)&&Ne(e)==i}function Se(e,t,n,r,s){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!==e&&t!==t:function(e,t,n,r,s,d){var p=Fe(e),v=Fe(t),j=p?a:Me(e),N=v?a:Me(t),k=(j=j==i?m:j)==m,S=(N=N==i?m:N)==m,_=j==N;if(_&&ze(e)){if(!ze(t))return!1;p=!0,k=!1}if(_&&!k)return d||(d=new be),p||$e(e)?Ee(e,t,n,r,s,d):function(e,t,n,r,s,i,a){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!i(new Q(e),new Q(t)));case o:case l:case h:return Re(+e,+t);case c:return e.name==t.name&&e.message==t.message;case f:case x:return e==t+"";case u:var d=O;case g:var m=1&r;if(d||(d=R),e.size!=t.size&&!m)return!1;var p=a.get(e);if(p)return p==t;r|=2,a.set(e,t);var v=Ee(d(e),d(t),r,s,i,a);return a.delete(e),v;case y:if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,j,n,r,s,d);if(!(1&n)){var C=k&&$.call(e,"__wrapped__"),E=S&&$.call(t,"__wrapped__");if(C||E){var T=C?e.value():e,D=E?t.value():t;return d||(d=new be),s(T,D,n,r,d)}}if(!_)return!1;return d||(d=new be),function(e,t,n,r,s,i){var a=1&n,o=Te(e),l=o.length,c=Te(t),d=c.length;if(l!=d&&!a)return!1;var u=l;for(;u--;){var h=o[u];if(!(a?h in t:$.call(t,h)))return!1}var m=i.get(e);if(m&&i.get(t))return m==t;var p=!0;i.set(e,t),i.set(t,e);var f=a;for(;++u<l;){var g=e[h=o[u]],x=t[h];if(r)var y=a?r(x,g,h,t,e,i):r(g,x,h,e,t,i);if(!(void 0===y?g===x||s(g,x,n,r,i):y)){p=!1;break}f||(f="constructor"==h)}if(p&&!f){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,s,d)}(e,t,n,r,Se,s))}function _e(e){return!(!Ue(e)||function(e){return!!H&&H in e}(e))&&(Be(e)?Y:j).test(Oe(e))}function Ce(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||q;return e===n}(e))return ne(e);var t=[];for(var n in Object(e))$.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ee(e,t,n,r,s,i){var a=1&n,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var d=-1,u=!0,h=2&n?new ve:void 0;for(i.set(e,t),i.set(t,e);++d<o;){var m=e[d],p=t[d];if(r)var f=a?r(p,m,d,t,e,i):r(m,p,d,e,t,i);if(void 0!==f){if(f)continue;u=!1;break}if(h){if(!L(t,(function(e,t){if(a=t,!h.has(a)&&(m===e||s(m,e,n,r,i)))return h.push(t);var a}))){u=!1;break}}else if(m!==p&&!s(m,p,n,r,i)){u=!1;break}}return i.delete(e),i.delete(t),u}function Te(e){return function(e,t,n){var r=t(e);return Fe(e)?r:function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}(r,n(e))}(e,He,Pe)}function De(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return _e(n)?n:void 0}ge.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return $.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:$.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?r:t,this},xe.prototype.clear=function(){this.__data__=[],this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=je(t,e);return!(n<0)&&(n==t.length-1?t.pop():Z.call(t,n,1),--this.size,!0)},xe.prototype.get=function(e){var t=this.__data__,n=je(t,e);return n<0?void 0:t[n][1]},xe.prototype.has=function(e){return je(this.__data__,e)>-1},xe.prototype.set=function(e,t){var n=this.__data__,r=je(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(se||xe),string:new ge}},ye.prototype.delete=function(e){var t=De(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return De(this,e).get(e)},ye.prototype.has=function(e){return De(this,e).has(e)},ye.prototype.set=function(e,t){var n=De(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ve.prototype.add=ve.prototype.push=function(e){return this.__data__.set(e,r),this},ve.prototype.has=function(e){return this.__data__.has(e)},be.prototype.clear=function(){this.__data__=new xe,this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},be.prototype.get=function(e){return this.__data__.get(e)},be.prototype.has=function(e){return this.__data__.has(e)},be.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xe){var r=n.__data__;if(!se||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Pe=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,s=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[s++]=a)}return i}(ee(e),(function(t){return X.call(e,t)})))}:function(){return[]},Me=Ne;function Le(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function Oe(e){if(null!=e){try{return V.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Re(e,t){return e===t||e!==e&&t!==t}(re&&Me(new re(new ArrayBuffer(1)))!=w||se&&Me(new se)!=u||ie&&Me(ie.resolve())!=p||ae&&Me(new ae)!=g||oe&&Me(new oe)!=v)&&(Me=function(e){var t=Ne(e),n=t==m?e.constructor:void 0,r=n?Oe(n):"";if(r)switch(r){case ce:return w;case de:return u;case ue:return p;case he:return g;case me:return v}return t});var Ie=ke(function(){return arguments}())?ke:function(e){return Ve(e)&&$.call(e,"callee")&&!X.call(e,"callee")},Fe=Array.isArray;var ze=te||function(){return!1};function Be(e){if(!Ue(e))return!1;var t=Ne(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function qe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var $e=M?function(e){return function(t){return e(t)}}(M):function(e){return Ve(e)&&qe(e.length)&&!!k[Ne(e)]};function He(e){return null!=(t=e)&&qe(t.length)&&!Be(t)?we(e):Ce(e);var t}e.exports=function(e,t){return Se(e,t)}},100:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.length=function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"object"===typeof e.retain&&null!==e.retain?1:"string"===typeof e.insert?e.insert.length:1}}(n||(n={})),t.default=n},146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,s=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||s.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(i,l)).replace(r,o))}},153:(e,t,n)=>{"use strict";var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var b=v.prototype=new y;b.constructor=v,f(b,x.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,s)&&!k.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+E(l,0):i,w(a)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),T(a,t,s,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var d=i+E(o=e[c],c);l+=T(o,t,s,d,a)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,s,d=i+E(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},M={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:M,ReactCurrentOwner:N};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=s,t.Profiler=a,t.PureComponent=v,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},222:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,s.default)(e),i="function"===typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,s=e.value;i?t(r,s,e):s&&((n=n||{})[r]=s)}})),n};var s=r(n(403))},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<s&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,b(e),!f)if(null!==r(c))f=!0,M(j);else{var t=r(d);null!==t&&L(w,t.startTime-e)}}function j(e,n){f=!1,g&&(g=!1,y(_),_=-1),p=!0;var i=m;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,m=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),b(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&L(w,u.startTime-n),l=!1}return l}finally{h=null,m=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,_=-1,C=5,E=-1;function T(){return!(t.unstable_now()-E<C)}function D(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=D,N=function(){P.postMessage(null)}}else N=function(){x(D,0)};function M(e){S=e,k||(k=!0,N())}function L(e,n){_=x((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,M(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(g?(y(_),_=-1):g=!0,L(w,i-a))):(e.sortIndex=o,n(c,e),f||p||(f=!0,M(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,s=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!s&&!i)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},o=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(s)return s(e,n).value}return e[n]};e.exports=function e(){var t,n,r,s,c,d,u=arguments[0],h=1,m=arguments.length,p=!1;for("boolean"===typeof u&&(p=u,u=arguments[1]||{},h=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});h<m;++h)if(null!=(t=arguments[h]))for(n in t)r=l(u,n),u!==(s=l(t,n))&&(p&&s&&(a(s)||(c=i(s)))?(c?(c=!1,d=r&&i(r)?r:[]):d=r&&a(r)?r:{},o(u,{name:n,newValue:e(p,d,s)})):"undefined"!==typeof s&&o(u,{name:n,newValue:s}));return u}},249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const r=n(551),s=n(992),i=n(67),a=n(785);t.AttributeMap=a.default;const o=n(100);t.Op=o.default;const l=n(646);t.OpIterator=l.default;const c=String.fromCharCode(0),d=(e,t)=>{if("object"!==typeof e||null===e)throw new Error("cannot retain a "+typeof e);if("object"!==typeof t||null===t)throw new Error("cannot retain a "+typeof t);const n=Object.keys(e)[0];if(!n||n!==Object.keys(t)[0])throw new Error(`embed types not matched: ${n} != ${Object.keys(t)[0]}`);return[n,e[n],t[n]]};class u{constructor(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}static registerEmbed(e,t){this.handlers[e]=t}static unregisterEmbed(e){delete this.handlers[e]}static getHandler(e){const t=this.handlers[e];if(!t)throw new Error(`no handlers for embed type "${e}"`);return t}insert(e,t){const n={};return"string"===typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))}delete(e){return e<=0?this:this.push({delete:e})}retain(e,t){if("number"===typeof e&&e<=0)return this;const n={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)}push(e){let t=this.ops.length,n=this.ops[t-1];if(e=s(e),"object"===typeof n){if("number"===typeof e.delete&&"number"===typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"===typeof n.delete&&null!=e.insert&&(t-=1,n=this.ops[t-1],"object"!==typeof n))return this.ops.unshift(e),this;if(i(e.attributes,n.attributes)){if("string"===typeof e.insert&&"string"===typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this}chop(){const e=this.ops[this.ops.length-1];return e&&"number"===typeof e.retain&&!e.attributes&&this.ops.pop(),this}filter(e){return this.ops.filter(e)}forEach(e){this.ops.forEach(e)}map(e){return this.ops.map(e)}partition(e){const t=[],n=[];return this.forEach((r=>{(e(r)?t:n).push(r)})),[t,n]}reduce(e,t){return this.ops.reduce(e,t)}changeLength(){return this.reduce(((e,t)=>t.insert?e+o.default.length(t):t.delete?e-t.delete:e),0)}length(){return this.reduce(((e,t)=>e+o.default.length(t)),0)}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=[],r=new l.default(this.ops);let s=0;for(;s<t&&r.hasNext();){let i;s<e?i=r.next(e-s):(i=r.next(t-s),n.push(i)),s+=o.default.length(i)}return new u(n)}compose(e){const t=new l.default(this.ops),n=new l.default(e.ops),r=[],s=n.peek();if(null!=s&&"number"===typeof s.retain&&null==s.attributes){let e=s.retain;for(;"insert"===t.peekType()&&t.peekLength()<=e;)e-=t.peekLength(),r.push(t.next());s.retain-e>0&&n.next(s.retain-e)}const o=new u(r);for(;t.hasNext()||n.hasNext();)if("insert"===n.peekType())o.push(n.next());else if("delete"===t.peekType())o.push(t.next());else{const e=Math.min(t.peekLength(),n.peekLength()),r=t.next(e),s=n.next(e);if(s.retain){const l={};if("number"===typeof r.retain)l.retain="number"===typeof s.retain?e:s.retain;else if("number"===typeof s.retain)null==r.retain?l.insert=r.insert:l.retain=r.retain;else{const e=null==r.retain?"insert":"retain",[t,n,i]=d(r[e],s.retain),a=u.getHandler(t);l[e]={[t]:a.compose(n,i,"retain"===e)}}const c=a.default.compose(r.attributes,s.attributes,"number"===typeof r.retain);if(c&&(l.attributes=c),o.push(l),!n.hasNext()&&i(o.ops[o.ops.length-1],l)){const e=new u(t.rest());return o.concat(e).chop()}}else"number"===typeof s.delete&&("number"===typeof r.retain||"object"===typeof r.retain&&null!==r.retain)&&o.push(s)}return o.chop()}concat(e){const t=new u(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t}diff(e,t){if(this.ops===e.ops)return new u;const n=[this,e].map((t=>t.map((n=>{if(null!=n.insert)return"string"===typeof n.insert?n.insert:c;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join(""))),s=new u,o=r(n[0],n[1],t,!0),d=new l.default(this.ops),h=new l.default(e.ops);return o.forEach((e=>{let t=e[1].length;for(;t>0;){let n=0;switch(e[0]){case r.INSERT:n=Math.min(h.peekLength(),t),s.push(h.next(n));break;case r.DELETE:n=Math.min(t,d.peekLength()),d.next(n),s.delete(n);break;case r.EQUAL:n=Math.min(d.peekLength(),h.peekLength(),t);const e=d.next(n),o=h.next(n);i(e.insert,o.insert)?s.retain(n,a.default.diff(e.attributes,o.attributes)):s.push(o).delete(n)}t-=n}})),s.chop()}eachLine(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n";const n=new l.default(this.ops);let r=new u,s=0;for(;n.hasNext();){if("insert"!==n.peekType())return;const i=n.peek(),a=o.default.length(i)-n.peekLength(),l="string"===typeof i.insert?i.insert.indexOf(t,a)-a:-1;if(l<0)r.push(n.next());else if(l>0)r.push(n.next(l));else{if(!1===e(r,n.next(1).attributes||{},s))return;s+=1,r=new u}}r.length()>0&&e(r,{},s)}invert(e){const t=new u;return this.reduce(((n,r)=>{if(r.insert)t.delete(o.default.length(r));else{if("number"===typeof r.retain&&null==r.attributes)return t.retain(r.retain),n+r.retain;if(r.delete||"number"===typeof r.retain){const s=r.delete||r.retain;return e.slice(n,n+s).forEach((e=>{r.delete?t.push(e):r.retain&&r.attributes&&t.retain(o.default.length(e),a.default.invert(r.attributes,e.attributes))})),n+s}if("object"===typeof r.retain&&null!==r.retain){const s=e.slice(n,n+1),i=new l.default(s.ops).next(),[o,c,h]=d(r.retain,i.insert),m=u.getHandler(o);return t.retain({[o]:m.invert(c,h)},a.default.invert(r.attributes,i.attributes)),n+1}}return n}),0),t.chop()}transform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);const n=e,r=new l.default(this.ops),s=new l.default(n.ops),i=new u;for(;r.hasNext()||s.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===s.peekType())if("insert"===s.peekType())i.push(s.next());else{const e=Math.min(r.peekLength(),s.peekLength()),n=r.next(e),o=s.next(e);if(n.delete)continue;if(o.delete)i.push(o);else{const r=n.retain,s=o.retain;let l="object"===typeof s&&null!==s?s:e;if("object"===typeof r&&null!==r&&"object"===typeof s&&null!==s){const e=Object.keys(r)[0];if(e===Object.keys(s)[0]){const n=u.getHandler(e);n&&(l={[e]:n.transform(r[e],s[e],t)})}}i.retain(l,a.default.transform(n.attributes,o.attributes,t))}}else i.retain(o.default.length(r.next()));return i.chop()}transformPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!!t;const n=new l.default(this.ops);let r=0;for(;n.hasNext()&&r<=e;){const s=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=s),r+=s):e-=Math.min(s,e-r)}return e}}u.Op=o.default,u.OpIterator=l.default,u.AttributeMap=a.default,u.handlers={},t.default=u,e.exports=u,e.exports.default=u},294:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(222)),s=n(146);function i(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,(function(e,r){e&&r&&(n[(0,s.camelCase)(e,t)]=r)})),n):n}i.default=i,e.exports=i},324:e=>{e.exports=function(e,t,n,r){var s=n?n.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!o(c))return!1;var d=e[c],u=t[c];if(!1===(s=n?n.call(r,d,u,c):void 0)||void 0===s&&d!==u)return!1}return!0}},366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,s="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var o,l,c,d;if(Array.isArray(e)){if((o=e.length)!=a.length)return!1;for(l=o;0!==l--;)if(!i(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!i(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((o=e.length)!=a.length)return!1;for(l=o;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof a.toString)return e.toString()===a.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],a[c[l]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return i(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function d(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var u=1,h=1;function m(e){var t=e.match(n);t&&(u+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function p(){var e={line:u,column:h};return function(t){return t.position=new f(e),v(),t}}function f(e){this.start=e,this.end={line:u,column:h},this.source=l.source}f.prototype.content=e;var g=[];function x(t){var n=new Error(l.source+":"+u+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=u,n.column=h,n.source=e,!l.silent)throw n;g.push(n)}function y(t){var n=t.exec(e);if(n){var r=n[0];return m(r),e=e.slice(r.length),n}}function v(){y(r)}function b(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return x("End of comment missing");var r=e.slice(2,n-2);return h+=2,m(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function j(){var e=p(),n=y(s);if(n){if(w(),!y(i))return x("property missing ':'");var r=y(a),l=e({type:"declaration",property:d(n[0].replace(t,c)),value:r?d(r[0].replace(t,c)):c});return y(o),l}}return v(),function(){var e,t=[];for(b(t);e=j();)!1!==e&&(t.push(e),b(t));return t}()}},536:function(e,t,n){var r;e=n.nmd(e),function(){var s,i="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",l=16,c=32,d=64,u=128,h=256,m=1/0,p=9007199254740991,f=NaN,g=4294967295,x=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",d],["rearg",h]],y="[object Arguments]",v="[object Array]",b="[object Boolean]",w="[object Date]",j="[object Error]",N="[object Function]",k="[object GeneratorFunction]",S="[object Map]",_="[object Number]",C="[object Object]",E="[object Promise]",T="[object RegExp]",D="[object Set]",A="[object String]",P="[object Symbol]",M="[object WeakMap]",L="[object ArrayBuffer]",O="[object DataView]",R="[object Float32Array]",I="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",B="[object Int32Array]",q="[object Uint8Array]",U="[object Uint8ClampedArray]",V="[object Uint16Array]",$="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,Q=RegExp(K.source),X=RegExp(G.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,se=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(se.source),ae=/^\s+/,oe=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,me=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,je=/($^)/,Ne=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",De="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="['\u2019]",Pe="["+ke+"]",Me="["+De+"]",Le="["+Se+"]",Oe="\\d+",Re="["+_e+"]",Ie="["+Ce+"]",Fe="[^"+ke+De+Oe+_e+Ce+Ee+"]",ze="\\ud83c[\\udffb-\\udfff]",Be="[^"+ke+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ee+"]",$e="\\u200d",He="(?:"+Ie+"|"+Fe+")",We="(?:"+Ve+"|"+Fe+")",Ye="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Le+"|"+ze+")"+"?",Qe="["+Te+"]?",Xe=Qe+Ge+("(?:"+$e+"(?:"+[Be,qe,Ue].join("|")+")"+Qe+Ge+")*"),Ze="(?:"+[Re,qe,Ue].join("|")+")"+Xe,Je="(?:"+[Be+Le+"?",Le,qe,Ue,Pe].join("|")+")",et=RegExp(Ae,"g"),tt=RegExp(Le,"g"),nt=RegExp(ze+"(?="+ze+")|"+Je+Xe,"g"),rt=RegExp([Ve+"?"+Ie+"+"+Ye+"(?="+[Me,Ve,"$"].join("|")+")",We+"+"+Ke+"(?="+[Me,Ve+He,"$"].join("|")+")",Ve+"?"+He+"+"+Ye,Ve+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Ze].join("|"),"g"),st=RegExp("["+$e+ke+Se+Te+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,lt={};lt[R]=lt[I]=lt[F]=lt[z]=lt[B]=lt[q]=lt[U]=lt[V]=lt[$]=!0,lt[y]=lt[v]=lt[L]=lt[b]=lt[O]=lt[w]=lt[j]=lt[N]=lt[S]=lt[_]=lt[C]=lt[T]=lt[D]=lt[A]=lt[M]=!1;var ct={};ct[y]=ct[v]=ct[L]=ct[O]=ct[b]=ct[w]=ct[R]=ct[I]=ct[F]=ct[z]=ct[B]=ct[S]=ct[_]=ct[C]=ct[T]=ct[D]=ct[A]=ct[P]=ct[q]=ct[U]=ct[V]=ct[$]=!0,ct[j]=ct[N]=ct[M]=!1;var dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,ht=parseInt,mt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,ft=mt||pt||Function("return this")(),gt=t&&!t.nodeType&&t,xt=gt&&e&&!e.nodeType&&e,yt=xt&&xt.exports===gt,vt=yt&&mt.process,bt=function(){try{var e=xt&&xt.require&&xt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),wt=bt&&bt.isArrayBuffer,jt=bt&&bt.isDate,Nt=bt&&bt.isMap,kt=bt&&bt.isRegExp,St=bt&&bt.isSet,_t=bt&&bt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var s=-1,i=null==e?0:e.length;++s<i;){var a=e[s];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,s=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[s++]=a)}return i}function Mt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Lt(e,t,n){for(var r=-1,s=null==e?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}function Rt(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}function It(e,t,n,r){var s=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++s]);++s<i;)n=t(n,e[s],s,e);return n}function Ft(e,t,n,r){var s=null==e?0:e.length;for(r&&s&&(n=e[--s]);s--;)n=t(n,e[s],s,e);return n}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Yt("length");function qt(e,t,n){var r;return n(e,(function(e,n,s){if(t(e,n,s))return r=n,!1})),r}function Ut(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}function Vt(e,t,n){return t===t?function(e,t,n){var r=n-1,s=e.length;for(;++r<s;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Ht,n)}function $t(e,t,n,r){for(var s=n-1,i=e.length;++s<i;)if(r(e[s],t))return s;return-1}function Ht(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:f}function Yt(e){return function(t){return null==t?s:t[e]}}function Kt(e){return function(t){return null==e?s:e[t]}}function Gt(e,t,n,r,s){return s(e,(function(e,s,i){n=r?(r=!1,e):t(n,e,s,i)})),n}function Qt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==s&&(n=n===s?a:n+a)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Ot(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var sn=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+dt[e]}function ln(e){return st.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function dn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,s=0,i=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,i[s++]=n)}return i}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function mn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function fn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var xn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?ft:yn.defaults(ft.Object(),t,yn.pick(ft,at))).Array,r=t.Date,oe=t.Error,ke=t.Function,Se=t.Math,_e=t.Object,Ce=t.RegExp,Ee=t.String,Te=t.TypeError,De=n.prototype,Ae=ke.prototype,Pe=_e.prototype,Me=t["__core-js_shared__"],Le=Ae.toString,Oe=Pe.hasOwnProperty,Re=0,Ie=function(){var e=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Pe.toString,ze=Le.call(_e),Be=ft._,qe=Ce("^"+Le.call(Oe).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=yt?t.Buffer:s,Ve=t.Symbol,$e=t.Uint8Array,He=Ue?Ue.allocUnsafe:s,We=dn(_e.getPrototypeOf,_e),Ye=_e.create,Ke=Pe.propertyIsEnumerable,Ge=De.splice,Qe=Ve?Ve.isConcatSpreadable:s,Xe=Ve?Ve.iterator:s,Ze=Ve?Ve.toStringTag:s,Je=function(){try{var e=ui(_e,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,st=r&&r.now!==ft.Date.now&&r.now,dt=t.setTimeout!==ft.setTimeout&&t.setTimeout,mt=Se.ceil,pt=Se.floor,gt=_e.getOwnPropertySymbols,xt=Ue?Ue.isBuffer:s,vt=t.isFinite,bt=De.join,Bt=dn(_e.keys,_e),Kt=Se.max,vn=Se.min,bn=r.now,wn=t.parseInt,jn=Se.random,Nn=De.reverse,kn=ui(t,"DataView"),Sn=ui(t,"Map"),_n=ui(t,"Promise"),Cn=ui(t,"Set"),En=ui(t,"WeakMap"),Tn=ui(_e,"create"),Dn=En&&new En,An={},Pn=Ii(kn),Mn=Ii(Sn),Ln=Ii(_n),On=Ii(Cn),Rn=Ii(En),In=Ve?Ve.prototype:s,Fn=In?In.valueOf:s,zn=In?In.toString:s;function Bn(e){if(eo(e)&&!Va(e)&&!(e instanceof $n)){if(e instanceof Vn)return e;if(Oe.call(e,"__wrapped__"))return Fi(e)}return new Vn(e)}var qn=function(){function e(){}return function(t){if(!Ja(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=s,n}}();function Un(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=s}function $n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Qn(e,t){var n=Va(e),r=!n&&Ua(e),s=!n&&!r&&Ya(e),i=!n&&!r&&!s&&lo(e),a=n||r||s||i,o=a?Xt(e.length,Ee):[],l=o.length;for(var c in e)!t&&!Oe.call(e,c)||a&&("length"==c||s&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yi(c,l))||o.push(c);return o}function Xn(e){var t=e.length;return t?e[Kr(0,t-1)]:s}function Zn(e,t){return Li(Ts(e),or(t,0,e.length))}function Jn(e){return Li(Ts(e))}function er(e,t,n){(n!==s&&!za(e[t],n)||n===s&&!(t in e))&&ir(e,t,n)}function tr(e,t,n){var r=e[t];Oe.call(e,t)&&za(r,n)&&(n!==s||t in e)||ir(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(za(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,s,i){t(r,e,n(e),i)})),r}function sr(e,t){return e&&Ds(t,Ao(t),e)}function ir(e,t,n){"__proto__"==t&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,i=t.length,a=n(i),o=null==e;++r<i;)a[r]=o?s:_o(e,t[r]);return a}function or(e,t,n){return e===e&&(n!==s&&(e=e<=n?e:n),t!==s&&(e=e>=t?e:t)),e}function lr(e,t,n,r,i,a){var o,l=1&t,c=2&t,d=4&t;if(n&&(o=i?n(e,r,i,a):n(e)),o!==s)return o;if(!Ja(e))return e;var u=Va(e);if(u){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Oe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ts(e,o)}else{var h=pi(e),m=h==N||h==k;if(Ya(e))return Ns(e,l);if(h==C||h==y||m&&!i){if(o=c||m?{}:gi(e),!l)return c?function(e,t){return Ds(e,mi(e),t)}(e,function(e,t){return e&&Ds(t,Po(t),e)}(o,e)):function(e,t){return Ds(e,hi(e),t)}(e,sr(o,e))}else{if(!ct[h])return i?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case L:return ks(e);case b:case w:return new r(+e);case O:return function(e,t){var n=t?ks(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case I:case F:case z:case B:case q:case U:case V:case $:return Ss(e,n);case S:return new r;case _:case A:return new r(e);case T:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return new r;case P:return s=e,Fn?_e(Fn.call(s)):{}}var s}(e,h,l)}}a||(a=new Gn);var p=a.get(e);if(p)return p;a.set(e,o),io(e)?e.forEach((function(r){o.add(lr(r,t,n,r,e,a))})):to(e)&&e.forEach((function(r,s){o.set(s,lr(r,t,n,s,e,a))}));var f=u?s:(d?c?si:ri:c?Po:Ao)(e);return Tt(f||e,(function(r,s){f&&(r=e[s=r]),tr(o,s,lr(r,t,n,s,e,a))})),o}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=_e(e);r--;){var i=n[r],a=t[i],o=e[i];if(o===s&&!(i in e)||!a(o))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Te(i);return Di((function(){e.apply(s,n)}),t)}function ur(e,t,n,r){var s=-1,i=Mt,a=!0,o=e.length,l=[],c=t.length;if(!o)return l;n&&(t=Ot(t,Jt(n))),r?(i=Lt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Kn(t));e:for(;++s<o;){var d=e[s],u=null==n?d:n(d);if(d=r||0!==d?d:0,a&&u===u){for(var h=c;h--;)if(t[h]===u)continue e;l.push(d)}else i(t,u,r)||l.push(d)}return l}Bn.templateSettings={escape:Z,evaluate:J,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Un.prototype,Bn.prototype.constructor=Bn,Vn.prototype=qn(Un.prototype),Vn.prototype.constructor=Vn,$n.prototype=qn(Un.prototype),$n.prototype.constructor=$n,Hn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Tn){var n=t[e];return n===a?s:n}return Oe.call(t,e)?t[e]:s},Hn.prototype.has=function(e){var t=this.__data__;return Tn?t[e]!==s:Oe.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tn&&t===s?a:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?s:t[n][1]},Wn.prototype.has=function(e){return nr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Sn||Wn),string:new Hn}},Yn.prototype.delete=function(e){var t=ci(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return ci(this,e).get(e)},Yn.prototype.has=function(e){return ci(this,e).has(e)},Yn.prototype.set=function(e,t){var n=ci(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,a),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ms(br),mr=Ms(wr,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,s){return n=!!t(e,r,s)})),n}function fr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(l===s?o===o&&!oo(o):n(o,l)))var l=o,c=a}return c}function gr(e,t){var n=[];return hr(e,(function(e,r,s){t(e,r,s)&&n.push(e)})),n}function xr(e,t,n,r,s){var i=-1,a=e.length;for(n||(n=xi),s||(s=[]);++i<a;){var o=e[i];t>0&&n(o)?t>1?xr(o,t-1,n,r,s):Rt(s,o):r||(s[s.length]=o)}return s}var yr=Ls(),vr=Ls(!0);function br(e,t){return e&&yr(e,t,Ao)}function wr(e,t){return e&&vr(e,t,Ao)}function jr(e,t){return Pt(t,(function(t){return Qa(e[t])}))}function Nr(e,t){for(var n=0,r=(t=vs(t,e)).length;null!=e&&n<r;)e=e[Ri(t[n++])];return n&&n==r?e:s}function kr(e,t,n){var r=t(e);return Va(e)?r:Rt(r,n(e))}function Sr(e){return null==e?e===s?"[object Undefined]":"[object Null]":Ze&&Ze in _e(e)?function(e){var t=Oe.call(e,Ze),n=e[Ze];try{e[Ze]=s;var r=!0}catch(a){}var i=Fe.call(e);r&&(t?e[Ze]=n:delete e[Ze]);return i}(e):function(e){return Fe.call(e)}(e)}function _r(e,t){return e>t}function Cr(e,t){return null!=e&&Oe.call(e,t)}function Er(e,t){return null!=e&&t in _e(e)}function Tr(e,t,r){for(var i=r?Lt:Mt,a=e[0].length,o=e.length,l=o,c=n(o),d=1/0,u=[];l--;){var h=e[l];l&&t&&(h=Ot(h,Jt(t))),d=vn(h.length,d),c[l]=!r&&(t||a>=120&&h.length>=120)?new Kn(l&&h):s}h=e[0];var m=-1,p=c[0];e:for(;++m<a&&u.length<d;){var f=h[m],g=t?t(f):f;if(f=r||0!==f?f:0,!(p?tn(p,g):i(u,g,r))){for(l=o;--l;){var x=c[l];if(!(x?tn(x,g):i(e[l],g,r)))continue e}p&&p.push(g),u.push(f)}}return u}function Dr(e,t,n){var r=null==(e=Ci(e,t=vs(t,e)))?e:e[Ri(Gi(t))];return null==r?s:Ct(r,e,n)}function Ar(e){return eo(e)&&Sr(e)==y}function Pr(e,t,n,r,i){return e===t||(null==e||null==t||!eo(e)&&!eo(t)?e!==e&&t!==t:function(e,t,n,r,i,a){var o=Va(e),l=Va(t),c=o?v:pi(e),d=l?v:pi(t),u=(c=c==y?C:c)==C,h=(d=d==y?C:d)==C,m=c==d;if(m&&Ya(e)){if(!Ya(t))return!1;o=!0,u=!1}if(m&&!u)return a||(a=new Gn),o||lo(e)?ti(e,t,n,r,i,a):function(e,t,n,r,s,i,a){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L:return!(e.byteLength!=t.byteLength||!i(new $e(e),new $e(t)));case b:case w:case _:return za(+e,+t);case j:return e.name==t.name&&e.message==t.message;case T:case A:return e==t+"";case S:var o=cn;case D:var l=1&r;if(o||(o=hn),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var d=ti(o(e),o(t),r,s,i,a);return a.delete(e),d;case P:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,c,n,r,i,a);if(!(1&n)){var p=u&&Oe.call(e,"__wrapped__"),f=h&&Oe.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,x=f?t.value():t;return a||(a=new Gn),i(g,x,n,r,a)}}if(!m)return!1;return a||(a=new Gn),function(e,t,n,r,i,a){var o=1&n,l=ri(e),c=l.length,d=ri(t),u=d.length;if(c!=u&&!o)return!1;var h=c;for(;h--;){var m=l[h];if(!(o?m in t:Oe.call(t,m)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var g=!0;a.set(e,t),a.set(t,e);var x=o;for(;++h<c;){var y=e[m=l[h]],v=t[m];if(r)var b=o?r(v,y,m,t,e,a):r(y,v,m,e,t,a);if(!(b===s?y===v||i(y,v,n,r,a):b)){g=!1;break}x||(x="constructor"==m)}if(g&&!x){var w=e.constructor,j=t.constructor;w==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof j&&j instanceof j||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,i,a)}(e,t,n,r,Pr,i))}function Mr(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=_e(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){var c=(l=n[i])[0],d=e[c],u=l[1];if(o&&l[2]){if(d===s&&!(c in e))return!1}else{var h=new Gn;if(r)var m=r(d,u,c,e,t,h);if(!(m===s?Pr(u,d,3,r,h):m))return!1}}return!0}function Lr(e){return!(!Ja(e)||(t=e,Ie&&Ie in t))&&(Qa(e)?qe:ye).test(Ii(e));var t}function Or(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Va(e)?qr(e[0],e[1]):Br(e):hl(e)}function Rr(e){if(!Ni(e))return Bt(e);var t=[];for(var n in _e(e))Oe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ir(e){if(!Ja(e))return function(e){var t=[];if(null!=e)for(var n in _e(e))t.push(n);return t}(e);var t=Ni(e),n=[];for(var r in e)("constructor"!=r||!t&&Oe.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function zr(e,t){var r=-1,s=Ha(e)?n(e.length):[];return hr(e,(function(e,n,i){s[++r]=t(e,n,i)})),s}function Br(e){var t=di(e);return 1==t.length&&t[0][2]?Si(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function qr(e,t){return bi(e)&&ki(t)?Si(Ri(e),t):function(n){var r=_o(n,e);return r===s&&r===t?Co(n,e):Pr(t,r,3)}}function Ur(e,t,n,r,i){e!==t&&yr(t,(function(a,o){if(i||(i=new Gn),Ja(a))!function(e,t,n,r,i,a,o){var l=Ei(e,n),c=Ei(t,n),d=o.get(c);if(d)return void er(e,n,d);var u=a?a(l,c,n+"",e,t,o):s,h=u===s;if(h){var m=Va(c),p=!m&&Ya(c),f=!m&&!p&&lo(c);u=c,m||p||f?Va(l)?u=l:Wa(l)?u=Ts(l):p?(h=!1,u=Ns(c,!0)):f?(h=!1,u=Ss(c,!0)):u=[]:ro(c)||Ua(c)?(u=l,Ua(l)?u=xo(l):Ja(l)&&!Qa(l)||(u=gi(c))):h=!1}h&&(o.set(c,u),i(u,c,r,a,o),o.delete(c));er(e,n,u)}(e,t,o,n,Ur,r,i);else{var l=r?r(Ei(e,o),a,o+"",e,t,i):s;l===s&&(l=a),er(e,o,l)}}),Po)}function Vr(e,t){var n=e.length;if(n)return yi(t+=t<0?n:0,n)?e[t]:s}function $r(e,t,n){t=t.length?Ot(t,(function(e){return Va(e)?function(t){return Nr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Ot(t,Jt(li()));var s=zr(e,(function(e,n,s){var i=Ot(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(s,(function(e,t){return function(e,t,n){var r=-1,s=e.criteria,i=t.criteria,a=s.length,o=n.length;for(;++r<a;){var l=_s(s[r],i[r]);if(l)return r>=o?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,s=t.length,i={};++r<s;){var a=t[r],o=Nr(e,a);n(o,a)&&Jr(i,vs(a,e),o)}return i}function Wr(e,t,n,r){var s=r?$t:Vt,i=-1,a=t.length,o=e;for(e===t&&(t=Ts(t)),n&&(o=Ot(e,Jt(n)));++i<a;)for(var l=0,c=t[i],d=n?n(c):c;(l=s(o,d,l,r))>-1;)o!==e&&Ge.call(o,l,1),Ge.call(e,l,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var s=t[n];if(n==r||s!==i){var i=s;yi(s)?Ge.call(e,s,1):us(e,s)}}return e}function Kr(e,t){return e+pt(jn()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Ai(_i(e,t,rl),e+"")}function Xr(e){return Xn(Bo(e))}function Zr(e,t){var n=Bo(e);return Li(n,or(t,0,n.length))}function Jr(e,t,n,r){if(!Ja(e))return e;for(var i=-1,a=(t=vs(t,e)).length,o=a-1,l=e;null!=l&&++i<a;){var c=Ri(t[i]),d=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=o){var u=l[c];(d=r?r(u,c,l):s)===s&&(d=Ja(u)?u:yi(t[i+1])?[]:{})}tr(l,c,d),l=l[c]}return e}var es=Dn?function(e,t){return Dn.set(e,t),e}:rl,ts=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ns(e){return Li(Bo(e))}function rs(e,t,r){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=n(i);++s<i;)a[s]=e[s+t];return a}function ss(e,t){var n;return hr(e,(function(e,r,s){return!(n=t(e,r,s))})),!!n}function is(e,t,n){var r=0,s=null==e?r:e.length;if("number"==typeof t&&t===t&&s<=2147483647){for(;r<s;){var i=r+s>>>1,a=e[i];null!==a&&!oo(a)&&(n?a<=t:a<t)?r=i+1:s=i}return s}return as(e,t,rl,n)}function as(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=n(t))!==t,l=null===t,c=oo(t),d=t===s;i<a;){var u=pt((i+a)/2),h=n(e[u]),m=h!==s,p=null===h,f=h===h,g=oo(h);if(o)var x=r||f;else x=d?f&&(r||m):l?f&&m&&(r||!p):c?f&&m&&!p&&(r||!g):!p&&!g&&(r?h<=t:h<t);x?i=u+1:a=u}return vn(a,4294967294)}function os(e,t){for(var n=-1,r=e.length,s=0,i=[];++n<r;){var a=e[n],o=t?t(a):a;if(!n||!za(o,l)){var l=o;i[s++]=0===a?0:a}}return i}function ls(e){return"number"==typeof e?e:oo(e)?f:+e}function cs(e){if("string"==typeof e)return e;if(Va(e))return Ot(e,cs)+"";if(oo(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ds(e,t,n){var r=-1,s=Mt,i=e.length,a=!0,o=[],l=o;if(n)a=!1,s=Lt;else if(i>=200){var c=t?null:Gs(e);if(c)return hn(c);a=!1,s=tn,l=new Kn}else l=t?[]:o;e:for(;++r<i;){var d=e[r],u=t?t(d):d;if(d=n||0!==d?d:0,a&&u===u){for(var h=l.length;h--;)if(l[h]===u)continue e;t&&l.push(u),o.push(d)}else s(l,u,n)||(l!==o&&l.push(u),o.push(d))}return o}function us(e,t){return null==(e=Ci(e,t=vs(t,e)))||delete e[Ri(Gi(t))]}function hs(e,t,n,r){return Jr(e,t,n(Nr(e,t)),r)}function ms(e,t,n,r){for(var s=e.length,i=r?s:-1;(r?i--:++i<s)&&t(e[i],i,e););return n?rs(e,r?0:i,r?i+1:s):rs(e,r?i+1:0,r?s:i)}function ps(e,t){var n=e;return n instanceof $n&&(n=n.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function fs(e,t,r){var s=e.length;if(s<2)return s?ds(e[0]):[];for(var i=-1,a=n(s);++i<s;)for(var o=e[i],l=-1;++l<s;)l!=i&&(a[i]=ur(a[i]||o,e[l],t,r));return ds(xr(a,1),t,r)}function gs(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;){var l=r<a?t[r]:s;n(o,e[r],l)}return o}function xs(e){return Wa(e)?e:[]}function ys(e){return"function"==typeof e?e:rl}function vs(e,t){return Va(e)?e:bi(e,t)?[e]:Oi(yo(e))}var bs=Qr;function ws(e,t,n){var r=e.length;return n=n===s?r:n,!t&&n>=r?e:rs(e,t,n)}var js=nt||function(e){return ft.clearTimeout(e)};function Ns(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function ks(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function Ss(e,t){var n=t?ks(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _s(e,t){if(e!==t){var n=e!==s,r=null===e,i=e===e,a=oo(e),o=t!==s,l=null===t,c=t===t,d=oo(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!d&&e<t||d&&n&&i&&!r&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}function Cs(e,t,r,s){for(var i=-1,a=e.length,o=r.length,l=-1,c=t.length,d=Kt(a-o,0),u=n(c+d),h=!s;++l<c;)u[l]=t[l];for(;++i<o;)(h||i<a)&&(u[r[i]]=e[i]);for(;d--;)u[l++]=e[i++];return u}function Es(e,t,r,s){for(var i=-1,a=e.length,o=-1,l=r.length,c=-1,d=t.length,u=Kt(a-l,0),h=n(u+d),m=!s;++i<u;)h[i]=e[i];for(var p=i;++c<d;)h[p+c]=t[c];for(;++o<l;)(m||i<a)&&(h[p+r[o]]=e[i++]);return h}function Ts(e,t){var r=-1,s=e.length;for(t||(t=n(s));++r<s;)t[r]=e[r];return t}function Ds(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var l=t[a],c=r?r(n[l],e[l],l,n,e):s;c===s&&(c=e[l]),i?ir(n,l,c):tr(n,l,c)}return n}function As(e,t){return function(n,r){var s=Va(n)?Et:rr,i=t?t():{};return s(n,e,li(r,2),i)}}function Ps(e){return Qr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:s,o=i>2?n[2]:s;for(a=e.length>3&&"function"==typeof a?(i--,a):s,o&&vi(n[0],n[1],o)&&(a=i<3?s:a,i=1),t=_e(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}function Ms(e,t){return function(n,r){if(null==n)return n;if(!Ha(n))return e(n,r);for(var s=n.length,i=t?s:-1,a=_e(n);(t?i--:++i<s)&&!1!==r(a[i],i,a););return n}}function Ls(e){return function(t,n,r){for(var s=-1,i=_e(t),a=r(t),o=a.length;o--;){var l=a[e?o:++s];if(!1===n(i[l],l,i))break}return t}}function Os(e){return function(t){var n=ln(t=yo(t))?fn(t):s,r=n?n[0]:t.charAt(0),i=n?ws(n,1).join(""):t.slice(1);return r[e]()+i}}function Rs(e){return function(t){return It(Xo(Vo(t).replace(et,"")),e,"")}}function Is(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qn(e.prototype),r=e.apply(n,t);return Ja(r)?r:n}}function Fs(e){return function(t,n,r){var i=_e(t);if(!Ha(t)){var a=li(n,3);t=Ao(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:s}}function zs(e){return ni((function(t){var n=t.length,r=n,a=Vn.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new Te(i);if(a&&!l&&"wrapper"==ai(o))var l=new Vn([],!0)}for(r=l?r:n;++r<n;){var c=ai(o=t[r]),d="wrapper"==c?ii(o):s;l=d&&wi(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?l[ai(d[0])].apply(l,d[3]):1==o.length&&wi(o)?l[c]():l.thru(o)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Va(r))return l.plant(r).value();for(var s=0,i=n?t[s].apply(this,e):r;++s<n;)i=t[s].call(this,i);return i}}))}function Bs(e,t,r,i,a,o,l,c,d,h){var m=t&u,p=1&t,f=2&t,g=24&t,x=512&t,y=f?s:Is(e);return function u(){for(var v=arguments.length,b=n(v),w=v;w--;)b[w]=arguments[w];if(g)var j=oi(u),N=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,j);if(i&&(b=Cs(b,i,a,g)),o&&(b=Es(b,o,l,g)),v-=N,g&&v<h){var k=un(b,j);return Ys(e,t,Bs,u.placeholder,r,b,k,c,d,h-v)}var S=p?r:this,_=f?S[e]:e;return v=b.length,c?b=function(e,t){var n=e.length,r=vn(t.length,n),i=Ts(e);for(;r--;){var a=t[r];e[r]=yi(a,n)?i[a]:s}return e}(b,c):x&&v>1&&b.reverse(),m&&d<v&&(b.length=d),this&&this!==ft&&this instanceof u&&(_=y||Is(_)),_.apply(S,b)}}function qs(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,s,i){t(r,n(e),s,i)})),r}(n,e,t(r),{})}}function Us(e,t){return function(n,r){var i;if(n===s&&r===s)return t;if(n!==s&&(i=n),r!==s){if(i===s)return r;"string"==typeof n||"string"==typeof r?(n=cs(n),r=cs(r)):(n=ls(n),r=ls(r)),i=e(n,r)}return i}}function Vs(e){return ni((function(t){return t=Ot(t,Jt(li())),Qr((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function $s(e,t){var n=(t=t===s?" ":cs(t)).length;if(n<2)return n?Gr(t,e):t;var r=Gr(t,mt(e/pn(t)));return ln(t)?ws(fn(r),0,e).join(""):r.slice(0,e)}function Hs(e){return function(t,r,i){return i&&"number"!=typeof i&&vi(t,r,i)&&(r=i=s),t=mo(t),r===s?(r=t,t=0):r=mo(r),function(e,t,r,s){for(var i=-1,a=Kt(mt((t-e)/(r||1)),0),o=n(a);a--;)o[s?a:++i]=e,e+=r;return o}(t,r,i=i===s?t<r?1:-1:mo(i),e)}}function Ws(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=go(t),n=go(n)),e(t,n)}}function Ys(e,t,n,r,i,a,o,l,u,h){var m=8&t;t|=m?c:d,4&(t&=~(m?d:c))||(t&=-4);var p=[e,t,i,m?a:s,m?o:s,m?s:a,m?s:o,l,u,h],f=n.apply(s,p);return wi(e)&&Ti(f,p),f.placeholder=r,Pi(f,e,t)}function Ks(e){var t=Se[e];return function(e,n){if(e=go(e),(n=null==n?0:vn(po(n),292))&&vt(e)){var r=(yo(e)+"e").split("e");return+((r=(yo(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Gs=Cn&&1/hn(new Cn([,-0]))[1]==m?function(e){return new Cn(e)}:ll;function Qs(e){return function(t){var n=pi(t);return n==S?cn(t):n==D?mn(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xs(e,t,r,a,m,p,f,g){var x=2&t;if(!x&&"function"!=typeof e)throw new Te(i);var y=a?a.length:0;if(y||(t&=-97,a=m=s),f=f===s?f:Kt(po(f),0),g=g===s?g:po(g),y-=m?m.length:0,t&d){var v=a,b=m;a=m=s}var w=x?s:ii(e),j=[e,t,r,a,m,v,b,p,f,g];if(w&&function(e,t){var n=e[1],r=t[1],s=n|r,i=s<131,a=r==u&&8==n||r==u&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],s|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Cs(c,l,t[4]):l,e[4]=c?un(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Es(c,l,t[6]):l,e[6]=c?un(e[5],o):t[6]);(l=t[7])&&(e[7]=l);r&u&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=s}(j,w),e=j[0],t=j[1],r=j[2],a=j[3],m=j[4],!(g=j[9]=j[9]===s?x?0:e.length:Kt(j[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)N=8==t||t==l?function(e,t,r){var i=Is(e);return function a(){for(var o=arguments.length,l=n(o),c=o,d=oi(a);c--;)l[c]=arguments[c];var u=o<3&&l[0]!==d&&l[o-1]!==d?[]:un(l,d);return(o-=u.length)<r?Ys(e,t,Bs,a.placeholder,s,l,u,s,s,r-o):Ct(this&&this!==ft&&this instanceof a?i:e,this,l)}}(e,t,g):t!=c&&33!=t||m.length?Bs.apply(s,j):function(e,t,r,s){var i=1&t,a=Is(e);return function t(){for(var o=-1,l=arguments.length,c=-1,d=s.length,u=n(d+l),h=this&&this!==ft&&this instanceof t?a:e;++c<d;)u[c]=s[c];for(;l--;)u[c++]=arguments[++o];return Ct(h,i?r:this,u)}}(e,t,r,a);else var N=function(e,t,n){var r=1&t,s=Is(e);return function t(){return(this&&this!==ft&&this instanceof t?s:e).apply(r?n:this,arguments)}}(e,t,r);return Pi((w?es:Ti)(N,j),e,t)}function Zs(e,t,n,r){return e===s||za(e,Pe[n])&&!Oe.call(r,n)?t:e}function Js(e,t,n,r,i,a){return Ja(e)&&Ja(t)&&(a.set(t,e),Ur(e,t,s,Js,a),a.delete(t)),e}function ei(e){return ro(e)?s:e}function ti(e,t,n,r,i,a){var o=1&n,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var h=-1,m=!0,p=2&n?new Kn:s;for(a.set(e,t),a.set(t,e);++h<l;){var f=e[h],g=t[h];if(r)var x=o?r(g,f,h,t,e,a):r(f,g,h,e,t,a);if(x!==s){if(x)continue;m=!1;break}if(p){if(!zt(t,(function(e,t){if(!tn(p,t)&&(f===e||i(f,e,n,r,a)))return p.push(t)}))){m=!1;break}}else if(f!==g&&!i(f,g,n,r,a)){m=!1;break}}return a.delete(e),a.delete(t),m}function ni(e){return Ai(_i(e,s,$i),e+"")}function ri(e){return kr(e,Ao,hi)}function si(e){return kr(e,Po,mi)}var ii=Dn?function(e){return Dn.get(e)}:ll;function ai(e){for(var t=e.name+"",n=An[t],r=Oe.call(An,t)?n.length:0;r--;){var s=n[r],i=s.func;if(null==i||i==e)return s.name}return t}function oi(e){return(Oe.call(Bn,"placeholder")?Bn:e).placeholder}function li(){var e=Bn.iteratee||sl;return e=e===sl?Or:e,arguments.length?e(arguments[0],arguments[1]):e}function ci(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function di(e){for(var t=Ao(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,ki(s)]}return t}function ui(e,t){var n=function(e,t){return null==e?s:e[t]}(e,t);return Lr(n)?n:s}var hi=gt?function(e){return null==e?[]:(e=_e(e),Pt(gt(e),(function(t){return Ke.call(e,t)})))}:fl,mi=gt?function(e){for(var t=[];e;)Rt(t,hi(e)),e=We(e);return t}:fl,pi=Sr;function fi(e,t,n){for(var r=-1,s=(t=vs(t,e)).length,i=!1;++r<s;){var a=Ri(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=s?i:!!(s=null==e?0:e.length)&&Za(s)&&yi(a,s)&&(Va(e)||Ua(e))}function gi(e){return"function"!=typeof e.constructor||Ni(e)?{}:qn(We(e))}function xi(e){return Va(e)||Ua(e)||!!(Qe&&e&&e[Qe])}function yi(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function vi(e,t,n){if(!Ja(n))return!1;var r=typeof t;return!!("number"==r?Ha(n)&&yi(t,n.length):"string"==r&&t in n)&&za(n[t],e)}function bi(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!oo(e))||(ne.test(e)||!te.test(e)||null!=t&&e in _e(t))}function wi(e){var t=ai(e),n=Bn[t];if("function"!=typeof n||!(t in $n.prototype))return!1;if(e===n)return!0;var r=ii(n);return!!r&&e===r[0]}(kn&&pi(new kn(new ArrayBuffer(1)))!=O||Sn&&pi(new Sn)!=S||_n&&pi(_n.resolve())!=E||Cn&&pi(new Cn)!=D||En&&pi(new En)!=M)&&(pi=function(e){var t=Sr(e),n=t==C?e.constructor:s,r=n?Ii(n):"";if(r)switch(r){case Pn:return O;case Mn:return S;case Ln:return E;case On:return D;case Rn:return M}return t});var ji=Me?Qa:gl;function Ni(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function ki(e){return e===e&&!Ja(e)}function Si(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==s||e in _e(n)))}}function _i(e,t,r){return t=Kt(t===s?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=Kt(s.length-t,0),o=n(a);++i<a;)o[i]=s[t+i];i=-1;for(var l=n(t+1);++i<t;)l[i]=s[i];return l[t]=r(o),Ct(e,this,l)}}function Ci(e,t){return t.length<2?e:Nr(e,rs(t,0,-1))}function Ei(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ti=Mi(es),Di=dt||function(e,t){return ft.setTimeout(e,t)},Ai=Mi(ts);function Pi(e,t,n){var r=t+"";return Ai(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(x,(function(n){var r="_."+n[0];t&n[1]&&!Mt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(de):[]}(r),n)))}function Mi(e){var t=0,n=0;return function(){var r=bn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(s,arguments)}}function Li(e,t){var n=-1,r=e.length,i=r-1;for(t=t===s?r:t;++n<t;){var a=Kr(n,i),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var Oi=function(e){var t=Ma(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,s){t.push(r?s.replace(me,"$1"):n||e)})),t}));function Ri(e){if("string"==typeof e||oo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ii(e){if(null!=e){try{return Le.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fi(e){if(e instanceof $n)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Ts(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zi=Qr((function(e,t){return Wa(e)?ur(e,xr(t,1,Wa,!0)):[]})),Bi=Qr((function(e,t){var n=Gi(t);return Wa(n)&&(n=s),Wa(e)?ur(e,xr(t,1,Wa,!0),li(n,2)):[]})),qi=Qr((function(e,t){var n=Gi(t);return Wa(n)&&(n=s),Wa(e)?ur(e,xr(t,1,Wa,!0),s,n):[]}));function Ui(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:po(n);return s<0&&(s=Kt(r+s,0)),Ut(e,li(t,3),s)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==s&&(i=po(n),i=n<0?Kt(r+i,0):vn(i,r-1)),Ut(e,li(t,3),i,!0)}function $i(e){return(null==e?0:e.length)?xr(e,1):[]}function Hi(e){return e&&e.length?e[0]:s}var Wi=Qr((function(e){var t=Ot(e,xs);return t.length&&t[0]===e[0]?Tr(t):[]})),Yi=Qr((function(e){var t=Gi(e),n=Ot(e,xs);return t===Gi(n)?t=s:n.pop(),n.length&&n[0]===e[0]?Tr(n,li(t,2)):[]})),Ki=Qr((function(e){var t=Gi(e),n=Ot(e,xs);return(t="function"==typeof t?t:s)&&n.pop(),n.length&&n[0]===e[0]?Tr(n,s,t):[]}));function Gi(e){var t=null==e?0:e.length;return t?e[t-1]:s}var Qi=Qr(Xi);function Xi(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Zi=ni((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Yr(e,Ot(t,(function(e){return yi(e,n)?+e:e})).sort(_s)),r}));function Ji(e){return null==e?e:Nn.call(e)}var ea=Qr((function(e){return ds(xr(e,1,Wa,!0))})),ta=Qr((function(e){var t=Gi(e);return Wa(t)&&(t=s),ds(xr(e,1,Wa,!0),li(t,2))})),na=Qr((function(e){var t=Gi(e);return t="function"==typeof t?t:s,ds(xr(e,1,Wa,!0),s,t)}));function ra(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Wa(e))return t=Kt(e.length,t),!0})),Xt(t,(function(t){return Ot(e,Yt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=ra(e);return null==t?n:Ot(n,(function(e){return Ct(t,s,e)}))}var ia=Qr((function(e,t){return Wa(e)?ur(e,t):[]})),aa=Qr((function(e){return fs(Pt(e,Wa))})),oa=Qr((function(e){var t=Gi(e);return Wa(t)&&(t=s),fs(Pt(e,Wa),li(t,2))})),la=Qr((function(e){var t=Gi(e);return t="function"==typeof t?t:s,fs(Pt(e,Wa),s,t)})),ca=Qr(ra);var da=Qr((function(e){var t=e.length,n=t>1?e[t-1]:s;return n="function"==typeof n?(e.pop(),n):s,sa(e,n)}));function ua(e){var t=Bn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var ma=ni((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof $n&&yi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:s}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(s),e}))):this.thru(i)}));var pa=As((function(e,t,n){Oe.call(e,n)?++e[n]:ir(e,n,1)}));var fa=Fs(Ui),ga=Fs(Vi);function xa(e,t){return(Va(e)?Tt:hr)(e,li(t,3))}function ya(e,t){return(Va(e)?Dt:mr)(e,li(t,3))}var va=As((function(e,t,n){Oe.call(e,n)?e[n].push(t):ir(e,n,[t])}));var ba=Qr((function(e,t,r){var s=-1,i="function"==typeof t,a=Ha(e)?n(e.length):[];return hr(e,(function(e){a[++s]=i?Ct(t,e,r):Dr(e,t,r)})),a})),wa=As((function(e,t,n){ir(e,n,t)}));function ja(e,t){return(Va(e)?Ot:zr)(e,li(t,3))}var Na=As((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ka=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&vi(e,t[0],t[1])?t=[]:n>2&&vi(t[0],t[1],t[2])&&(t=[t[0]]),$r(e,xr(t,1),[])})),Sa=st||function(){return ft.Date.now()};function _a(e,t,n){return t=n?s:t,t=e&&null==t?e.length:t,Xs(e,u,s,s,s,s,t)}function Ca(e,t){var n;if("function"!=typeof t)throw new Te(i);return e=po(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=s),n}}var Ea=Qr((function(e,t,n){var r=1;if(n.length){var s=un(n,oi(Ea));r|=c}return Xs(e,r,t,n,s)})),Ta=Qr((function(e,t,n){var r=3;if(n.length){var s=un(n,oi(Ta));r|=c}return Xs(t,r,e,n,s)}));function Da(e,t,n){var r,a,o,l,c,d,u=0,h=!1,m=!1,p=!0;if("function"!=typeof e)throw new Te(i);function f(t){var n=r,i=a;return r=a=s,u=t,l=e.apply(i,n)}function g(e){var n=e-d;return d===s||n>=t||n<0||m&&e-u>=o}function x(){var e=Sa();if(g(e))return y(e);c=Di(x,function(e){var n=t-(e-d);return m?vn(n,o-(e-u)):n}(e))}function y(e){return c=s,p&&r?f(e):(r=a=s,l)}function v(){var e=Sa(),n=g(e);if(r=arguments,a=this,d=e,n){if(c===s)return function(e){return u=e,c=Di(x,t),h?f(e):l}(d);if(m)return js(c),c=Di(x,t),f(d)}return c===s&&(c=Di(x,t)),l}return t=go(t)||0,Ja(n)&&(h=!!n.leading,o=(m="maxWait"in n)?Kt(go(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),v.cancel=function(){c!==s&&js(c),u=0,r=d=a=c=s},v.flush=function(){return c===s?l:y(Sa())},v}var Aa=Qr((function(e,t){return dr(e,1,t)})),Pa=Qr((function(e,t,n){return dr(e,go(t)||0,n)}));function Ma(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(i);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=e.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(Ma.Cache||Yn),n}function La(e){if("function"!=typeof e)throw new Te(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ma.Cache=Yn;var Oa=bs((function(e,t){var n=(t=1==t.length&&Va(t[0])?Ot(t[0],Jt(li())):Ot(xr(t,1),Jt(li()))).length;return Qr((function(r){for(var s=-1,i=vn(r.length,n);++s<i;)r[s]=t[s].call(this,r[s]);return Ct(e,this,r)}))})),Ra=Qr((function(e,t){var n=un(t,oi(Ra));return Xs(e,c,s,t,n)})),Ia=Qr((function(e,t){var n=un(t,oi(Ia));return Xs(e,d,s,t,n)})),Fa=ni((function(e,t){return Xs(e,h,s,s,s,t)}));function za(e,t){return e===t||e!==e&&t!==t}var Ba=Ws(_r),qa=Ws((function(e,t){return e>=t})),Ua=Ar(function(){return arguments}())?Ar:function(e){return eo(e)&&Oe.call(e,"callee")&&!Ke.call(e,"callee")},Va=n.isArray,$a=wt?Jt(wt):function(e){return eo(e)&&Sr(e)==L};function Ha(e){return null!=e&&Za(e.length)&&!Qa(e)}function Wa(e){return eo(e)&&Ha(e)}var Ya=xt||gl,Ka=jt?Jt(jt):function(e){return eo(e)&&Sr(e)==w};function Ga(e){if(!eo(e))return!1;var t=Sr(e);return t==j||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ro(e)}function Qa(e){if(!Ja(e))return!1;var t=Sr(e);return t==N||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xa(e){return"number"==typeof e&&e==po(e)}function Za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function Ja(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eo(e){return null!=e&&"object"==typeof e}var to=Nt?Jt(Nt):function(e){return eo(e)&&pi(e)==S};function no(e){return"number"==typeof e||eo(e)&&Sr(e)==_}function ro(e){if(!eo(e)||Sr(e)!=C)return!1;var t=We(e);if(null===t)return!0;var n=Oe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==ze}var so=kt?Jt(kt):function(e){return eo(e)&&Sr(e)==T};var io=St?Jt(St):function(e){return eo(e)&&pi(e)==D};function ao(e){return"string"==typeof e||!Va(e)&&eo(e)&&Sr(e)==A}function oo(e){return"symbol"==typeof e||eo(e)&&Sr(e)==P}var lo=_t?Jt(_t):function(e){return eo(e)&&Za(e.length)&&!!lt[Sr(e)]};var co=Ws(Fr),uo=Ws((function(e,t){return e<=t}));function ho(e){if(!e)return[];if(Ha(e))return ao(e)?fn(e):Ts(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=pi(e);return(t==S?cn:t==D?hn:Bo)(e)}function mo(e){return e?(e=go(e))===m||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function po(e){var t=mo(e),n=t%1;return t===t?n?t-n:t:0}function fo(e){return e?or(po(e),0,g):0}function go(e){if("number"==typeof e)return e;if(oo(e))return f;if(Ja(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ja(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=xe.test(e);return n||ve.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?f:+e}function xo(e){return Ds(e,Po(e))}function yo(e){return null==e?"":cs(e)}var vo=Ps((function(e,t){if(Ni(t)||Ha(t))Ds(t,Ao(t),e);else for(var n in t)Oe.call(t,n)&&tr(e,n,t[n])})),bo=Ps((function(e,t){Ds(t,Po(t),e)})),wo=Ps((function(e,t,n,r){Ds(t,Po(t),e,r)})),jo=Ps((function(e,t,n,r){Ds(t,Ao(t),e,r)})),No=ni(ar);var ko=Qr((function(e,t){e=_e(e);var n=-1,r=t.length,i=r>2?t[2]:s;for(i&&vi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=Po(a),l=-1,c=o.length;++l<c;){var d=o[l],u=e[d];(u===s||za(u,Pe[d])&&!Oe.call(e,d))&&(e[d]=a[d])}return e})),So=Qr((function(e){return e.push(s,Js),Ct(Lo,s,e)}));function _o(e,t,n){var r=null==e?s:Nr(e,t);return r===s?n:r}function Co(e,t){return null!=e&&fi(e,t,Er)}var Eo=qs((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),el(rl)),To=qs((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Oe.call(e,t)?e[t].push(n):e[t]=[n]}),li),Do=Qr(Dr);function Ao(e){return Ha(e)?Qn(e):Rr(e)}function Po(e){return Ha(e)?Qn(e,!0):Ir(e)}var Mo=Ps((function(e,t,n){Ur(e,t,n)})),Lo=Ps((function(e,t,n,r){Ur(e,t,n,r)})),Oo=ni((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,(function(t){return t=vs(t,e),r||(r=t.length>1),t})),Ds(e,si(e),n),r&&(n=lr(n,7,ei));for(var s=t.length;s--;)us(n,t[s]);return n}));var Ro=ni((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Co(e,n)}))}(e,t)}));function Io(e,t){if(null==e)return{};var n=Ot(si(e),(function(e){return[e]}));return t=li(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Fo=Qs(Ao),zo=Qs(Po);function Bo(e){return null==e?[]:en(e,Ao(e))}var qo=Rs((function(e,t,n){return t=t.toLowerCase(),e+(n?Uo(t):t)}));function Uo(e){return Qo(yo(e).toLowerCase())}function Vo(e){return(e=yo(e))&&e.replace(we,sn).replace(tt,"")}var $o=Rs((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ho=Rs((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Wo=Os("toLowerCase");var Yo=Rs((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ko=Rs((function(e,t,n){return e+(n?" ":"")+Qo(t)}));var Go=Rs((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qo=Os("toUpperCase");function Xo(e,t,n){return e=yo(e),(t=n?s:t)===s?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Zo=Qr((function(e,t){try{return Ct(e,s,t)}catch(n){return Ga(n)?n:new oe(n)}})),Jo=ni((function(e,t){return Tt(t,(function(t){t=Ri(t),ir(e,t,Ea(e[t],e))})),e}));function el(e){return function(){return e}}var tl=zs(),nl=zs(!0);function rl(e){return e}function sl(e){return Or("function"==typeof e?e:lr(e,1))}var il=Qr((function(e,t){return function(n){return Dr(n,e,t)}})),al=Qr((function(e,t){return function(n){return Dr(e,n,t)}}));function ol(e,t,n){var r=Ao(t),s=jr(t,r);null!=n||Ja(t)&&(s.length||!r.length)||(n=t,t=e,e=this,s=jr(t,Ao(t)));var i=!(Ja(n)&&"chain"in n)||!!n.chain,a=Qa(e);return Tt(s,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Ts(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})})),e}function ll(){}var cl=Vs(Ot),dl=Vs(At),ul=Vs(zt);function hl(e){return bi(e)?Yt(Ri(e)):function(e){return function(t){return Nr(t,e)}}(e)}var ml=Hs(),pl=Hs(!0);function fl(){return[]}function gl(){return!1}var xl=Us((function(e,t){return e+t}),0),yl=Ks("ceil"),vl=Us((function(e,t){return e/t}),1),bl=Ks("floor");var wl=Us((function(e,t){return e*t}),1),jl=Ks("round"),Nl=Us((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Te(i);return e=po(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=_a,Bn.assign=vo,Bn.assignIn=bo,Bn.assignInWith=wo,Bn.assignWith=jo,Bn.at=No,Bn.before=Ca,Bn.bind=Ea,Bn.bindAll=Jo,Bn.bindKey=Ta,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Bn.chain=ua,Bn.chunk=function(e,t,r){t=(r?vi(e,t,r):t===s)?1:Kt(po(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,l=n(mt(i/t));a<i;)l[o++]=rs(e,a,a+=t);return l},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,s=[];++t<n;){var i=e[t];i&&(s[r++]=i)}return s},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],s=e;s--;)t[s-1]=arguments[s];return Rt(Va(r)?Ts(r):[r],xr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new Te(i);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var s=e[r];if(Ct(s[0],this,n))return Ct(s[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ao(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Bn.constant=el,Bn.countBy=pa,Bn.create=function(e,t){var n=qn(e);return null==t?n:sr(n,t)},Bn.curry=function e(t,n,r){var i=Xs(t,8,s,s,s,s,s,n=r?s:n);return i.placeholder=e.placeholder,i},Bn.curryRight=function e(t,n,r){var i=Xs(t,l,s,s,s,s,s,n=r?s:n);return i.placeholder=e.placeholder,i},Bn.debounce=Da,Bn.defaults=ko,Bn.defaultsDeep=So,Bn.defer=Aa,Bn.delay=Pa,Bn.difference=zi,Bn.differenceBy=Bi,Bn.differenceWith=qi,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?rs(e,(t=n||t===s?1:po(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?rs(e,0,(t=r-(t=n||t===s?1:po(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?ms(e,li(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?ms(e,li(t,3),!0):[]},Bn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&vi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=po(n))<0&&(n=-n>i?0:i+n),(r=r===s||r>i?i:po(r))<0&&(r+=i),r=n>r?0:fo(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Va(e)?Pt:gr)(e,li(t,3))},Bn.flatMap=function(e,t){return xr(ja(e,t),1)},Bn.flatMapDeep=function(e,t){return xr(ja(e,t),m)},Bn.flatMapDepth=function(e,t,n){return n=n===s?1:po(n),xr(ja(e,t),n)},Bn.flatten=$i,Bn.flattenDeep=function(e){return(null==e?0:e.length)?xr(e,m):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?xr(e,t=t===s?1:po(t)):[]},Bn.flip=function(e){return Xs(e,512)},Bn.flow=tl,Bn.flowRight=nl,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r},Bn.functions=function(e){return null==e?[]:jr(e,Ao(e))},Bn.functionsIn=function(e){return null==e?[]:jr(e,Po(e))},Bn.groupBy=va,Bn.initial=function(e){return(null==e?0:e.length)?rs(e,0,-1):[]},Bn.intersection=Wi,Bn.intersectionBy=Yi,Bn.intersectionWith=Ki,Bn.invert=Eo,Bn.invertBy=To,Bn.invokeMap=ba,Bn.iteratee=sl,Bn.keyBy=wa,Bn.keys=Ao,Bn.keysIn=Po,Bn.map=ja,Bn.mapKeys=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,s){ir(n,t(e,r,s),e)})),n},Bn.mapValues=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,s){ir(n,r,t(e,r,s))})),n},Bn.matches=function(e){return Br(lr(e,1))},Bn.matchesProperty=function(e,t){return qr(e,lr(t,1))},Bn.memoize=Ma,Bn.merge=Mo,Bn.mergeWith=Lo,Bn.method=il,Bn.methodOf=al,Bn.mixin=ol,Bn.negate=La,Bn.nthArg=function(e){return e=po(e),Qr((function(t){return Vr(t,e)}))},Bn.omit=Oo,Bn.omitBy=function(e,t){return Io(e,La(li(t)))},Bn.once=function(e){return Ca(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?s:n)||(n=null==n?[]:[n]),$r(e,t,n))},Bn.over=cl,Bn.overArgs=Oa,Bn.overEvery=dl,Bn.overSome=ul,Bn.partial=Ra,Bn.partialRight=Ia,Bn.partition=Na,Bn.pick=Ro,Bn.pickBy=Io,Bn.property=hl,Bn.propertyOf=function(e){return function(t){return null==e?s:Nr(e,t)}},Bn.pull=Qi,Bn.pullAll=Xi,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,li(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,s,n):e},Bn.pullAt=Zi,Bn.range=ml,Bn.rangeRight=pl,Bn.rearg=Fa,Bn.reject=function(e,t){return(Va(e)?Pt:gr)(e,La(li(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,s=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),s.push(r))}return Yr(e,s),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Te(i);return Qr(e,t=t===s?t:po(t))},Bn.reverse=Ji,Bn.sampleSize=function(e,t,n){return t=(n?vi(e,t,n):t===s)?1:po(t),(Va(e)?Zn:Zr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Jr(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:s,null==e?e:Jr(e,t,n,r)},Bn.shuffle=function(e){return(Va(e)?Jn:ns)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&vi(e,t,n)?(t=0,n=r):(t=null==t?0:po(t),n=n===s?r:po(n)),rs(e,t,n)):[]},Bn.sortBy=ka,Bn.sortedUniq=function(e){return e&&e.length?os(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?os(e,li(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&vi(e,t,n)&&(t=n=s),(n=n===s?g:n>>>0)?(e=yo(e))&&("string"==typeof t||null!=t&&!so(t))&&!(t=cs(t))&&ln(e)?ws(fn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Te(i);return t=null==t?0:Kt(po(t),0),Qr((function(n){var r=n[t],s=ws(n,0,t);return r&&Rt(s,r),Ct(e,this,s)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?rs(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?rs(e,0,(t=n||t===s?1:po(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?rs(e,(t=r-(t=n||t===s?1:po(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?ms(e,li(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?ms(e,li(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,s=!0;if("function"!=typeof e)throw new Te(i);return Ja(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Da(e,t,{leading:r,maxWait:t,trailing:s})},Bn.thru=ha,Bn.toArray=ho,Bn.toPairs=Fo,Bn.toPairsIn=zo,Bn.toPath=function(e){return Va(e)?Ot(e,Ri):oo(e)?[e]:Ts(Oi(yo(e)))},Bn.toPlainObject=xo,Bn.transform=function(e,t,n){var r=Va(e),s=r||Ya(e)||lo(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=s?r?new i:[]:Ja(e)&&Qa(i)?qn(We(e)):{}}return(s?Tt:br)(e,(function(e,r,s){return t(n,e,r,s)})),n},Bn.unary=function(e){return _a(e,1)},Bn.union=ea,Bn.unionBy=ta,Bn.unionWith=na,Bn.uniq=function(e){return e&&e.length?ds(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?ds(e,li(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:s,e&&e.length?ds(e,s,t):[]},Bn.unset=function(e,t){return null==e||us(e,t)},Bn.unzip=ra,Bn.unzipWith=sa,Bn.update=function(e,t,n){return null==e?e:hs(e,t,ys(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:s,null==e?e:hs(e,t,ys(n),r)},Bn.values=Bo,Bn.valuesIn=function(e){return null==e?[]:en(e,Po(e))},Bn.without=ia,Bn.words=Xo,Bn.wrap=function(e,t){return Ra(ys(t),e)},Bn.xor=aa,Bn.xorBy=oa,Bn.xorWith=la,Bn.zip=ca,Bn.zipObject=function(e,t){return gs(e||[],t||[],tr)},Bn.zipObjectDeep=function(e,t){return gs(e||[],t||[],Jr)},Bn.zipWith=da,Bn.entries=Fo,Bn.entriesIn=zo,Bn.extend=bo,Bn.extendWith=wo,ol(Bn,Bn),Bn.add=xl,Bn.attempt=Zo,Bn.camelCase=qo,Bn.capitalize=Uo,Bn.ceil=yl,Bn.clamp=function(e,t,n){return n===s&&(n=t,t=s),n!==s&&(n=(n=go(n))===n?n:0),t!==s&&(t=(t=go(t))===t?t:0),or(go(e),t,n)},Bn.clone=function(e){return lr(e,4)},Bn.cloneDeep=function(e){return lr(e,5)},Bn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:s)},Bn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:s)},Bn.conformsTo=function(e,t){return null==t||cr(e,t,Ao(t))},Bn.deburr=Vo,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=vl,Bn.endsWith=function(e,t,n){e=yo(e),t=cs(t);var r=e.length,i=n=n===s?r:or(po(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Bn.eq=za,Bn.escape=function(e){return(e=yo(e))&&X.test(e)?e.replace(G,an):e},Bn.escapeRegExp=function(e){return(e=yo(e))&&ie.test(e)?e.replace(se,"\\$&"):e},Bn.every=function(e,t,n){var r=Va(e)?At:pr;return n&&vi(e,t,n)&&(t=s),r(e,li(t,3))},Bn.find=fa,Bn.findIndex=Ui,Bn.findKey=function(e,t){return qt(e,li(t,3),br)},Bn.findLast=ga,Bn.findLastIndex=Vi,Bn.findLastKey=function(e,t){return qt(e,li(t,3),wr)},Bn.floor=bl,Bn.forEach=xa,Bn.forEachRight=ya,Bn.forIn=function(e,t){return null==e?e:yr(e,li(t,3),Po)},Bn.forInRight=function(e,t){return null==e?e:vr(e,li(t,3),Po)},Bn.forOwn=function(e,t){return e&&br(e,li(t,3))},Bn.forOwnRight=function(e,t){return e&&wr(e,li(t,3))},Bn.get=_o,Bn.gt=Ba,Bn.gte=qa,Bn.has=function(e,t){return null!=e&&fi(e,t,Cr)},Bn.hasIn=Co,Bn.head=Hi,Bn.identity=rl,Bn.includes=function(e,t,n,r){e=Ha(e)?e:Bo(e),n=n&&!r?po(n):0;var s=e.length;return n<0&&(n=Kt(s+n,0)),ao(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&Vt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:po(n);return s<0&&(s=Kt(r+s,0)),Vt(e,t,s)},Bn.inRange=function(e,t,n){return t=mo(t),n===s?(n=t,t=0):n=mo(n),function(e,t,n){return e>=vn(t,n)&&e<Kt(t,n)}(e=go(e),t,n)},Bn.invoke=Do,Bn.isArguments=Ua,Bn.isArray=Va,Bn.isArrayBuffer=$a,Bn.isArrayLike=Ha,Bn.isArrayLikeObject=Wa,Bn.isBoolean=function(e){return!0===e||!1===e||eo(e)&&Sr(e)==b},Bn.isBuffer=Ya,Bn.isDate=Ka,Bn.isElement=function(e){return eo(e)&&1===e.nodeType&&!ro(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ha(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||Ya(e)||lo(e)||Ua(e)))return!e.length;var t=pi(e);if(t==S||t==D)return!e.size;if(Ni(e))return!Rr(e).length;for(var n in e)if(Oe.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Pr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:s)?n(e,t):s;return r===s?Pr(e,t,s,n):!!r},Bn.isError=Ga,Bn.isFinite=function(e){return"number"==typeof e&&vt(e)},Bn.isFunction=Qa,Bn.isInteger=Xa,Bn.isLength=Za,Bn.isMap=to,Bn.isMatch=function(e,t){return e===t||Mr(e,t,di(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:s,Mr(e,t,di(t),n)},Bn.isNaN=function(e){return no(e)&&e!=+e},Bn.isNative=function(e){if(ji(e))throw new oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=no,Bn.isObject=Ja,Bn.isObjectLike=eo,Bn.isPlainObject=ro,Bn.isRegExp=so,Bn.isSafeInteger=function(e){return Xa(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=io,Bn.isString=ao,Bn.isSymbol=oo,Bn.isTypedArray=lo,Bn.isUndefined=function(e){return e===s},Bn.isWeakMap=function(e){return eo(e)&&pi(e)==M},Bn.isWeakSet=function(e){return eo(e)&&"[object WeakSet]"==Sr(e)},Bn.join=function(e,t){return null==e?"":bt.call(e,t)},Bn.kebabCase=$o,Bn.last=Gi,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==s&&(i=(i=po(n))<0?Kt(r+i,0):vn(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ut(e,Ht,i,!0)},Bn.lowerCase=Ho,Bn.lowerFirst=Wo,Bn.lt=co,Bn.lte=uo,Bn.max=function(e){return e&&e.length?fr(e,rl,_r):s},Bn.maxBy=function(e,t){return e&&e.length?fr(e,li(t,2),_r):s},Bn.mean=function(e){return Wt(e,rl)},Bn.meanBy=function(e,t){return Wt(e,li(t,2))},Bn.min=function(e){return e&&e.length?fr(e,rl,Fr):s},Bn.minBy=function(e,t){return e&&e.length?fr(e,li(t,2),Fr):s},Bn.stubArray=fl,Bn.stubFalse=gl,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=wl,Bn.nth=function(e,t){return e&&e.length?Vr(e,po(t)):s},Bn.noConflict=function(){return ft._===this&&(ft._=Be),this},Bn.noop=ll,Bn.now=Sa,Bn.pad=function(e,t,n){e=yo(e);var r=(t=po(t))?pn(e):0;if(!t||r>=t)return e;var s=(t-r)/2;return $s(pt(s),n)+e+$s(mt(s),n)},Bn.padEnd=function(e,t,n){e=yo(e);var r=(t=po(t))?pn(e):0;return t&&r<t?e+$s(t-r,n):e},Bn.padStart=function(e,t,n){e=yo(e);var r=(t=po(t))?pn(e):0;return t&&r<t?$s(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(yo(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&vi(e,t,n)&&(t=n=s),n===s&&("boolean"==typeof t?(n=t,t=s):"boolean"==typeof e&&(n=e,e=s)),e===s&&t===s?(e=0,t=1):(e=mo(e),t===s?(t=e,e=0):t=mo(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=jn();return vn(e+i*(t-e+ut("1e-"+((i+"").length-1))),t)}return Kr(e,t)},Bn.reduce=function(e,t,n){var r=Va(e)?It:Gt,s=arguments.length<3;return r(e,li(t,4),n,s,hr)},Bn.reduceRight=function(e,t,n){var r=Va(e)?Ft:Gt,s=arguments.length<3;return r(e,li(t,4),n,s,mr)},Bn.repeat=function(e,t,n){return t=(n?vi(e,t,n):t===s)?1:po(t),Gr(yo(e),t)},Bn.replace=function(){var e=arguments,t=yo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,i=(t=vs(t,e)).length;for(i||(i=1,e=s);++r<i;){var a=null==e?s:e[Ri(t[r])];a===s&&(r=i,a=n),e=Qa(a)?a.call(e):a}return e},Bn.round=jl,Bn.runInContext=e,Bn.sample=function(e){return(Va(e)?Xn:Xr)(e)},Bn.size=function(e){if(null==e)return 0;if(Ha(e))return ao(e)?pn(e):e.length;var t=pi(e);return t==S||t==D?e.size:Rr(e).length},Bn.snakeCase=Yo,Bn.some=function(e,t,n){var r=Va(e)?zt:ss;return n&&vi(e,t,n)&&(t=s),r(e,li(t,3))},Bn.sortedIndex=function(e,t){return is(e,t)},Bn.sortedIndexBy=function(e,t,n){return as(e,t,li(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=is(e,t);if(r<n&&za(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return is(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return as(e,t,li(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=is(e,t,!0)-1;if(za(e[n],t))return n}return-1},Bn.startCase=Ko,Bn.startsWith=function(e,t,n){return e=yo(e),n=null==n?0:or(po(n),0,e.length),t=cs(t),e.slice(n,n+t.length)==t},Bn.subtract=Nl,Bn.sum=function(e){return e&&e.length?Qt(e,rl):0},Bn.sumBy=function(e,t){return e&&e.length?Qt(e,li(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&vi(e,t,n)&&(t=s),e=yo(e),t=wo({},t,r,Zs);var i,a,o=wo({},t.imports,r.imports,Zs),l=Ao(o),c=en(o,l),d=0,u=t.interpolate||je,h="__p += '",m=Ce((t.escape||je).source+"|"+u.source+"|"+(u===ee?pe:je).source+"|"+(t.evaluate||je).source+"|$","g"),p="//# sourceURL="+(Oe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(m,(function(t,n,r,s,o,l){return r||(r=s),h+=e.slice(d,l).replace(Ne,on),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),o&&(a=!0,h+="';\n"+o+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=l+t.length,t})),h+="';\n";var f=Oe.call(t,"variable")&&t.variable;if(f){if(he.test(f))throw new oe("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(H,""):h).replace(W,"$1").replace(Y,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Zo((function(){return ke(l,p+"return "+h).apply(s,c)}));if(g.source=h,Ga(g))throw g;return g},Bn.times=function(e,t){if((e=po(e))<1||e>p)return[];var n=g,r=vn(e,g);t=li(t),e-=g;for(var s=Xt(r,t);++n<e;)t(n);return s},Bn.toFinite=mo,Bn.toInteger=po,Bn.toLength=fo,Bn.toLower=function(e){return yo(e).toLowerCase()},Bn.toNumber=go,Bn.toSafeInteger=function(e){return e?or(po(e),-9007199254740991,p):0===e?e:0},Bn.toString=yo,Bn.toUpper=function(e){return yo(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=yo(e))&&(n||t===s))return Zt(e);if(!e||!(t=cs(t)))return e;var r=fn(e),i=fn(t);return ws(r,nn(r,i),rn(r,i)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=yo(e))&&(n||t===s))return e.slice(0,gn(e)+1);if(!e||!(t=cs(t)))return e;var r=fn(e);return ws(r,0,rn(r,fn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=yo(e))&&(n||t===s))return e.replace(ae,"");if(!e||!(t=cs(t)))return e;var r=fn(e);return ws(r,nn(r,fn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(Ja(t)){var i="separator"in t?t.separator:i;n="length"in t?po(t.length):n,r="omission"in t?cs(t.omission):r}var a=(e=yo(e)).length;if(ln(e)){var o=fn(e);a=o.length}if(n>=a)return e;var l=n-pn(r);if(l<1)return r;var c=o?ws(o,0,l).join(""):e.slice(0,l);if(i===s)return c+r;if(o&&(l+=c.length-l),so(i)){if(e.slice(l).search(i)){var d,u=c;for(i.global||(i=Ce(i.source,yo(fe.exec(i))+"g")),i.lastIndex=0;d=i.exec(u);)var h=d.index;c=c.slice(0,h===s?l:h)}}else if(e.indexOf(cs(i),l)!=l){var m=c.lastIndexOf(i);m>-1&&(c=c.slice(0,m))}return c+r},Bn.unescape=function(e){return(e=yo(e))&&Q.test(e)?e.replace(K,xn):e},Bn.uniqueId=function(e){var t=++Re;return yo(e)+t},Bn.upperCase=Go,Bn.upperFirst=Qo,Bn.each=xa,Bn.eachRight=ya,Bn.first=Hi,ol(Bn,function(){var e={};return br(Bn,(function(t,n){Oe.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Tt(["drop","take"],(function(e,t){$n.prototype[e]=function(n){n=n===s?1:Kt(po(n),0);var r=this.__filtered__&&!t?new $n(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},$n.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;$n.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");$n.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");$n.prototype[e]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(rl)},$n.prototype.find=function(e){return this.filter(e).head()},$n.prototype.findLast=function(e){return this.reverse().find(e)},$n.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new $n(this):this.map((function(n){return Dr(n,e,t)}))})),$n.prototype.reject=function(e){return this.filter(La(li(e)))},$n.prototype.slice=function(e,t){e=po(e);var n=this;return n.__filtered__&&(e>0||t<0)?new $n(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==s&&(n=(t=po(t))<0?n.dropRight(-t):n.take(t-e)),n)},$n.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$n.prototype.toArray=function(){return this.take(g)},br($n.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Bn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Bn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,l=t instanceof $n,c=o[0],d=l||Va(t),u=function(e){var t=i.apply(Bn,Rt([e],o));return r&&h?t[0]:t};d&&n&&"function"==typeof c&&1!=c.length&&(l=d=!1);var h=this.__chain__,m=!!this.__actions__.length,p=a&&!h,f=l&&!m;if(!a&&d){t=f?t:new $n(this);var g=e.apply(t,o);return g.__actions__.push({func:ha,args:[u],thisArg:s}),new Vn(g,h)}return p&&f?e.apply(this,o):(g=this.thru(u),p?r?g.value()[0]:g.value():g)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var s=this.value();return t.apply(Va(s)?s:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),br($n.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Oe.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Bs(s,2).name]=[{name:"wrapper",func:s}],$n.prototype.clone=function(){var e=new $n(this.__wrapped__);return e.__actions__=Ts(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ts(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ts(this.__views__),e},$n.prototype.reverse=function(){if(this.__filtered__){var e=new $n(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$n.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,s=n?e.length:0,i=function(e,t,n){var r=-1,s=n.length;for(;++r<s;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vn(t,e+a);break;case"takeRight":e=Kt(e,t-a)}}return{start:e,end:t}}(0,s,this.__views__),a=i.start,o=i.end,l=o-a,c=r?o:a-1,d=this.__iteratees__,u=d.length,h=0,m=vn(l,this.__takeCount__);if(!n||!r&&s==l&&m==l)return ps(e,this.__actions__);var p=[];e:for(;l--&&h<m;){for(var f=-1,g=e[c+=t];++f<u;){var x=d[f],y=x.iteratee,v=x.type,b=y(g);if(2==v)g=b;else if(!b){if(1==v)continue e;break e}}p[h++]=g}return p},Bn.prototype.at=ma,Bn.prototype.chain=function(){return ua(this)},Bn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===s&&(this.__values__=ho(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?s:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=Fi(n);r.__index__=0,r.__values__=s,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $n){var t=e;return this.__actions__.length&&(t=new $n(this)),(t=t.reverse()).__actions__.push({func:ha,args:[Ji],thisArg:s}),new Vn(t,this.__chain__)}return this.thru(Ji)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return ps(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Xe&&(Bn.prototype[Xe]=function(){return this}),Bn}();ft._=yn,(r=function(){return yn}.call(t,n,t,e))===s||(e.exports=r)}.call(this)},551:e=>{var t=-1;function n(e,m,p,f,g){if(e===m)return e?[[0,e]]:[];if(null!=p){var y=function(e,t,n){var r="number"===typeof n?{index:n,length:0}:n.oldRange,s="number"===typeof n?null:n.newRange,i=e.length,a=t.length;if(0===r.length&&(null===s||0===s.length)){var o=r.index,l=e.slice(0,o),c=e.slice(o),d=s?s.index:null,u=o+a-i;if((null===d||d===u)&&!(u<0||u>a)){var h=t.slice(0,u);if((f=t.slice(u))===c){var m=Math.min(o,u);if((y=l.slice(0,m))===(b=h.slice(0,m)))return x(y,l.slice(m),h.slice(m),c)}}if(null===d||d===o){var p=o,f=(h=t.slice(0,p),t.slice(p));if(h===l){var g=Math.min(i-p,a-p);if((v=c.slice(c.length-g))===(w=f.slice(f.length-g)))return x(l,c.slice(0,c.length-g),f.slice(0,f.length-g),v)}}}if(r.length>0&&s&&0===s.length){var y=e.slice(0,r.index),v=e.slice(r.index+r.length);if(!(a<(m=y.length)+(g=v.length))){var b=t.slice(0,m),w=t.slice(a-g);if(y===b&&v===w)return x(y,e.slice(m,i-g),t.slice(m,a-g),v)}}return null}(e,m,p);if(y)return y}var v=s(e,m),b=e.substring(0,v);v=a(e=e.substring(v),m=m.substring(v));var w=e.substring(e.length-v),j=function(e,i){var o;if(!e)return[[1,i]];if(!i)return[[t,e]];var l=e.length>i.length?e:i,c=e.length>i.length?i:e,d=l.indexOf(c);if(-1!==d)return o=[[1,l.substring(0,d)],[0,c],[1,l.substring(d+c.length)]],e.length>i.length&&(o[0][0]=o[2][0]=t),o;if(1===c.length)return[[t,e],[1,i]];var u=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,o,l,c=e.substring(n,n+Math.floor(e.length/4)),d=-1,u="";-1!==(d=t.indexOf(c,d+1));){var h=s(e.substring(n),t.substring(d)),m=a(e.substring(0,n),t.substring(0,d));u.length<m+h&&(u=t.substring(d-m,d)+t.substring(d,d+h),r=e.substring(0,n-m),i=e.substring(n+h),o=t.substring(0,d-m),l=t.substring(d+h))}return 2*u.length>=e.length?[r,i,o,l,u]:null}var o,l,c,d,u,h=i(n,r,Math.ceil(n.length/4)),m=i(n,r,Math.ceil(n.length/2));if(!h&&!m)return null;o=m?h&&h[4].length>m[4].length?h:m:h;e.length>t.length?(l=o[0],c=o[1],d=o[2],u=o[3]):(d=o[0],u=o[1],l=o[2],c=o[3]);var p=o[4];return[l,c,d,u,p]}(e,i);if(u){var h=u[0],m=u[1],p=u[2],f=u[3],g=u[4],x=n(h,p),y=n(m,f);return x.concat([[0,g]],y)}return function(e,n){for(var s=e.length,i=n.length,a=Math.ceil((s+i)/2),o=a,l=2*a,c=new Array(l),d=new Array(l),u=0;u<l;u++)c[u]=-1,d[u]=-1;c[o+1]=0,d[o+1]=0;for(var h=s-i,m=h%2!==0,p=0,f=0,g=0,x=0,y=0;y<a;y++){for(var v=-y+p;v<=y-f;v+=2){for(var b=o+v,w=(_=v===-y||v!==y&&c[b-1]<c[b+1]?c[b+1]:c[b-1]+1)-v;_<s&&w<i&&e.charAt(_)===n.charAt(w);)_++,w++;if(c[b]=_,_>s)f+=2;else if(w>i)p+=2;else if(m){if((k=o+h-v)>=0&&k<l&&-1!==d[k])if(_>=(N=s-d[k]))return r(e,n,_,w)}}for(var j=-y+g;j<=y-x;j+=2){for(var N,k=o+j,S=(N=j===-y||j!==y&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-j;N<s&&S<i&&e.charAt(s-N-1)===n.charAt(i-S-1);)N++,S++;if(d[k]=N,N>s)x+=2;else if(S>i)g+=2;else if(!m){if((b=o+h-j)>=0&&b<l&&-1!==c[b]){var _;w=o+(_=c[b])-b;if(_>=(N=s-N))return r(e,n,_,w)}}}}return[[t,e],[1,n]]}(e,i)}(e=e.substring(0,e.length-v),m=m.substring(0,m.length-v));return b&&j.unshift([0,b]),w&&j.push([0,w]),h(j,g),f&&function(e){var n=!1,r=[],s=0,m=null,p=0,f=0,g=0,x=0,y=0;for(;p<e.length;)0==e[p][0]?(r[s++]=p,f=x,g=y,x=0,y=0,m=e[p][1]):(1==e[p][0]?x+=e[p][1].length:y+=e[p][1].length,m&&m.length<=Math.max(f,g)&&m.length<=Math.max(x,y)&&(e.splice(r[s-1],0,[t,m]),e[r[s-1]+1][0]=1,s--,p=--s>0?r[s-1]:-1,f=0,g=0,x=0,y=0,m=null,n=!0)),p++;n&&h(e);(function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),r=t.charAt(0),s=n.match(o),i=r.match(o),a=s&&n.match(l),h=i&&r.match(l),m=a&&n.match(c),p=h&&r.match(c),f=m&&e.match(d),g=p&&t.match(u);return f||g?5:m||p?4:s&&!a&&h?3:a||h?2:s||i?1:0}var n=1;for(;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var r=e[n-1][1],s=e[n][1],i=e[n+1][1],h=a(r,s);if(h){var m=s.substring(s.length-h);r=r.substring(0,r.length-h),s=m+s.substring(0,s.length-h),i=m+i}for(var p=r,f=s,g=i,x=t(r,s)+t(s,i);s.charAt(0)===i.charAt(0);){r+=s.charAt(0),s=s.substring(1)+i.charAt(0),i=i.substring(1);var y=t(r,s)+t(s,i);y>=x&&(x=y,p=r,f=s,g=i)}e[n-1][1]!=p&&(p?e[n-1][1]=p:(e.splice(n-1,1),n--),e[n][1]=f,g?e[n+1][1]=g:(e.splice(n+1,1),n--))}n++}})(e),p=1;for(;p<e.length;){if(e[p-1][0]==t&&1==e[p][0]){var v=e[p-1][1],b=e[p][1],w=i(v,b),j=i(b,v);w>=j?(w>=v.length/2||w>=b.length/2)&&(e.splice(p,0,[0,b.substring(0,w)]),e[p-1][1]=v.substring(0,v.length-w),e[p+1][1]=b.substring(w),p++):(j>=v.length/2||j>=b.length/2)&&(e.splice(p,0,[0,v.substring(0,j)]),e[p-1][0]=1,e[p-1][1]=b.substring(0,b.length-j),e[p+1][0]=t,e[p+1][1]=v.substring(j),p++),p++}p++}}(j),j}function r(e,t,r,s){var i=e.substring(0,r),a=t.substring(0,s),o=e.substring(r),l=t.substring(s),c=n(i,a),d=n(o,l);return c.concat(d)}function s(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),s=r,i=0;n<s;)e.substring(i,s)==t.substring(i,s)?i=n=s:r=s,s=Math.floor((r-n)/2+n);return m(e.charCodeAt(s-1))&&s--,s}function i(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var s=Math.min(n,r);if(e==t)return s;for(var i=0,a=1;;){var o=e.substring(s-a),l=t.indexOf(o);if(-1==l)return i;a+=l,0!=l&&e.substring(s-a)!=t.substring(0,a)||(i=a,a++)}}function a(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),s=r,i=0;n<s;)e.substring(e.length-s,e.length-i)==t.substring(t.length-s,t.length-i)?i=n=s:r=s,s=Math.floor((r-n)/2+n);return p(e.charCodeAt(e.length-s))&&s--,s}var o=/[^a-zA-Z0-9]/,l=/\s/,c=/[\r\n]/,d=/\n\r?\n$/,u=/^\r?\n\r?\n/;function h(e,n){e.push([0,""]);for(var r,i=0,o=0,l=0,c="",d="";i<e.length;)if(i<e.length-1&&!e[i][1])e.splice(i,1);else switch(e[i][0]){case 1:l++,d+=e[i][1],i++;break;case t:o++,c+=e[i][1],i++;break;case 0:var u=i-l-o-1;if(n){if(u>=0&&g(e[u][1])){var m=e[u][1].slice(-1);if(e[u][1]=e[u][1].slice(0,-1),c=m+c,d=m+d,!e[u][1]){e.splice(u,1),i--;var p=u-1;e[p]&&1===e[p][0]&&(l++,d=e[p][1]+d,p--),e[p]&&e[p][0]===t&&(o++,c=e[p][1]+c,p--),u=p}}if(f(e[i][1])){m=e[i][1].charAt(0);e[i][1]=e[i][1].slice(1),c+=m,d+=m}}if(i<e.length-1&&!e[i][1]){e.splice(i,1);break}if(c.length>0||d.length>0){c.length>0&&d.length>0&&(0!==(r=s(d,c))&&(u>=0?e[u][1]+=d.substring(0,r):(e.splice(0,0,[0,d.substring(0,r)]),i++),d=d.substring(r),c=c.substring(r)),0!==(r=a(d,c))&&(e[i][1]=d.substring(d.length-r)+e[i][1],d=d.substring(0,d.length-r),c=c.substring(0,c.length-r)));var x=l+o;0===c.length&&0===d.length?(e.splice(i-x,x),i-=x):0===c.length?(e.splice(i-x,x,[1,d]),i=i-x+1):0===d.length?(e.splice(i-x,x,[t,c]),i=i-x+1):(e.splice(i-x,x,[t,c],[1,d]),i=i-x+2)}0!==i&&0===e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,l=0,o=0,c="",d=""}""===e[e.length-1][1]&&e.pop();var y=!1;for(i=1;i<e.length-1;)0===e[i-1][0]&&0===e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)===e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),y=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),y=!0)),i++;y&&h(e,n)}function m(e){return e>=55296&&e<=56319}function p(e){return e>=56320&&e<=57343}function f(e){return p(e.charCodeAt(0))}function g(e){return m(e.charCodeAt(e.length-1))}function x(e,n,r,s){return g(e)||f(s)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,r],[0,s]])}function y(e,t,r,s){return n(e,t,r,s,!0)}y.INSERT=1,y.DELETE=t,y.EQUAL=0,e.exports=y},579:(e,t,n)=>{"use strict";e.exports=n(153)},646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(100);t.default=class{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const n=this.offset,s=r.default.length(t);if(e>=s-n?(e=s-n,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};{const r={};return t.attributes&&(r.attributes=t.attributes),"number"===typeof t.retain?r.retain=e:"object"===typeof t.retain&&null!==t.retain?r.retain=t.retain:"string"===typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?"number"===typeof e.delete?"delete":"number"===typeof e.retain||"object"===typeof e.retain&&null!==e.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}}return[]}}},730:(e,t,n)=>{"use strict";var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var R,I=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ie(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(me).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var xe=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=vs(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=ws(t),je(e.stateNode,e.type,t))}}function _e(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Te(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return Ee(e,t,n)}finally{De=!1,(null!==Ne||null!==ke)&&(Te(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Me=!1}function Oe(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Re=!1,Ie=null,Fe=!1,ze=null,Be={onError:function(e){Re=!0,Ie=e}};function qe(e,t,n,r,s,i,a,o,l){Re=!1,Ie=null,Oe.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ue(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return $e(s),e;if(a===r)return $e(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ye=s.unstable_scheduleCallback,Ke=s.unstable_cancelCallback,Ge=s.unstable_shouldYield,Qe=s.unstable_requestPaint,Xe=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=ut(o):0!==(i&=a)&&(r=ut(i))}else 0!==(a=n&~s)?r=ut(a):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,_t=!1,Ct=[],Et=null,Tt=null,Dt=null,At=new Map,Pt=new Map,Mt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=vs(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function It(e){var t=ys(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vs(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){_t=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Dt&&Ft(Dt)&&(Dt=null),At.forEach(zt),Pt.forEach(zt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&qt(Et,e),null!==Tt&&qt(Tt,e),null!==Dt&&qt(Dt,e),At.forEach(t),Pt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)It(n),null===n.blockedOn&&Mt.shift()}var Vt=b.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,n,r){var s=vt,i=Vt.transition;Vt.transition=null;try{vt=1,Yt(e,t,n,r)}finally{vt=s,Vt.transition=i}}function Wt(e,t,n,r){var s=vt,i=Vt.transition;Vt.transition=null;try{vt=4,Yt(e,t,n,r)}finally{vt=s,Vt.transition=i}}function Yt(e,t,n,r){if($t){var s=Gt(e,t,n,r);if(null===s)$r(e,t,r,Kt,n),Ot(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Et=Rt(Et,e,t,n,r,s),!0;case"dragenter":return Tt=Rt(Tt,e,t,n,r,s),!0;case"mouseover":return Dt=Rt(Dt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return At.set(i,Rt(At.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pt.set(i,Rt(Pt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==s;){var i=vs(s);if(null!==i&&wt(i),null===(i=Gt(e,t,n,r))&&$r(e,t,r,Kt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=ys(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Jt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=I({},cn,{view:0,detail:0}),hn=sn(un),mn=I({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(mn),fn=sn(I({},mn,{dataTransfer:0})),gn=sn(I({},un,{relatedTarget:0})),xn=sn(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(yn),bn=sn(I({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return kn}var _n=I({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(_n),En=sn(I({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(I({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Dn=sn(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=I({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(An),Mn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,On=null;d&&"documentMode"in document&&(On=document.documentMode);var Rn=d&&"TextEvent"in window&&!On,In=d&&(!Ln||On&&8<On&&11>=On),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Yn=null;function Kn(e){Fr(e,0)}function Gn(e){if(Y(bs(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Zn;if(d){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Yn=Wn=null)}function nr(e){if("value"===e.propertyName&&Gn(Yn)){var t=[];Hn(t,Yn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Yn)}function ir(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=dr(n,i);var a=dr(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,xr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(xr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},kr={};function Sr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var _r=Sr("animationend"),Cr=Sr("animationiteration"),Er=Sr("animationstart"),Tr=Sr("transitionend"),Dr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Dr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Ar.length;Mr++){var Lr=Ar[Mr];Pr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Er,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(qe.apply(this,arguments),Re){if(!Re)throw Error(i(198));var d=Ie;Re=!1,Ie=null,Fe||(Fe=!0,ze=d)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Ir(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Ir(s,o,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[fs];void 0===n&&(n=t[fs]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[qr]){e[qr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var s=Ht;break;case 4:s=Wt;break;default:s=Yt}n=s.bind(null,t,n,e),s=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=ys(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=i,s=we(n),a=[];e:{var o=Dr.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case _r:case Cr:case Er:l=xn;break;case Tr:l=Dn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var m,p=r;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Pe(p,h))&&d.push(Hr(p,f,m)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=pn,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,f="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?o:bs(l),m=null==c?o:bs(c),(o=new d(f,p+"leave",l,n,s)).target=u,o.relatedTarget=m,f=null,ys(s)===r&&((d=new d(h,p+"enter",c,n,s)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,p=0,m=d=l;m;m=Yr(m))p++;for(m=0,f=h;f;f=Yr(f))m++;for(;0<p-m;)d=Yr(d),p--;for(;0<m-p;)h=Yr(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Yr(d),h=Yr(h)}d=null}else d=null;null!==l&&Kr(a,o,l,d,!1),null!==c&&null!==u&&Kr(a,u,c,d,!0)}if("select"===(l=(o=r?bs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if($n(o))if(Xn)g=ar;else{g=sr;var x=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(a,g,n,s):(x&&x(e,o,r),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=r?bs(r):window,e){case"focusin":($n(x)||"true"===x.contentEditable)&&(gr=x,xr=r,yr=null);break;case"focusout":yr=xr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(a,n,s);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(a,n,s)}var y;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Un?Bn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(In&&"ko"!==n.locale&&(Un||"onCompositionStart"!==v?"onCompositionEnd"===v&&Un&&(y=en()):(Zt="value"in(Xt=s)?Xt.value:Xt.textContent,Un=!0)),0<(x=Wr(r,v)).length&&(v=new bn(v,e,null,n,s),a.push({event:v,listeners:x}),y?v.data=y:null!==(y=qn(n))&&(v.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Jt=Zt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=y))}Fr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Pe(e,n))&&r.unshift(Hr(e,i,s)),null!=(i=Pe(e,t))&&r.push(Hr(e,i,s))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Pe(n,i))&&a.unshift(Hr(n,l,o)):s||null!=(l=Pe(n,i))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Jr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Ut(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,ms="__reactProps$"+us,ps="__reactContainer$"+us,fs="__reactEvents$"+us,gs="__reactListeners$"+us,xs="__reactHandles$"+us;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[hs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function vs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ws(e){return e[ms]||null}var js=[],Ns=-1;function ks(e){return{current:e}}function Ss(e){0>Ns||(e.current=js[Ns],js[Ns]=null,Ns--)}function _s(e,t){Ns++,js[Ns]=e.current,e.current=t}var Cs={},Es=ks(Cs),Ts=ks(!1),Ds=Cs;function As(e,t){var n=e.type.contextTypes;if(!n)return Cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ps(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ms(){Ss(Ts),Ss(Es)}function Ls(e,t,n){if(Es.current!==Cs)throw Error(i(168));_s(Es,t),_s(Ts,n)}function Os(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,V(e)||"Unknown",s));return I({},n,r)}function Rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Ds=Es.current,_s(Es,e),_s(Ts,Ts.current),!0}function Is(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Os(e,t,Ds),r.__reactInternalMemoizedMergedChildContext=e,Ss(Ts),Ss(Es),_s(Es,e)):Ss(Ts),_s(Ts,n)}var Fs=null,zs=!1,Bs=!1;function qs(e){null===Fs?Fs=[e]:Fs.push(e)}function Us(){if(!Bs&&null!==Fs){Bs=!0;var e=0,t=vt;try{var n=Fs;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,zs=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Ye(Je,Us),s}finally{vt=t,Bs=!1}}return null}var Vs=[],$s=0,Hs=null,Ws=0,Ys=[],Ks=0,Gs=null,Qs=1,Xs="";function Zs(e,t){Vs[$s++]=Ws,Vs[$s++]=Hs,Hs=e,Ws=t}function Js(e,t,n){Ys[Ks++]=Qs,Ys[Ks++]=Xs,Ys[Ks++]=Gs,Gs=e;var r=Qs;e=Xs;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Qs=1<<32-at(t)+s|n<<s|r,Xs=i+e}else Qs=1<<i|n<<s|r,Xs=e}function ei(e){null!==e.return&&(Zs(e,1),Js(e,1,0))}function ti(e){for(;e===Hs;)Hs=Vs[--$s],Vs[$s]=null,Ws=Vs[--$s],Vs[$s]=null;for(;e===Gs;)Gs=Ys[--Ks],Ys[Ks]=null,Xs=Ys[--Ks],Ys[Ks]=null,Qs=Ys[--Ks],Ys[Ks]=null}var ni=null,ri=null,si=!1,ii=null;function ai(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gs?{id:Qs,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&oi(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!si)return di(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=cs(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=cs(e.nextSibling)}function mi(){ri=ni=null,si=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var fi=b.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function xi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function vi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&yi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;xi(e,t)}return null}function m(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case j:return n.key===s?d(e,t,n,r):null;case P:return m(e,t,(s=n._init)(n._payload),r)}if(te(n)||O(n))return null!==s?null:u(e,t,n,r,null);xi(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case j:return d(t,e=e.get(null===r.key?n:r.key)||null,r,s);case P:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||O(r))return u(t,e=e.get(n)||null,r,s,null);xi(t,r)}return null}function f(s,i,o,l){for(var c=null,d=null,u=i,f=i=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var x=m(s,u,o[f],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(s,u),i=a(x,i,f),null===d?c=x:d.sibling=x,d=x,u=g}if(f===o.length)return n(s,u),si&&Zs(s,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(s,o[f],l))&&(i=a(u,i,f),null===d?c=u:d.sibling=u,d=u);return si&&Zs(s,f),c}for(u=r(s,u);f<o.length;f++)null!==(g=p(u,s,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),i=a(g,i,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(s,e)})),si&&Zs(s,f),c}function g(s,o,l,c){var d=O(l);if("function"!==typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,f=o,g=o=0,x=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(x=f,f=null):x=f.sibling;var v=m(s,f,y.value,c);if(null===v){null===f&&(f=x);break}e&&f&&null===v.alternate&&t(s,f),o=a(v,o,g),null===u?d=v:u.sibling=v,u=v,f=x}if(y.done)return n(s,f),si&&Zs(s,g),d;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=a(y,o,g),null===u?d=y:u.sibling=y,u=y);return si&&Zs(s,g),d}for(f=r(s,f);!y.done;g++,y=l.next())null!==(y=p(f,s,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=a(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach((function(e){return t(s,e)})),si&&Zs(s,g),d}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,d=i;null!==d;){if(d.key===c){if((c=a.type)===N){if(7===d.tag){n(r,d.sibling),(i=s(d,a.props.children)).return=r,r=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&yi(c)===d.type){n(r,d.sibling),(i=s(d,a.props)).ref=gi(r,d,a),i.return=r,r=i;break e}n(r,d);break}t(r,d),d=d.sibling}a.type===N?((i=Oc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return o(r);case j:e:{for(d=a.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(a,r.mode,l)).return=r,r=i}return o(r);case P:return e(r,i,(d=a._init)(a._payload),l)}if(te(a))return f(r,i,a,l);if(O(a))return g(r,i,a,l);xi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Ic(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var bi=vi(!0),wi=vi(!1),ji=ks(null),Ni=null,ki=null,Si=null;function _i(){Si=ki=Ni=null}function Ci(e){var t=ji.current;Ss(ji),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){Ni=e,Si=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Di(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===Ni)throw Error(i(308));ki=e,Ni.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ai=null;function Pi(e){null===Ai?Ai=[e]:Ai.push(e)}function Mi(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Pi(t)):(n.next=s.next,s.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Li(e,n)}return null===(s=r.interleaved)?(t.next=t,Pi(r)):(t.next=s.next,s.next=t),r.interleaved=t,Li(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function qi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,r){var s=e.updateQueue;Oi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=s.baseState;for(a=0,d=c=l=null,o=i;;){var h=o.lane,m=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,u,h):p)||void 0===h)break e;u=I({},u,h);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=u}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var $i={},Hi=ks($i),Wi=ks($i),Yi=ks($i);function Ki(e){if(e===$i)throw Error(i(174));return e}function Gi(e,t){switch(_s(Yi,t),_s(Wi,e),_s(Hi,$i),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Hi),_s(Hi,t)}function Qi(){Ss(Hi),Ss(Wi),Ss(Yi)}function Xi(e){Ki(Yi.current);var t=Ki(Hi.current),n=le(t,e.type);t!==n&&(_s(Wi,e),_s(Hi,n))}function Zi(e){Wi.current===e&&(Ss(Hi),Ss(Wi))}var Ji=ks(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=b.ReactCurrentDispatcher,sa=b.ReactCurrentBatchConfig,ia=0,aa=null,oa=null,la=null,ca=!1,da=!1,ua=0,ha=0;function ma(){throw Error(i(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fa(e,t,n,r,s,a){if(ia=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Za:Ja,e=n(r,s),da){a=0;do{if(da=!1,ua=0,25<=a)throw Error(i(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,s)}while(da)}if(ra.current=Xa,t=null!==oa&&null!==oa.next,ia=0,la=oa=aa=null,ca=!1,t)throw Error(i(300));return e}function ga(){var e=0!==ua;return ua=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function va(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=oa,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((ia&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,aa.lanes|=a,Rl|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);or(a,t.memoizedState)||(vo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ja(){}function Na(e,t){var n=aa,r=ya(),s=t(),a=!or(r.memoizedState,s);if(a&&(r.memoizedState=s,vo=!0),r=r.queue,Oa(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Da(9,Sa.bind(null,n,r,s,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&ia)||ka(n,t,s)}return s}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ea(e)}function _a(e,t,n){return n((function(){Ca(t)&&Ea(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ea(e){var t=Li(e,1);null!==t&&nc(t,e,1,-1)}function Ta(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,aa,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return ya().memoizedState}function Pa(e,t,n,r){var s=xa();aa.flags|=e,s.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var s=ya();r=void 0===r?null:r;var i=void 0;if(null!==oa){var a=oa.memoizedState;if(i=a.destroy,null!==r&&pa(r,a.deps))return void(s.memoizedState=Da(t,n,i,r))}aa.flags|=e,s.memoizedState=Da(1|t,n,i,r)}function La(e,t){return Pa(8390656,8,e,t)}function Oa(e,t){return Ma(2048,8,e,t)}function Ra(e,t){return Ma(4,2,e,t)}function Ia(e,t){return Ma(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4,4,Fa.bind(null,t,e),n)}function Ba(){}function qa(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),aa.lanes|=n,Rl|=n,e.baseState=!0),t)}function $a(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{vt=n,sa.transition=r}}function Ha(){return ya().memoizedState}function Wa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))Ga(t,n);else if(null!==(n=Mi(e,t,n,r))){nc(n,e,r,ec()),Qa(n,t,r)}}function Ya(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Ga(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(s.next=s,Pi(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Mi(e,t,s,r))&&(nc(n,e,r,s=ec()),Qa(n,t,r))}}function Ka(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ga(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xa={readContext:Di,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},Za={readContext:Di,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:Di,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Ta,useDebugValue:Ba,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=$a.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,s=xa();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&ia)||ka(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,La(_a.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Sa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Tl.identifierPrefix;if(si){var n=Xs;t=":"+t+"R"+(n=(Qs&~(1<<32-at(Qs)-1)).toString(32)+n),0<(n=ua++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ja={readContext:Di,useCallback:qa,useContext:Di,useEffect:Oa,useImperativeHandle:za,useInsertionEffect:Ra,useLayoutEffect:Ia,useMemo:Ua,useReducer:ba,useRef:Aa,useState:function(){return ba(va)},useDebugValue:Ba,useDeferredValue:function(e){return Va(ya(),oa.memoizedState,e)},useTransition:function(){return[ba(va)[0],ya().memoizedState]},useMutableSource:ja,useSyncExternalStore:Na,useId:Ha,unstable_isNewReconciler:!1},eo={readContext:Di,useCallback:qa,useContext:Di,useEffect:Oa,useImperativeHandle:za,useInsertionEffect:Ra,useLayoutEffect:Ia,useMemo:Ua,useReducer:wa,useRef:Aa,useState:function(){return wa(va)},useDebugValue:Ba,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Va(t,oa.memoizedState,e)},useTransition:function(){return[wa(va)[0],ya().memoizedState]},useMutableSource:ja,useSyncExternalStore:Na,useId:Ha,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,s))&&(nc(t,e,s,r),Bi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,s))&&(nc(t,e,s,r),Bi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Fi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=zi(e,s,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function so(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function io(e,t,n){var r=!1,s=Cs,i=t.contextType;return"object"===typeof i&&null!==i?i=Di(i):(s=Ps(t)?Ds:Es.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?As(e,s):Cs),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Di(i):(i=Ps(t)?Ds:Es.current,s.context=As(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),Ui(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Hl=r),uo(0,t)},n}function po(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,zi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yo=b.ReactCurrentOwner,vo=!1;function bo(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function wo(e,t,n,r,s){n=n.render;var i=t.ref;return Ti(t,s),r=fa(e,t,n,r,i,s),n=ga(),null===e||vo?(si&&n&&ei(t),t.flags|=1,bo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$o(e,t,s))}function jo(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,No(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return $o(e,t,s)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,$o(e,t,s);0!==(131072&e.flags)&&(vo=!0)}}return _o(e,t,n,r,s)}function ko(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(Ml,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(Ml,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_s(Ml,Pl),Pl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_s(Ml,Pl),Pl|=r;return bo(e,t,s,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,s){var i=Ps(n)?Ds:Es.current;return i=As(t,i),Ti(t,s),n=fa(e,t,n,r,i,s),r=ga(),null===e||vo?(si&&r&&ei(t),t.flags|=1,bo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$o(e,t,s))}function Co(e,t,n,r,s){if(Ps(n)){var i=!0;Rs(t)}else i=!1;if(Ti(t,s),null===t.stateNode)Vo(e,t),io(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Di(c):c=As(t,c=Ps(n)?Ds:Es.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Oi=!1;var h=t.memoizedState;a.state=h,Ui(t,r,a,s),l=t.memoizedState,o!==r||h!==l||Ts.current||Oi?("function"===typeof d&&(no(t,n,d,r),l=t.memoizedState),(o=Oi||so(t,n,o,r,h,l,c))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ii(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,u=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Di(l):l=As(t,l=Ps(n)?Ds:Es.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==u||h!==l)&&ao(t,a,r,l),Oi=!1,h=t.memoizedState,a.state=h,Ui(t,r,a,s);var p=t.memoizedState;o!==u||h!==p||Ts.current||Oi?("function"===typeof m&&(no(t,n,m,r),p=t.memoizedState),(c=Oi||so(t,n,c,r,h,p,l)||!1)?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,n,r,i,s)}function Eo(e,t,n,r,s,i){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Is(t,n,!1),$o(e,t,i);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):bo(e,t,o,i),t.memoizedState=r.state,s&&Is(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),Gi(e,t.containerInfo)}function Do(e,t,n,r,s){return mi(),pi(s),t.flags|=256,bo(e,t,n,r),t.child}var Ao,Po,Mo,Lo,Oo={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Io(e,t,n){var r,s=t.pendingProps,a=Ji.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_s(Ji,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,s,0,null),e=Oc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=Oo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Rc({mode:"visible",children:r.children},s,0,null),(a=Oc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=co(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=Tl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Li(e,s),nc(r,e,s,-1))}return fc(),zo(e,t,o,r=co(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ys[Ks++]=Qs,Ys[Ks++]=Xs,Ys[Ks++]=Gs,Qs=e.id,Xs=e.overflow,Gs=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Mc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,s}return e=(o=e.child).sibling,s=Mc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&pi(r),bi(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function qo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Uo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Ji.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_s(Ji,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),qo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ea(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}qo(t,!0,n,null,i);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $o(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Ps(t.type)&&Ms(),Wo(t),null;case 3:return r=t.stateNode,Qi(),Ss(Ts),Ss(Es),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(ac(ii),ii=null))),Po(e,t),Wo(t),null;case 5:Zi(t);var s=Ki(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Wo(t),null}if(e=Ki(Hi.current),ui(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hs]=t,r[ms]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(s=0;s<Or.length;s++)zr(Or[s],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":se(r,a),zr("invalid",r)}for(var l in ye(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[ms]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":zr("cancel",e),zr("close",e),s=r;break;case"iframe":case"object":case"embed":zr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Or.length;s++)zr(Or[s],e);s=r;break;case"source":zr("error",e),s=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),s=r;break;case"details":zr("toggle",e),s=r;break;case"input":Q(e,r),s=G(e,r),zr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=I({},r,{value:void 0}),zr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),zr("invalid",e)}for(a in ye(n,s),c=s)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=d&&"onScroll"===a&&zr("scroll",e):null!=d&&v(e,a,d,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki(Yi.current),Ki(Hi.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(a=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ss(Ji),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),mi(),t.flags|=98560,a=!1;else if(a=ui(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[hs]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ii&&(ac(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ji.current)?0===Ll&&(Ll=3):fc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Qi(),Po(e,t),null===e&&Ur(t.stateNode.containerInfo),Wo(t),null;case 10:return Ci(t.type._context),Wo(t),null;case 19:if(Ss(Ji),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ho(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ho(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _s(Ji,1&Ji.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Ul&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!si)return Wo(t),null}else 2*Xe()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Ji.current,_s(Ji,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ko(e,t){switch(ti(t),t.tag){case 1:return Ps(t.type)&&Ms(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),Ss(Ts),Ss(Es),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Ss(Ji),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Ji),null;case 4:return Qi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Mo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ki(Hi.current);var i,a=null;switch(n){case"input":s=G(e,s),r=G(e,r),a=[];break;case"select":s=I({},s,{value:void 0}),r=I({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(d in ye(n,r),n=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Go=!1,Qo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ms],delete t[fs],delete t[gs],delete t[xs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Qo||Jo(n,t);case 6:var r=dl,s=ul;dl=null,hl(e,t,n),ul=s,null!==(dl=r)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Ut(e)):ls(dl,n.stateNode));break;case 4:r=dl,s=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=r,ul=s;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&el(n,t,a),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(i(160));ml(a,o,s),dl=null,ul=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){kc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),xl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:fl(t,e),xl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(fl(t,e),xl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(s,a),ve(l,o);var d=ve(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):v(s,u,h,d)}switch(l){case"input":Z(s,a);break;case"textarea":ie(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(s,!!a.multiple,p,!1):m!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[ms]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(fl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(fl(t,e),xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:fl(t,e),xl(e);break;case 13:fl(t,e),xl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(ql=Xe())),4&r&&pl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(d=Qo)||u,fl(t,e),Qo=d):fl(t,e),xl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(h=Zo=u;null!==Zo;){switch(p=(m=Zo).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Jo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){r=m,n=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Jo(m,m.return);break;case 22:if(null!==m.memoizedState){wl(h);continue}}null!==p?(p.return=m,Zo=p):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),xl(e),4&r&&pl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(i(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var s=Zo,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Go;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Go;var c=Qo;if(Go=a,(Qo=l)&&!c)for(Zo=s;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?jl(s):null!==l?(l.return=a,Zo=l):jl(s);for(;null!==i;)Zo=i,vl(i,t,n),i=i.sibling;Zo=s,Go=o,Qo=c}bl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Zo=i):bl(e)}}function bl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(i(163))}Qo||512&t.flags&&sl(t)}catch(m){kc(t,t.return,m)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function jl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){kc(t,s,l)}}var i=t.return;try{sl(t)}catch(l){kc(t,i,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Nl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,_l=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,El=0,Tl=null,Dl=null,Al=0,Pl=0,Ml=ks(0),Ll=0,Ol=null,Rl=0,Il=0,Fl=0,zl=null,Bl=null,ql=0,Ul=1/0,Vl=null,$l=!1,Hl=null,Wl=null,Yl=!1,Kl=null,Gl=0,Ql=0,Xl=null,Zl=-1,Jl=0;function ec(){return 0!==(6&El)?Xe():-1!==Zl?Zl:Zl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Al?Al&-Al:null!==fi.transition?(0===Jl&&(Jl=ft()),Jl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(i(185));xt(e,n,r),0!==(2&El)&&e===Tl||(e===Tl&&(0===(2&El)&&(Il|=n),4===Ll&&oc(e,Al)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Ul=Xe()+500,zs&&Us()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=mt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===Tl?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zs=!0,qs(e)}(lc.bind(null,e)):qs(lc.bind(null,e)),as((function(){0===(6&El)&&Us()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,Jl=0,0!==(6&El))throw Error(i(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var s=El;El|=2;var a=pc();for(Tl===e&&Al===t||(Vl=null,Ul=Xe()+500,hc(e,t));;)try{yc();break}catch(l){mc(e,l)}_i(),Sl.current=a,El=s,null!==Dl?t=0:(Tl=null,Al=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=ic(e,s))),1===t)throw n=Ol,hc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t))throw n=Ol,hc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Bl,Vl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=ql+500-Xe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(wc.bind(null,e,Bl,Vl),t);break}wc(e,Bl,Vl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=rs(wc.bind(null,e,Bl,Vl),r);break}wc(e,Bl,Vl);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function oc(e,t){for(t&=~Fl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(i(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ol,hc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Vl),rc(e,Xe()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=Xe()+500,zs&&Us())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&jc();var t=El;El|=1;var n=Cl.transition,r=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=r,Cl.transition=n,0===(6&(El=t))&&Us()}}function uc(){Pl=Ml.current,Ss(Ml)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ms();break;case 3:Qi(),Ss(Ts),Ss(Es),na();break;case 5:Zi(r);break;case 4:Qi();break;case 13:case 19:Ss(Ji);break;case 10:Ci(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,Dl=e=Mc(e.current,null),Al=Pl=t,Ll=0,Ol=null,Fl=Il=Rl=0,Bl=zl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Ai=null}return e}function mc(e,t){for(;;){var n=Dl;try{if(_i(),ra.current=Xa,ca){for(var r=aa.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ca=!1}if(ia=0,la=oa=aa=null,da=!1,ua=0,_l.current=null,null===n||null===n.return){Ll=1,Ol=t,Dl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&fo(a,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(a,d,t),fc();break e}c=Error(i(426))}else if(si&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),pi(lo(c,l));break e}}a=c=lo(c,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,qi(a,mo(0,c,t));break e;case 1:l=c;var y=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Wl||!Wl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,qi(a,po(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Xa,null===e?Xa:e}function fc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Tl||0===(268435455&Rl)&&0===(268435455&Il)||oc(Tl,Al)}function gc(e,t){var n=El;El|=2;var r=pc();for(Tl===e&&Al===t||(Vl=null,hc(e,t));;)try{xc();break}catch(s){mc(e,s)}if(_i(),El=n,Sl.current=r,null!==Dl)throw Error(i(261));return Tl=null,Al=0,Ll}function xc(){for(;null!==Dl;)vc(Dl)}function yc(){for(;null!==Dl&&!Ge();)vc(Dl)}function vc(e){var t=Nl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Dl=t,_l.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Pl)))return void(Dl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ll=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=vt,s=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,n,r){do{jc()}while(null!==Kl);if(0!==(6&El))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Tl&&(Dl=Tl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Tc(tt,(function(){return jc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=vt;vt=1;var l=El;El|=4,_l.current=null,function(e,t){if(es=$t,mr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===s&&(l=o),m===a&&++u===r&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},$t=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}f=tl,tl=!1}(e,n),gl(n,e),pr(ts),$t=!!es,ts=es=null,e.current=n,yl(n,e,s),Qe(),El=l,vt=o,Cl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Kl=e,Gl=s),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($l)throw $l=!1,e=Hl,Hl=null,e;0!==(1&Gl)&&0!==e.tag&&jc(),a=e.pendingLanes,0!==(1&a)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Us()}(e,t,n,r)}finally{Cl.transition=s,vt=r}return null}function jc(){if(null!==Kl){var e=bt(Gl),t=Cl.transition,n=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Gl=0,0!==(6&El))throw Error(i(331));var s=El;for(El|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:nl(8,u,a)}var h=u.child;if(null!==h)h.return=u,Zo=h;else for(;null!==Zo;){var m=(u=Zo).sibling,p=u.return;if(il(u),u===d){Zo=null;break}if(null!==m){m.return=p,Zo=m;break}Zo=p}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var v=e.current;for(Zo=v;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=v;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){kc(l,l.return,j)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(El=s,Us(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(j){}r=!0}return r}finally{vt=n,Cl.transition=t}}return!1}function Nc(e,t,n){e=zi(e,t=mo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(xt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=zi(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(xt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Al&n)===n&&(4===Ll||3===Ll&&(130023424&Al)===Al&&500>Xe()-ql?hc(e,0):Fl|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Li(e,t))&&(xt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_c(e,n)}function Tc(e,t){return Ye(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Dc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Oc(n.children,s,a,t);case k:o=8,s|=8;break;case S:return(e=Ac(12,n,t,2|s)).elementType=S,e.lanes=a,e;case T:return(e=Ac(13,n,t,s)).elementType=T,e.lanes=a,e;case D:return(e=Ac(19,n,t,s)).elementType=D,e.lanes=a,e;case M:return Rc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case E:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,i,a,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function qc(e){if(!e)return Cs;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ps(n))return Os(e,n,t)}return t}function Uc(e,t,n,r,s,i,a,o,l){return(e=Bc(n,r,!0,e,0,i,0,o,l)).context=qc(null),n=e.current,(i=Fi(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,zi(n,i,s),e.current.lanes=s,xt(e,s,r),rc(e,r),e}function Vc(e,t,n,r){var s=t.current,i=ec(),a=tc(s);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zi(s,t,a))&&(nc(e,s,a,i),Bi(e,s,a)),a}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:To(t),mi();break;case 5:Xi(t);break;case 1:Ps(t.type)&&Rs(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_s(ji,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_s(Ji,1&Ji.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Io(e,t,n):(_s(Ji,1&Ji.current),null!==(e=$o(e,t,n))?e.sibling:null);_s(Ji,1&Ji.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(Ji,Ji.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return $o(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,si&&0!==(1048576&t.flags)&&Js(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vo(e,t),e=t.pendingProps;var s=As(t,Es.current);Ti(t,n),s=fa(null,t,r,e,s,n);var a=ga();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ps(r)?(a=!0,Rs(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ri(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=Eo(null,t,r,!0,a,n)):(t.tag=0,si&&a&&ei(t),bo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),s){case 0:t=_o(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=jo(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,_o(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,Co(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(To(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Ii(e,t),Ui(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Do(e,t,r,n,s=lo(Error(i(423)),t));break e}if(r!==s){t=Do(e,t,r,n,s=lo(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),r===s){t=$o(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==a&&ns(r,a)&&(t.flags|=32),So(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Io(e,t,n);case 4:return Gi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,wo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,_s(ji,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===s.children&&!Ts.current){t=$o(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fi(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ei(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ei(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ti(t,n),r=r(s=Di(s)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),jo(e,t,r,s=to(r.type,s),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),Vo(e,t),t.tag=1,Ps(r)?(e=!0,Rs(t)):e=!1,Ti(t,n),io(t,r,s),oo(t,r,s,n),Eo(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return ko(e,t,n)}throw Error(i(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=$c(a);o.call(e)}}Vc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=$c(a);i.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[ps]=a.current,Ur(8===e.nodeType?e.parentNode:e),dc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=$c(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[ps]=l.current,Ur(8===e.nodeType?e.parentNode:e),dc((function(){Vc(t,l,n,r)})),l}(n,t,e,s,r);return $c(a)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Vc(null,e,null,null)})),t[ps]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&El)&&(Ul=Xe()+500,Us()))}break;case 13:dc((function(){var t=Li(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},jt=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Li(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},je=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(i(90));Y(r),Z(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Te=dc;var ed={usingClientEntryPoint:!1,Events:[vs,bs,ws,_e,Ce,cc]},td={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{st=rd.inject(nd),it=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",s=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ps]=t.current,Ur(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Gc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},740:e=>{"use strict";e.exports=function(e,t,n,r,s,i,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,i,a,o],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},752:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new s(r,i||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,s=[];if(0===this._eventsCount)return s;for(r in e=this._events)t.call(e,r)&&s.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,a=new Array(i);s<i;s++)a[s]=r[s].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,s,i,a){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,s),!0;case 5:return d.fn.call(d.context,t,r,s,i),!0;case 6:return d.fn.call(d.context,t,r,s,i,a),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,s);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,s){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||s&&!o.once||r&&o.context!==r||a(this,i);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||s&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(992),s=n(67);var i;!function(e){e.compose=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});let s=r(t);n||(s=Object.keys(s).reduce(((e,t)=>(null!=s[t]&&(e[t]=s[t]),e)),{}));for(const r in e)void 0!==e[r]&&void 0===t[r]&&(s[r]=e[r]);return Object.keys(s).length>0?s:void 0},e.diff=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});const n=Object.keys(e).concat(Object.keys(t)).reduce(((n,r)=>(s(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n)),{});return Object.keys(n).length>0?n:void 0},e.invert=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};const n=Object.keys(t).reduce(((n,r)=>(t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n)),{});return Object.keys(e).reduce(((n,r)=>(e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n)),n)},e.transform=function(e,t){if("object"!==typeof e)return t;if("object"!==typeof t)return;if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]))return t;const n=Object.keys(t).reduce(((n,r)=>(void 0===e[r]&&(n[r]=t[r]),n)),{});return Object.keys(n).length>0?n:void 0}}(i||(i={})),t.default=i},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},992:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",a="[object Boolean]",o="[object Date]",l="[object Function]",c="[object GeneratorFunction]",d="[object Map]",u="[object Number]",h="[object Object]",m="[object Promise]",p="[object RegExp]",f="[object Set]",g="[object String]",x="[object Symbol]",y="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",N="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",_="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",D=/\w*$/,A=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,M={};M[i]=M["[object Array]"]=M[v]=M[b]=M[a]=M[o]=M[w]=M[j]=M[N]=M[k]=M[S]=M[d]=M[u]=M[h]=M[p]=M[f]=M[g]=M[x]=M[_]=M[C]=M[E]=M[T]=!0,M["[object Error]"]=M[l]=M[y]=!1;var L="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,O="object"==typeof self&&self&&self.Object===Object&&self,R=L||O||Function("return this")(),I=t&&!t.nodeType&&t,F=I&&e&&!e.nodeType&&e,z=F&&F.exports===I;function B(e,t){return e.set(t[0],t[1]),e}function q(e,t){return e.add(t),e}function U(e,t,n,r){var s=-1,i=e?e.length:0;for(r&&i&&(n=e[++s]);++s<i;)n=t(n,e[s],s,e);return n}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function H(e,t){return function(n){return e(t(n))}}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Y=Array.prototype,K=Function.prototype,G=Object.prototype,Q=R["__core-js_shared__"],X=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=K.toString,J=G.hasOwnProperty,ee=G.toString,te=RegExp("^"+Z.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=z?R.Buffer:void 0,re=R.Symbol,se=R.Uint8Array,ie=H(Object.getPrototypeOf,Object),ae=Object.create,oe=G.propertyIsEnumerable,le=Y.splice,ce=Object.getOwnPropertySymbols,de=ne?ne.isBuffer:void 0,ue=H(Object.keys,Object),he=Ie(R,"DataView"),me=Ie(R,"Map"),pe=Ie(R,"Promise"),fe=Ie(R,"Set"),ge=Ie(R,"WeakMap"),xe=Ie(Object,"create"),ye=Ue(he),ve=Ue(me),be=Ue(pe),we=Ue(fe),je=Ue(ge),Ne=re?re.prototype:void 0,ke=Ne?Ne.valueOf:void 0;function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){this.__data__=new _e(e)}function Te(e,t){var n=$e(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&He(e)}(e)&&J.call(e,"callee")&&(!oe.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,s=!!r;for(var a in e)!t&&!J.call(e,a)||s&&("length"==a||Be(a,r))||n.push(a);return n}function De(e,t,n){var r=e[t];J.call(e,t)&&Ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ae(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Pe(e,t,n,r,s,m,y){var A;if(r&&(A=m?r(e,s,m,y):r(e)),void 0!==A)return A;if(!Ke(e))return e;var P=$e(e);if(P){if(A=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&J.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,A)}else{var L=ze(e),O=L==l||L==c;if(We(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(L==h||L==i||O&&!m){if(V(e))return m?e:{};if(A=function(e){return"function"!=typeof e.constructor||qe(e)?{}:(t=ie(e),Ke(t)?ae(t):{});var t}(O?{}:e),!t)return function(e,t){return Oe(e,Fe(e),t)}(e,function(e,t){return e&&Oe(t,Ge(t),e)}(A,e))}else{if(!M[L])return m?e:{};A=function(e,t,n,r){var s=e.constructor;switch(t){case v:return Le(e);case a:case o:return new s(+e);case b:return function(e,t){var n=t?Le(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case j:case N:case k:case S:case _:case C:case E:case T:return function(e,t){var n=t?Le(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case d:return function(e,t,n){var r=t?n($(e),!0):$(e);return U(r,B,new e.constructor)}(e,r,n);case u:case g:return new s(e);case p:return function(e){var t=new e.constructor(e.source,D.exec(e));return t.lastIndex=e.lastIndex,t}(e);case f:return function(e,t,n){var r=t?n(W(e),!0):W(e);return U(r,q,new e.constructor)}(e,r,n);case x:return i=e,ke?Object(ke.call(i)):{}}var i}(e,L,Pe,t)}}y||(y=new Ee);var R=y.get(e);if(R)return R;if(y.set(e,A),!P)var I=n?function(e){return function(e,t,n){var r=t(e);return $e(e)?r:function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}(r,n(e))}(e,Ge,Fe)}(e):Ge(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(I||e,(function(s,i){I&&(s=e[i=s]),De(A,i,Pe(s,t,n,r,i,e,y))})),A}function Me(e){return!(!Ke(e)||(t=e,X&&X in t))&&(Ye(e)||V(e)?te:A).test(Ue(e));var t}function Le(e){var t=new e.constructor(e.byteLength);return new se(t).set(new se(e)),t}function Oe(e,t,n,r){n||(n={});for(var s=-1,i=t.length;++s<i;){var a=t[s],o=r?r(n[a],e[a],a,n,e):void 0;De(n,a,void 0===o?e[a]:o)}return n}function Re(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ie(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(n)?n:void 0}Se.prototype.clear=function(){this.__data__=xe?xe(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(xe){var n=t[e];return n===r?void 0:n}return J.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return xe?void 0!==t[e]:J.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=xe&&void 0===t?r:t,this},_e.prototype.clear=function(){this.__data__=[]},_e.prototype.delete=function(e){var t=this.__data__,n=Ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},_e.prototype.get=function(e){var t=this.__data__,n=Ae(t,e);return n<0?void 0:t[n][1]},_e.prototype.has=function(e){return Ae(this.__data__,e)>-1},_e.prototype.set=function(e,t){var n=this.__data__,r=Ae(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Se,map:new(me||_e),string:new Se}},Ce.prototype.delete=function(e){return Re(this,e).delete(e)},Ce.prototype.get=function(e){return Re(this,e).get(e)},Ce.prototype.has=function(e){return Re(this,e).has(e)},Ce.prototype.set=function(e,t){return Re(this,e).set(e,t),this},Ee.prototype.clear=function(){this.__data__=new _e},Ee.prototype.delete=function(e){return this.__data__.delete(e)},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ce(r)}return n.set(e,t),this};var Fe=ce?H(ce,Object):function(){return[]},ze=function(e){return ee.call(e)};function Be(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||G)}function Ue(e){if(null!=e){try{return Z.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ve(e,t){return e===t||e!==e&&t!==t}(he&&ze(new he(new ArrayBuffer(1)))!=b||me&&ze(new me)!=d||pe&&ze(pe.resolve())!=m||fe&&ze(new fe)!=f||ge&&ze(new ge)!=y)&&(ze=function(e){var t=ee.call(e),n=t==h?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case ye:return b;case ve:return d;case be:return m;case we:return f;case je:return y}return t});var $e=Array.isArray;function He(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}(e.length)&&!Ye(e)}var We=de||function(){return!1};function Ye(e){var t=Ke(e)?ee.call(e):"";return t==l||t==c}function Ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ge(e){return He(e)?Te(e):function(e){if(!qe(e))return ue(e);var t=[];for(var n in Object(e))J.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Pe(e,!0,!0)}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>jd,hasStandardBrowserEnv:()=>kd,hasStandardBrowserWebWorkerEnv:()=>Sd,navigator:()=>Nd,origin:()=>_d});var t={};n.r(t),n.d(t,{Attributor:()=>j_,AttributorStore:()=>D_,BlockBlot:()=>U_,ClassAttributor:()=>C_,ContainerBlot:()=>$_,EmbedBlot:()=>H_,InlineBlot:()=>B_,LeafBlot:()=>L_,ParentBlot:()=>F_,Registry:()=>S_,Scope:()=>w_,ScrollBlot:()=>K_,StyleAttributor:()=>T_,TextBlot:()=>Q_});var r={};n.r(r),n.d(r,{boolean:()=>qF,booleanish:()=>UF,commaOrSpaceSeparated:()=>YF,commaSeparated:()=>WF,number:()=>$F,overloadedBoolean:()=>VF,spaceSeparated:()=>HF});var s={};n.r(s),n.d(s,{attentionMarkers:()=>wq,contentInitial:()=>fq,disable:()=>jq,document:()=>pq,flow:()=>xq,flowInitial:()=>gq,insideSpan:()=>bq,string:()=>yq,text:()=>vq});var i,a=n(43),o=n.t(a,2),l=n(391),c=n(950),d=n.t(c,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const h="popstate";function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Wj){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function x(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=i.Pop,c=null,d=p();function p(){return(o.state||{idx:null}).idx}function y(){l=i.Pop;let e=p(),t=null==e?null:e-d;d=e,c&&c({action:l,location:b.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:x(e);return n=n.replace(/ $/,"%20"),m(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,o.replaceState(u({},o.state,{idx:d}),""));let b={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(h,y),c=e,()=>{s.removeEventListener(h,y),c=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=g(b.location,e,t);n&&n(r,e),d=p()+1;let u=f(r,d),h=b.createHref(r);try{o.pushState(u,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(h)}a&&c&&c({action:l,location:b.location,delta:1})},replace:function(e,t){l=i.Replace;let r=g(b.location,e,t);n&&n(r,e),d=p();let s=f(r,d),u=b.createHref(r);o.replaceState(s,"",u),a&&c&&c({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){return void 0===n&&(n="/"),j(e,t,n,!1)}function j(e,t,n,r){let s=R(("string"===typeof t?y(t):t).pathname||"/",n);if(null==s)return null;let i=N(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=O(s);a=M(i[o],e,r)}return a}function N(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(m(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=q([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),N(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))s(e,t,r);else s(e,t)})),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=k(r.join("/")),o=[];return o.push(...a.map((e=>""===e?i:[i,e].join("/")))),s&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const S=/^:[\w-]+$/,_=3,C=2,E=1,T=10,D=-2,A=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=D),t&&(r+=C),n.filter((e=>!A(e))).reduce(((e,t)=>e+(S.test(t)?_:""===t?E:T)),r)}function M(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",d=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:q([i,d.pathname]),pathnameBase:U(q([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=q([i,d.pathnameBase]))}return a}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:a,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function z(e,t){let n=F(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function B(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=y(e):(s=u({},e),m(!s.pathname||!s.pathname.includes("?"),I("?","pathname","search",s)),m(!s.pathname||!s.pathname.includes("#"),I("#","pathname","hash",s)),m(!s.search||!s.search.includes("#"),I("#","search","hash",s)));let i,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?y(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:V(r),hash:$(s)}}(s,i),c=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const q=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],Y=(new Set(W),["get",...W]);new Set(Y),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=a.createContext(null);const Q=a.createContext(null);const X=a.createContext(null);const Z=a.createContext(null);const J=a.createContext({outlet:null,matches:[],isDataRoute:!1});const ee=a.createContext(null);function te(){return null!=a.useContext(Z)}function ne(){return te()||m(!1),a.useContext(Z).location}function re(e){a.useContext(X).static||a.useLayoutEffect(e)}function se(){let{isDataRoute:e}=a.useContext(J);return e?function(){let{router:e}=fe(me.UseNavigateStable),t=xe(pe.UseNavigateStable),n=a.useRef(!1);re((()=>{n.current=!0}));let r=a.useCallback((function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},s)))}),[e,t]);return r}():function(){te()||m(!1);let e=a.useContext(G),{basename:t,future:n,navigator:r}=a.useContext(X),{matches:s}=a.useContext(J),{pathname:i}=ne(),o=JSON.stringify(z(s,n.v7_relativeSplatPath)),l=a.useRef(!1);re((()=>{l.current=!0}));let c=a.useCallback((function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=B(n,JSON.parse(o),i,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:q([t,a.pathname])),(s.replace?r.replace:r.push)(a,s.state,s)}),[t,r,o,i,e]);return c}()}function ie(){let{matches:e}=a.useContext(J),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(X),{matches:s}=a.useContext(J),{pathname:i}=ne(),o=JSON.stringify(z(s,r.v7_relativeSplatPath));return a.useMemo((()=>B(e,JSON.parse(o),i,"path"===n)),[e,o,i,n])}function oe(e,t,n,r){te()||m(!1);let{navigator:s,static:o}=a.useContext(X),{matches:l}=a.useContext(J),c=l[l.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=ne();if(t){var f;let e="string"===typeof t?y(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||m(!1),h=e}else h=p;let g=h.pathname||"/",x=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=!o&&n&&n.matches&&n.matches.length>0?n.matches:w(e,{pathname:x});let b=he(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:q([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:q([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&b?a.createElement(Z.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:i.Pop}},b):b}function le(){let e=function(){var e;let t=a.useContext(ee),n=ge(pe.UseRouteError),r=xe(pe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const ce=a.createElement(le,null);class de extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(J.Provider,{value:this.props.routeContext},a.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(J.Provider,{value:t},r)}function he(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||m(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,r,s)=>{let i,u=!1,h=null,m=null;var p;n&&(i=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ce,c&&(d<0&&0===s?(p="route-fallback",!1||ye[p]||(ye[p]=!0),u=!0,m=null):d===s&&(u=!0,m=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=i?h:u?m:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(ue,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(de,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()}),null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function fe(e){let t=a.useContext(G);return t||m(!1),t}function ge(e){let t=a.useContext(Q);return t||m(!1),t}function xe(e){let t=function(){let e=a.useContext(J);return e||m(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||m(!1),n.route.id}const ye={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function be(e){let{to:t,replace:n,state:r,relative:s}=e;te()||m(!1);let{future:i,static:o}=a.useContext(X),{matches:l}=a.useContext(J),{pathname:c}=ne(),d=se(),u=B(t,z(l,i.v7_relativeSplatPath),c,"path"===s),h=JSON.stringify(u);return a.useEffect((()=>d(JSON.parse(h),{replace:n,state:r,relative:s})),[d,h,s,n,r]),null}function we(e){m(!1)}function je(e){let{basename:t="/",children:n=null,location:r,navigationType:s=i.Pop,navigator:o,static:l=!1,future:c}=e;te()&&m(!1);let d=t.replace(/^\/*/,"/"),u=a.useMemo((()=>({basename:d,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)})),[d,c,o,l]);"string"===typeof r&&(r=y(r));let{pathname:h="/",search:p="",hash:f="",state:g=null,key:x="default"}=r,v=a.useMemo((()=>{let e=R(h,d);return null==e?null:{location:{pathname:e,search:p,hash:f,state:g,key:x},navigationType:s}}),[d,h,p,f,g,x,s]);return null==v?null:a.createElement(X.Provider,{value:u},a.createElement(Z.Provider,{children:n,value:v}))}function Ne(e){let{children:t,location:n}=e;return oe(ke(t),n)}new Promise((()=>{}));a.Component;function ke(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,ke(e.props.children,s));e.type!==we&&m(!1),e.props.index&&e.props.children&&m(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ke(e.props.children,s)),n.push(i)})),n}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function Ce(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Wj){}new Map;const Te=o.startTransition;d.flushSync,o.useId;function De(e){let{basename:t,children:n,future:r,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),v((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return g("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:x(t)}),null,o)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},h=a.useCallback((e=>{u&&Te?Te((()=>d(e))):d(e)}),[d,u]);return a.useLayoutEffect((()=>l.listen(h)),[l,h]),a.useEffect((()=>ve(r)),[r]),a.createElement(je,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=a.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,p=_e(e,Ee),{basename:f}=a.useContext(X),g=!1;if("string"===typeof d&&Pe.test(d)&&(n=d,Ae))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=R(t.pathname,f);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(Wj){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;te()||m(!1);let{basename:r,navigator:s}=a.useContext(X),{hash:i,pathname:o,search:l}=ae(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:q([r,o])),s.createHref({pathname:c,search:l,hash:i})}(d,{relative:s}),v=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=se(),d=ne(),u=ae(e,{relative:o});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:x(d)===x(u);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l})}}),[d,c,u,r,s,n,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:h});return a.createElement("a",Se({},p,{href:n||y,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:c}))}));var Le,Oe;function Re(e){let t=a.useRef(Ce(e)),n=a.useRef(!1),r=ne(),s=a.useMemo((()=>function(e,t){let n=Ce(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),i=se(),o=a.useCallback(((e,t)=>{const r=Ce("function"===typeof e?e(s):e);n.current=!0,i("?"+r,t)}),[i,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));function Ie(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ie(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Fe=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ie(e))&&(r&&(r+=" "),r+=t);return r},ze=e=>"number"==typeof e&&!isNaN(e),Be=e=>"string"==typeof e,qe=e=>"function"==typeof e,Ue=e=>Be(e)||qe(e)?e:null,Ve=e=>(0,a.isValidElement)(e)||Be(e)||qe(e)||ze(e);function $e(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:h}=e;const m=r?`${t}--${l}`:t,p=r?`${n}--${l}`:n,f=(0,a.useRef)(0);return(0,a.useLayoutEffect)((()=>{const e=u.current,t=m.split(" "),n=r=>{r.target===u.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===f.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,a.useEffect)((()=>{const e=u.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:s}=e;requestAnimationFrame((()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame((()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)}))}))}(e,d,i):d()};h||(c?t():(f.current=1,e.className+=` ${p}`,e.addEventListener("animationend",t)))}),[h]),a.createElement(a.Fragment,null,o)}}function He(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const We={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},Ye=e=>{let{theme:t,type:n,...r}=e;return a.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Ke={info:function(e){return a.createElement(Ye,{...e},a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return a.createElement(Ye,{...e},a.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return a.createElement(Ye,{...e},a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return a.createElement(Ye,{...e},a.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return a.createElement("div",{className:"Toastify__spinner"})}};function Ge(e){const[,t]=(0,a.useReducer)((e=>e+1),0),[n,r]=(0,a.useState)([]),s=(0,a.useRef)(null),i=(0,a.useRef)(new Map).current,o=e=>-1!==n.indexOf(e),l=(0,a.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:e=>i.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=l.props;!n||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function d(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function u(){const{toastContent:e,toastProps:t,staleId:n}=l.queue.shift();m(e,t,n)}function h(e,n){let{delay:r,staleId:o,...c}=n;if(!Ve(e)||function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||i.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:h,updateId:p,data:f}=c,{props:g}=l,x=()=>d(h),y=null==p;y&&l.count++;const v={...g,style:g.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(c).filter((e=>{let[t,n]=e;return null!=n}))),toastId:h,updateId:p,data:f,closeToast:x,isIn:!1,className:Ue(c.className||g.toastClassName),bodyClassName:Ue(c.bodyClassName||g.bodyClassName),progressClassName:Ue(c.progressClassName||g.progressClassName),autoClose:!c.isLoading&&(b=c.autoClose,w=g.autoClose,!1===b||ze(b)&&b>0?b:w),deleteToast(){const e=He(i.get(h),"removed");i.delete(h),We.emit(4,e);const n=l.queue.length;if(l.count=null==h?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),n>0){const e=null==h?l.props.limit:1;if(1===n||1===e)l.displayedToast++,u();else{const t=e>n?n:e;l.displayedToast=t;for(let e=0;e<t;e++)u()}}else t()}};var b,w;v.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:s}=e,i=null;const o={theme:t,type:n};return!1===s||(qe(s)?i=s(o):(0,a.isValidElement)(s)?i=(0,a.cloneElement)(s,o):Be(s)||ze(s)?i=s:r?i=Ke.spinner():(e=>e in Ke)(n)&&(i=Ke[n](o))),i}(v),qe(c.onOpen)&&(v.onOpen=c.onOpen),qe(c.onClose)&&(v.onClose=c.onClose),v.closeButton=g.closeButton,!1===c.closeButton||Ve(c.closeButton)?v.closeButton=c.closeButton:!0===c.closeButton&&(v.closeButton=!Ve(g.closeButton)||g.closeButton);let j=e;(0,a.isValidElement)(e)&&!Be(e.type)?j=(0,a.cloneElement)(e,{closeToast:x,toastProps:v,data:f}):qe(e)&&(j=e({closeToast:x,toastProps:v,data:f})),g.limit&&g.limit>0&&l.count>g.limit&&y?l.queue.push({toastContent:j,toastProps:v,staleId:o}):ze(r)?setTimeout((()=>{m(j,v,o)}),r):m(j,v,o)}function m(e,t,n){const{toastId:s}=t;n&&i.delete(n);const a={content:e,props:t};i.set(s,a),r((e=>[...e,s].filter((e=>e!==n)))),We.emit(4,He(a,null==a.props.updateId?"added":"updated"))}return(0,a.useEffect)((()=>(l.containerId=e.containerId,We.cancelEmit(3).on(0,h).on(1,(e=>s.current&&d(e))).on(5,c).emit(2,l),()=>{i.clear(),We.emit(3,l)})),[]),(0,a.useEffect)((()=>{l.props=e,l.isToastActive=o,l.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(i.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:s,isToastActive:o}}function Qe(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Xe(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Ze(e){const[t,n]=(0,a.useState)(!1),[r,s]=(0,a.useState)(!1),i=(0,a.useRef)(null),o=(0,a.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,a.useRef)(e),{autoClose:c,pauseOnHover:d,closeToast:u,onClick:h,closeOnClick:m}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.addEventListener("touchmove",y),document.addEventListener("touchend",v);const n=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=n.getBoundingClientRect(),n.style.transition="",o.x=Qe(t.nativeEvent),o.y=Xe(t.nativeEvent),"x"===e.draggableDirection?(o.start=o.x,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function f(t){if(o.boundingRect){const{top:n,bottom:r,left:s,right:i}=o.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&o.x>=s&&o.x<=i&&o.y>=n&&o.y<=r?x():g()}}function g(){n(!0)}function x(){n(!1)}function y(n){const r=i.current;o.canDrag&&r&&(o.didMove=!0,t&&x(),o.x=Qe(n),o.y=Xe(n),o.delta="x"===e.draggableDirection?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),r.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function v(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",v);const t=i.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}(0,a.useEffect)((()=>{l.current=e})),(0,a.useEffect)((()=>(i.current&&i.current.addEventListener("d",g,{once:!0}),qe(e.onOpen)&&e.onOpen((0,a.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;qe(e.onClose)&&e.onClose((0,a.isValidElement)(e.children)&&e.children.props)})),[]),(0,a.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",g),window.addEventListener("blur",x)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",x))})),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:f,onTouchEnd:f};return c&&d&&(b.onMouseEnter=x,b.onMouseLeave=g),m&&(b.onClick=e=>{h&&h(e),o.canCloseOnClick&&u()}),{playToast:g,pauseToast:x,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:b}}function Je(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return a.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},a.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function et(e){let{delay:t,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:l,controlledProgress:c,progress:d,rtl:u,isIn:h,theme:m}=e;const p=i||c&&0===d,f={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};c&&(f.transform=`scaleX(${d})`);const g=Fe("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),x=qe(o)?o({rtl:u,type:s,defaultClassName:g}):Fe(g,o);return a.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:f,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{h&&r()}})}const tt=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s}=Ze(e),{closeButton:i,children:o,autoClose:l,onClick:c,type:d,hideProgressBar:u,closeToast:h,transition:m,position:p,className:f,style:g,bodyClassName:x,bodyStyle:y,progressClassName:v,progressStyle:b,updateId:w,role:j,progress:N,rtl:k,toastId:S,deleteToast:_,isIn:C,isLoading:E,iconOut:T,closeOnClick:D,theme:A}=e,P=Fe("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":D}),M=qe(f)?f({rtl:k,position:p,type:d,defaultClassName:P}):Fe(P,f),L=!!N||!l,O={closeToast:h,type:d,theme:A};let R=null;return!1===i||(R=qe(i)?i(O):(0,a.isValidElement)(i)?(0,a.cloneElement)(i,O):Je(O)),a.createElement(m,{isIn:C,done:_,position:p,preventExitTransition:n,nodeRef:r},a.createElement("div",{id:S,onClick:c,className:M,...s,style:g,ref:r},a.createElement("div",{...C&&{role:j},className:qe(x)?x({type:d}):Fe("Toastify__toast-body",x),style:y},null!=T&&a.createElement("div",{className:Fe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},T),a.createElement("div",null,o)),R,a.createElement(et,{...w&&!L?{key:`pb-${w}`}:{},rtl:k,theme:A,delay:l,isRunning:t,isIn:C,closeToast:h,hide:u,type:d,style:b,className:v,controlledProgress:L,progress:N||0})))},nt=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},rt=$e(nt("bounce",!0)),st=($e(nt("slide",!0)),$e(nt("zoom")),$e(nt("flip")),(0,a.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=Ge(e),{className:i,style:o,rtl:l,containerId:c}=e;function d(e){const t=Fe("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":l});return qe(i)?i({position:e,rtl:l,defaultClassName:t}):Fe(t,Ue(i))}return(0,a.useEffect)((()=>{t&&(t.current=r.current)}),[]),a.createElement("div",{ref:r,className:"Toastify",id:c},n(((e,t)=>{const n=t.length?{...o}:{...o,pointerEvents:"none"};return a.createElement("div",{className:d(e),style:n,key:`container-${e}`},t.map(((e,n)=>{let{content:r,props:i}=e;return a.createElement(tt,{...i,isIn:s(i.toastId),style:{...i.style,"--nth":n+1,"--len":t.length},key:`toast-${i.key}`},r)})))})))})));st.displayName="ToastContainer",st.defaultProps={position:"top-right",transition:rt,autoClose:5e3,closeButton:Je,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let it,at=new Map,ot=[],lt=1;function ct(){return""+lt++}function dt(e){return e&&(Be(e.toastId)||ze(e.toastId))?e.toastId:ct()}function ut(e,t){return at.size>0?We.emit(0,e,t):ot.push({content:e,options:t}),t.toastId}function ht(e,t){return{...t,type:t&&t.type||e,toastId:dt(t)}}function mt(e){return(t,n)=>ut(t,ht(e,n))}function pt(e,t){return ut(e,ht("default",t))}pt.loading=(e,t)=>ut(e,ht("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),pt.promise=function(e,t,n){let r,{pending:s,error:i,success:a}=t;s&&(r=Be(s)?pt.loading(s,n):pt.loading(s.render,{...n,...s}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void pt.dismiss(r);const i={type:e,...o,...n,data:s},a=Be(t)?{render:t}:t;return r?pt.update(r,{...i,...a}):pt(a.render,{...i,...a}),s},c=qe(e)?e():e;return c.then((e=>l("success",a,e))).catch((e=>l("error",i,e))),c},pt.success=mt("success"),pt.info=mt("info"),pt.error=mt("error"),pt.warning=mt("warning"),pt.warn=pt.warning,pt.dark=(e,t)=>ut(e,ht("default",{theme:"dark",...t})),pt.dismiss=e=>{at.size>0?We.emit(1,e):ot=ot.filter((t=>null!=e&&t.options.toastId!==e))},pt.clearWaitingQueue=function(e){return void 0===e&&(e={}),We.emit(5,e)},pt.isActive=e=>{let t=!1;return at.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},pt.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=at.get(n||it);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:ct()};i.toastId!==e&&(i.staleId=e);const a=i.render||s;delete i.render,ut(a,i)}}),0)},pt.done=e=>{pt.update(e,{progress:1})},pt.onChange=e=>(We.on(4,e),()=>{We.off(4,e)}),pt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},pt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},We.on(2,(e=>{it=e.containerId||e,at.set(it,e),ot.forEach((e=>{We.emit(0,e.content,e.options)})),ot=[]})).on(3,(e=>{at.delete(e.containerId||e),0===at.size&&We.off(0).off(1).off(5)}));var ft=n(579);const gt=(0,a.createContext)({});function xt(e){const t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}const yt="undefined"!==typeof window,vt=yt?a.useLayoutEffect:a.useEffect,bt=(0,a.createContext)(null),wt=(0,a.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class jt extends a.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Nt(e){let{children:t,isPresent:n,anchorX:r}=e;const s=(0,a.useId)(),i=(0,a.useRef)(null),o=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,a.useContext)(wt);return(0,a.useInsertionEffect)((()=>{const{width:e,height:t,top:a,left:c,right:d}=o.current;if(n||!i.current||!e||!t)return;const u="left"===r?`left: ${c}`:`right: ${d}`;i.current.dataset.motionPopId=s;const h=document.createElement("style");return l&&(h.nonce=l),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${u}px !important;\n            top: ${a}px !important;\n          }\n        `),()=>{document.head.removeChild(h)}}),[n]),(0,ft.jsx)(jt,{isPresent:n,childRef:i,sizeRef:o,children:a.cloneElement(t,{ref:i})})}const kt=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c}=e;const d=xt(St),u=(0,a.useId)(),h=(0,a.useCallback)((e=>{d.set(e,!0);for(const t of d.values())if(!t)return;s&&s()}),[d,s]),m=(0,a.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:i,onExitComplete:h,register:e=>(d.set(e,!1),()=>d.delete(e))})),o?[Math.random(),h]:[r,h]);return(0,a.useMemo)((()=>{d.forEach(((e,t)=>d.set(t,!1)))}),[r]),a.useEffect((()=>{!r&&!d.size&&s&&s()}),[r]),"popLayout"===l&&(t=(0,ft.jsx)(Nt,{isPresent:r,anchorX:c,children:t})),(0,ft.jsx)(bt.Provider,{value:m,children:t})};function St(){return new Map}function _t(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,a.useContext)(bt);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=(0,a.useId)();(0,a.useEffect)((()=>{if(e)return s(i)}),[e]);const o=(0,a.useCallback)((()=>e&&r&&r(i)),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Ct=e=>e.key||"";function Et(e){const t=[];return a.Children.forEach(e,(e=>{(0,a.isValidElement)(e)&&t.push(e)})),t}const Tt=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left"}=e;const[d,u]=_t(l),h=(0,a.useMemo)((()=>Et(t)),[t]),m=l&&!d?[]:h.map(Ct),p=(0,a.useRef)(!0),f=(0,a.useRef)(h),g=xt((()=>new Map)),[x,y]=(0,a.useState)(h),[v,b]=(0,a.useState)(h);vt((()=>{p.current=!1,f.current=h;for(let e=0;e<v.length;e++){const t=Ct(v[e]);m.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}}),[v,m.length,m.join("-")]);const w=[];if(h!==x){let e=[...h];for(let t=0;t<v.length;t++){const n=v[t],r=Ct(n);m.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===o&&w.length&&(e=w),b(Et(e)),y(h),null}const{forceRender:j}=(0,a.useContext)(gt);return(0,ft.jsx)(ft.Fragment,{children:v.map((e=>{const t=Ct(e),a=!(l&&!d)&&(h===v||m.includes(t));return(0,ft.jsx)(kt,{isPresent:a,initial:!(p.current&&!r)&&void 0,custom:n,presenceAffectsLayout:i,mode:o,onExitComplete:a?void 0:()=>{if(!g.has(t))return;g.set(t,!0);let e=!0;g.forEach((t=>{t||(e=!1)})),e&&(null===j||void 0===j||j(),b(f.current),l&&(null===u||void 0===u||u()),s&&s())},anchorX:c,children:e},t)}))})};function Dt(e,t){-1===e.indexOf(t)&&e.push(t)}function At(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Pt=e=>e;let Mt=Pt,Lt=Pt;const Ot=!1,Rt=!1;function It(e){let t;return()=>(void 0===t&&(t=e()),t)}const Ft=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class zt{constructor(){this.subscriptions=[]}add(e){return Dt(this.subscriptions,e),()=>At(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bt=e=>1e3*e,qt=e=>e/1e3;function Ut(e,t){return t?e*(1e3/t):0}new Set;function Vt(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function $t(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Ht(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Wt(e,t,n,r){if("function"===typeof t){const[s,i]=Ht(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,i]=Ht(r);t=t(void 0!==n?n:e.custom,s,i)}return t}function Yt(e,t,n){const r=e.getProps();return Wt(r,t,void 0!==n?n:r.custom,e)}const Kt=It((()=>void 0!==window.ScrollTimeline));class Gt{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>Kt()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Qt extends Gt{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Xt(e,t){return e?e[t]||e.default||e:void 0}const Zt=2e4;function Jt(e){let t=0;let n=e.next(t);for(;!n.done&&t<Zt;)t+=50,n=e.next(t);return t>=Zt?1/0:t}function en(e){return"function"===typeof e}function tn(e,t){e.timeline=t,e.onfinish=null}const nn=e=>Array.isArray(e)&&"number"===typeof e[0],rn={linearEasing:void 0};function sn(e,t){const n=It(e);return()=>{var e;return null!==(e=rn[t])&&void 0!==e?e:n()}}const an=sn((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Wj){return!1}return!0}),"linearEasing"),on=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Ft(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function ln(e){return Boolean("function"===typeof e&&an()||!e||"string"===typeof e&&(e in dn||an())||nn(e)||Array.isArray(e)&&e.every(ln))}const cn=e=>{let[t,n,r,s]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${s})`},dn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cn([0,.65,.55,1]),circOut:cn([.55,0,1,.45]),backIn:cn([.31,.01,.66,-.59]),backOut:cn([.33,1.53,.69,.99])};function un(e,t){return e?"function"===typeof e&&an()?on(e,t):nn(e)?cn(e):Array.isArray(e)?e.map((e=>un(e,t)||dn.easeOut)):dn[e]:void 0}const hn=["read","resolveKeyframes","update","preRender","render","postRender"],mn={value:null,addProjectionMetrics:null};function pn(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=hn.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(d.schedule(t),e()),l++,t(o)}const d={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{o=e,s?i=!0:(s=!0,[n,r]=[r,n],n.forEach(c),t&&mn.value&&mn.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(e)))}};return d}(i,t?n:void 0),e)),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=a,m=()=>{const i=Rt?s.timestamp:performance.now();n=!1,Rt||(s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1)),s.timestamp=i,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),d.process(s),u.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},p=hn.reduce(((t,i)=>{const o=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(m)),o.schedule(t,i,a)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<hn.length;t++)a[hn[t]].cancel(e)},state:s,steps:a}}const{schedule:fn,cancel:gn,state:xn,steps:yn}=pn("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Pt,!0),{schedule:vn,cancel:bn}=pn(queueMicrotask,!1);let wn;function jn(){wn=void 0}const Nn={now:()=>(void 0===wn&&Nn.set(xn.isProcessing||Rt?xn.timestamp:performance.now()),wn),set:e=>{wn=e,queueMicrotask(jn)}},kn={x:!1,y:!1};function Sn(){return kn.x||kn.y}function _n(e,t){const n=function(e,t,n){var r;if(e instanceof EventTarget)return[e];if("string"===typeof e){let s=document;t&&(s=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Cn(e){return!("touch"===e.pointerType||Sn())}const En=(e,t)=>!!t&&(e===t||En(e,t.parentElement)),Tn=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,Dn=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const An=new WeakSet;function Pn(e){return t=>{"Enter"===t.key&&e(t)}}function Mn(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Ln(e){return Tn(e)&&!Sn()}function On(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=_n(e,n),a=e=>{const r=e.currentTarget;if(!Ln(e)||An.has(r))return;An.add(r);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Ln(e)&&An.has(r)&&(An.delete(r),"function"===typeof i&&i(e,{success:t}))},o=e=>{a(e,r===window||r===document||n.useGlobalTarget||En(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,s),e instanceof HTMLElement&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Pn((()=>{if(An.has(n))return;Mn(n,"down");const e=Pn((()=>{Mn(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>Mn(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,s))),t=e,Dn.has(t.tagName)||-1!==t.tabIndex||null!==e.tabIndex||(e.tabIndex=0))})),i}const Rn={layout:0,mainThread:0,waapi:0};const In={current:void 0};class Fn{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Nn.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Nn.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new zt);const n=this.events[e].add(t);return"change"===e?()=>{n(),fn.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return In.current&&In.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Ut(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zn(e,t){return new Fn(e,t)}const Bn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qn=new Set(Bn),Un=new Set(["width","height","top","left","right","bottom",...Bn]),Vn=e=>Array.isArray(e),$n=e=>Vn(e)?e[e.length-1]||0:e;function Hn(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zn(n))}const Wn=e=>Boolean(e&&e.getVelocity);function Yn(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Wn(r)&&r.add))return n.add(t);var r}const Kn=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gn="data-"+Kn("framerAppearId");function Qn(e){return e.props[Gn]}const Xn=!1,Zn=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Jn(e,t,n,r){if(e===t&&n===r)return Pt;const s=t=>function(e,t,n,r,s){let i,a,o=0;do{a=t+(n-t)/2,i=Zn(a,r,s)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Zn(s(e),t,r)}const er=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tr=e=>t=>1-e(1-t),nr=Jn(.33,1.53,.69,.99),rr=tr(nr),sr=er(rr),ir=e=>(e*=2)<1?.5*rr(e):.5*(2-Math.pow(2,-10*(e-1))),ar=e=>1-Math.sin(Math.acos(e)),or=tr(ar),lr=er(ar),cr=e=>/^0[^.\s]+$/u.test(e);const dr=(e,t,n)=>n>t?t:n<e?e:n,ur={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},hr={...ur,transform:e=>dr(0,1,e)},mr={...ur,default:1},pr=e=>Math.round(1e5*e)/1e5,fr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const gr=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xr=(e,t)=>n=>Boolean("string"===typeof n&&gr.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),yr=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[s,i,a,o]=r.match(fr);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},vr={...ur,transform:e=>Math.round((e=>dr(0,255,e))(e))},br={test:xr("rgb","red"),parse:yr("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+vr.transform(t)+", "+vr.transform(n)+", "+vr.transform(r)+", "+pr(hr.transform(s))+")"}};const wr={test:xr("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:br.transform},jr=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Nr=jr("deg"),kr=jr("%"),Sr=jr("px"),_r=jr("vh"),Cr=jr("vw"),Er={...kr,parse:e=>kr.parse(e)/100,transform:e=>kr.transform(100*e)},Tr={test:xr("hsl","hue"),parse:yr("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+kr.transform(pr(n))+", "+kr.transform(pr(r))+", "+pr(hr.transform(s))+")"}},Dr={test:e=>br.test(e)||wr.test(e)||Tr.test(e),parse:e=>br.test(e)?br.parse(e):Tr.test(e)?Tr.parse(e):wr.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?br.transform(e):Tr.transform(e)},Ar=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Pr="number",Mr="color",Lr=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Or(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(Lr,(e=>(Dr.test(e)?(r.color.push(i),s.push(Mr),n.push(Dr.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(Pr),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:s}}function Rr(e){return Or(e).values}function Ir(e){const{split:t,types:n}=Or(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===Pr?pr(e[i]):t===Mr?Dr.transform(e[i]):e[i]}return s}}const Fr=e=>"number"===typeof e?0:e;const zr={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(fr))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ar))||void 0===n?void 0:n.length)||0)>0},parse:Rr,createTransformer:Ir,getAnimatableNone:function(e){const t=Rr(e);return Ir(e)(t.map(Fr))}},Br=new Set(["brightness","contrast","saturate","opacity"]);function qr(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(fr)||[];if(!r)return e;const s=n.replace(r,"");let i=Br.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Ur=/\b([a-z-]*)\(.*?\)/gu,Vr={...zr,getAnimatableNone:e=>{const t=e.match(Ur);return t?t.map(qr).join(" "):e}},$r={borderWidth:Sr,borderTopWidth:Sr,borderRightWidth:Sr,borderBottomWidth:Sr,borderLeftWidth:Sr,borderRadius:Sr,radius:Sr,borderTopLeftRadius:Sr,borderTopRightRadius:Sr,borderBottomRightRadius:Sr,borderBottomLeftRadius:Sr,width:Sr,maxWidth:Sr,height:Sr,maxHeight:Sr,top:Sr,right:Sr,bottom:Sr,left:Sr,padding:Sr,paddingTop:Sr,paddingRight:Sr,paddingBottom:Sr,paddingLeft:Sr,margin:Sr,marginTop:Sr,marginRight:Sr,marginBottom:Sr,marginLeft:Sr,backgroundPositionX:Sr,backgroundPositionY:Sr},Hr={rotate:Nr,rotateX:Nr,rotateY:Nr,rotateZ:Nr,scale:mr,scaleX:mr,scaleY:mr,scaleZ:mr,skew:Nr,skewX:Nr,skewY:Nr,distance:Sr,translateX:Sr,translateY:Sr,translateZ:Sr,x:Sr,y:Sr,z:Sr,perspective:Sr,transformPerspective:Sr,opacity:hr,originX:Er,originY:Er,originZ:Sr},Wr={...ur,transform:Math.round},Yr={...$r,...Hr,zIndex:Wr,size:Sr,fillOpacity:hr,strokeOpacity:hr,numOctaves:Wr},Kr={...Yr,color:Dr,backgroundColor:Dr,outlineColor:Dr,fill:Dr,stroke:Dr,borderColor:Dr,borderTopColor:Dr,borderRightColor:Dr,borderBottomColor:Dr,borderLeftColor:Dr,filter:Vr,WebkitFilter:Vr},Gr=e=>Kr[e];function Qr(e,t){let n=Gr(e);return n!==Vr&&(n=zr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Xr=new Set(["auto","none","0"]);const Zr=e=>180*e/Math.PI,Jr=e=>{const t=Zr(Math.atan2(e[1],e[0]));return ts(t)},es={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Jr,rotateZ:Jr,skewX:e=>Zr(Math.atan(e[1])),skewY:e=>Zr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ts=e=>((e%=360)<0&&(e+=360),e),ns=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),rs=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ss={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ns,scaleY:rs,scale:e=>(ns(e)+rs(e))/2,rotateX:e=>ts(Zr(Math.atan2(e[6],e[5]))),rotateY:e=>ts(Zr(Math.atan2(-e[2],e[0]))),rotateZ:Jr,rotate:Jr,skewX:e=>Zr(Math.atan(e[4])),skewY:e=>Zr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function is(e){return e.includes("scale")?1:0}function as(e,t){if(!e||"none"===e)return is(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=ss,s=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=es,s=t}if(!s)return is(t);const i=r[t],a=s[1].split(",").map(os);return"function"===typeof i?i(a):a[i]}function os(e){return parseFloat(e.trim())}const ls=e=>e===ur||e===Sr,cs=new Set(["x","y","z"]),ds=Bn.filter((e=>!cs.has(e)));const us={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return as(n,"x")},y:(e,t)=>{let{transform:n}=t;return as(n,"y")}};us.translateX=us.x,us.translateY=us.y;const hs=new Set;let ms=!1,ps=!1;function fs(){if(ps){const e=Array.from(hs).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return ds.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var s;null===(s=e.getValue(n))||void 0===s||s.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}ps=!1,ms=!1,hs.forEach((e=>e.complete())),hs.clear()}function gs(){hs.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(ps=!0)}))}class xs{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(hs.add(this),ms||(ms=!0,fn.read(gs),fn.resolveKeyframes(fs))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let s=0;s<e.length;s++)if(null===e[s])if(0===s){const s=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),hs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,hs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ys=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),vs=e=>t=>"string"===typeof t&&t.startsWith(e),bs=vs("--"),ws=vs("var(--"),js=e=>!!ws(e)&&Ns.test(e.split("/*")[0].trim()),Ns=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ks=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ss(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Lt(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,s]=function(e){const t=ks.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${null!==n&&void 0!==n?n:r}`,s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return ys(e)?parseFloat(e):e}return js(s)?Ss(s,t,n+1):s}const _s=e=>t=>t.test(e),Cs=[ur,Sr,kr,Nr,Cr,_r,{test:e=>"auto"===e,parse:e=>e}],Es=e=>Cs.find(_s(e));class Ts extends xs{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),js(n))){const r=Ss(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Un.has(n)||2!==e.length)return;const[r,s]=e,i=Es(r),a=Es(s);if(i!==a)if(ls(i)&&ls(a))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)("number"===typeof(r=e[s])?0===r:null===r||"none"===r||"0"===r||cr(r))&&n.push(s);var r;n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"===typeof t&&!Xr.has(t)&&Or(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=Qr(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=us[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=us[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const Ds=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!zr.test(e)&&"0"!==e||e.startsWith("url(")));function As(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=Ds(s,t),o=Ds(i,t);return Mt(a===o,`You are trying to animate ${t} from "${s}" to "${i}". ${s} is not an animatable value - to enable this animation set ${s} to a value animatable to ${i} via the \`style\` property.`),!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||en(n))&&r)}const Ps=e=>null!==e;function Ms(e,t,n){let{repeat:r,repeatType:s="loop"}=t;const i=e.filter(Ps),a=r&&"loop"!==s&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}class Ls{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Nn.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(gs(),fs()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Nn.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:s,delay:i,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!As(e,n,r,s)){if(Xn||!i)return o&&o(Ms(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const Os=(e,t,n)=>e+(t-e)*n;function Rs(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Is(e,t){return n=>n>0?t:e}const Fs=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},zs=[wr,br,Tr];function Bs(e){const t=(e=>zs.find((t=>t.test(e))))(e);if(Mt(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===Tr&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=Rs(s,e,t+1/3),a=Rs(s,e,t),o=Rs(s,e,t-1/3)}else i=a=o=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:s}}(n)),n}const qs=(e,t)=>{const n=Bs(e),r=Bs(t);if(!n||!r)return Is(e,t);const s={...n};return e=>(s.red=Fs(n.red,r.red,e),s.green=Fs(n.green,r.green,e),s.blue=Fs(n.blue,r.blue,e),s.alpha=Os(n.alpha,r.alpha,e),br.transform(s))},Us=(e,t)=>n=>t(e(n)),Vs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Us)},$s=new Set(["none","hidden"]);function Hs(e,t){return n=>Os(e,t,n)}function Ws(e){return"number"===typeof e?Hs:"string"===typeof e?js(e)?Is:Dr.test(e)?qs:Gs:Array.isArray(e)?Ys:"object"===typeof e?Dr.test(e)?qs:Ks:Is}function Ys(e,t){const n=[...e],r=n.length,s=e.map(((e,n)=>Ws(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function Ks(e,t){const n={...e,...t},r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Ws(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Gs=(e,t)=>{const n=zr.createTransformer(t),r=Or(e),s=Or(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?$s.has(e)&&!s.values.length||$s.has(t)&&!r.values.length?function(e,t){return $s.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Vs(Ys(function(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],l=null!==(n=e.values[o])&&void 0!==n?n:0;r[i]=l,s[a]++}return r}(r,s),s.values),n):(Mt(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Is(e,t))};function Qs(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Os(e,t,n);return Ws(e)(e,t)}function Xs(e,t,n){const r=Math.max(t-5,0);return Ut(n-e(r),t-r)}const Zs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Js=.001;function ei(e){let t,n,{duration:r=Zs.duration,bounce:s=Zs.bounce,velocity:i=Zs.velocity,mass:a=Zs.mass}=e;Mt(r<=Bt(Zs.maxDuration),"Spring duration must be 10 seconds or less");let o=1-s;o=dr(Zs.minDamping,Zs.maxDamping,o),r=dr(Zs.minDuration,Zs.maxDuration,qt(r)),o<1?(t=e=>{const t=e*o,n=t*r,s=t-i,a=ni(e,o),l=Math.exp(-n);return Js-s/a*l},n=e=>{const n=e*o*r,s=n*i+i,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=ni(Math.pow(e,2),o);return(-t(e)+Js>0?-1:1)*((s-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<ti;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Bt(r),isNaN(l))return{stiffness:Zs.stiffness,damping:Zs.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const ti=12;function ni(e,t){return e*Math.sqrt(1-t*t)}const ri=["duration","bounce"],si=["stiffness","damping","mass"];function ii(e,t){return t.some((t=>void 0!==e[t]))}function ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zs.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zs.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=function(e){let t={velocity:Zs.velocity,stiffness:Zs.stiffness,damping:Zs.damping,mass:Zs.mass,isResolvedFromDuration:!1,...e};if(!ii(e,si)&&ii(e,ri))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*dr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Zs.mass,stiffness:s,damping:i}}else{const n=ei(e);t={...t,...n,mass:Zs.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-qt(n.velocity||0)}),p=h||0,f=c/(2*Math.sqrt(l*d)),g=a-i,x=qt(Math.sqrt(l/d)),y=Math.abs(g)<5;let v;if(r||(r=y?Zs.restSpeed.granular:Zs.restSpeed.default),s||(s=y?Zs.restDelta.granular:Zs.restDelta.default),f<1){const e=ni(x,f);v=t=>{const n=Math.exp(-f*x*t);return a-n*((p+f*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)v=e=>a-Math.exp(-x*e)*(g+(p+x*g)*e);else{const e=x*Math.sqrt(f*f-1);v=t=>{const n=Math.exp(-f*x*t),r=Math.min(e*t,300);return a-n*((p+f*x*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const b={calculatedDuration:m&&u||null,next:e=>{const t=v(e);if(m)o.done=e>=u;else{let n=0;f<1&&(n=0===e?Bt(p):Xs(v,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=s;o.done=i&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(Jt(b),Zt),t=on((t=>b.next(e*t).value),e,30);return e+"ms "+t}};return b}function oi(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const h=t[0],m={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=r*n;const g=h+f,x=void 0===o?g:o(g);x!==g&&(f=x-h);const y=e=>-f*Math.exp(-e/s),v=e=>x+y(e),b=e=>{const t=y(e),n=v(e);m.done=Math.abs(t)<=d,m.value=m.done?x:n};let w,j;const N=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(m.value)&&(w=e,j=ai({keyframes:[m.value,p(m.value)],velocity:Xs(v,e,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,b(e),N(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&b(e),m)}}}const li=Jn(.42,0,1,1),ci=Jn(0,0,.58,1),di=Jn(.42,0,.58,1),ui={linear:Pt,easeIn:li,easeInOut:di,easeOut:ci,circIn:ar,circInOut:lr,circOut:or,backIn:rr,backInOut:sr,backOut:nr,anticipate:ir},hi=e=>{if(nn(e)){Lt(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,s]=e;return Jn(t,n,r,s)}return"string"===typeof e?(Lt(void 0!==ui[e],`Invalid easing type '${e}'`),ui[e]):e};function mi(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(Lt(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],s=n||Qs,i=e.length-1;for(let a=0;a<i;a++){let n=s(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Pt:t;n=Vs(e,n)}r.push(n)}return r}(t,r,s),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=Ft(e[r],e[r+1],n);return o[r](s)};return n?t=>c(dr(e[0],e[i-1],t)):c}function pi(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ft(0,t,r);e.push(Os(n,1,s))}}(t,e.length-1),t}function fi(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(hi):hi(s),a={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:pi(n),t),l=mi(o,n,{ease:Array.isArray(i)?i:(c=n,d=i,c.map((()=>d||di)).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const gi=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>fn.update(t,!0),stop:()=>gn(t),now:()=>xn.isProcessing?xn.timestamp:Nn.now()}},xi={decay:oi,inertia:oi,tween:fi,keyframes:fi,spring:ai},yi=e=>e/100;class vi extends Ls{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:s}=this.options,i=(null===r||void 0===r?void 0:r.KeyframeResolver)||xs;this.resolver=new i(s,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=this.options,a=en(t)?t:xi[t]||fi;let o,l;a!==fi&&"number"!==typeof e[0]&&(o=Vs(yi,Qs(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});"mirror"===s&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-i})),null===c.calculatedDuration&&(c.calculatedDuration=Jt(c));const{calculatedDuration:d}=c,u=d+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:d,resolvedDuration:u,totalDuration:u*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;Rn.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:d}=n;if(null===this.startTime)return s.next(0);const{delay:u,repeat:h,repeatType:m,repeatDelay:p,onUpdate:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-u*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,v=s;if(h){const e=Math.min(this.currentTime,c)/d;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===m?(n=1-n,p&&(n-=p/d)):"mirror"===m&&(v=i)),y=dr(0,1,n)*d}const b=x?{done:!1,value:o[0]}:v.next(y);a&&(b.value=a(b.value));let{done:w}=b;x||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&void 0!==r&&(b.value=Ms(o,this.options,r)),f&&f(b.value),j&&this.finish(),b}get duration(){const{resolved:e}=this;return e?qt(e.calculatedDuration):0}get time(){return qt(this.currentTime)}set time(e){e=Bt(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=qt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=gi,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),Rn.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const bi=new Set(["opacity","clipPath","filter","transform"]);const wi=It((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const ji={anticipate:ir,backInOut:sr,circInOut:lr};class Ni extends Ls{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:s}=this.options;this.resolver=new Ts(s,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:s,type:i,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;var c;if("string"===typeof s&&an()&&s in ji&&(s=ji[s]),en((c=this.options).type)||"spring"===c.type||!ln(c.ease)){const{onComplete:t,onUpdate:a,motionValue:o,element:l,...c}=this.options,d=function(e,t){const n=new vi({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),s.push(r.value),i+=10;return{times:void 0,keyframes:s,duration:i-10,ease:"linear"}}(e,c);1===(e=d.keyframes).length&&(e[1]=e[0]),n=d.duration,r=d.times,s=d.ease,i="keyframes"}const d=function(e,t,n){let{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const d=un(o,s);Array.isArray(d)&&(c.easing=d),mn.value&&Rn.waapi++;const u=e.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"});return mn.value&&u.finished.finally((()=>{Rn.waapi--})),u}(a.owner.current,o,e,{...this.options,duration:n,times:r,ease:s});return d.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(tn(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:n}=this.options;a.set(Ms(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:r,type:i,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return qt(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return qt(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Bt(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Pt;const{animation:n}=t;tn(n,e)}else this.pendingTimeline=e;return Pt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:s,ease:i,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,d=new vi({...c,keyframes:n,duration:r,type:s,ease:i,times:a,isGenerator:!0}),u=Bt(this.time);e.setWithVelocity(d.sample(u-10).value,d.sample(u).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return wi()&&n&&bi.has(n)&&("transform"!==n||!l)&&!o&&!r&&"mirror"!==s&&0!==i&&"inertia"!==a}}const ki={type:"spring",stiffness:500,damping:25,restSpeed:10},Si={type:"keyframes",duration:.8},_i={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ci=(e,t)=>{let{keyframes:n}=t;return n.length>2?Si:qn.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:ki:_i};const Ei=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return a=>{const o=Xt(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=Bt(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}=e;return!!Object.keys(u).length})(o)||(d={...d,...Ci(e,d)}),d.duration&&(d.duration=Bt(d.duration)),d.repeatDelay&&(d.repeatDelay=Bt(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(u=!0)),(Xn||Ot)&&(u=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!i&&void 0!==t.get()){const e=Ms(d.keyframes,o);if(void 0!==e)return fn.update((()=>{d.onUpdate(e),d.onComplete()})),new Qt([])}return!i&&Ni.supports(d)?new Ni(d):new vi(d)}};function Ti(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function Di(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const u in l){const t=e.getValue(u,null!==(i=e.latestValues[u])&&void 0!==i?i:null),r=l[u];if(void 0===r||d&&Ti(d,u))continue;const s={delay:n,...Xt(a||{},u)};let o=!1;if(window.MotionHandoffAnimation){const t=Qn(e);if(t){const e=window.MotionHandoffAnimation(t,u,fn);null!==e&&(s.startTime=e,o=!0)}}Yn(e,u),t.start(Ei(u,t,r,e.shouldReduceMotion&&Un.has(u)?{type:!1}:s,e,o));const h=t.animation;h&&c.push(h)}return o&&Promise.all(c).then((()=>{fn.update((()=>{o&&function(e,t){const n=Yt(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i)Hn(e,a,$n(i[a]))}(e,o)}))})),c}function Ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const s=Yt(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(Di(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Pi).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(Ai(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then((()=>t()))}return Promise.all([a(),o(n.delay)])}function Pi(e,t){return e.sortNodePosition(t)}function Mi(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Li(e){return"string"===typeof e||Array.isArray(e)}const Oi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ri=["initial",...Oi],Ii=Ri.length;function Fi(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Fi(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Ii;n++){const r=Ri[n],s=e.props[r];(Li(s)||!1===s)&&(t[r]=s)}return t}const zi=[...Oi].reverse(),Bi=Oi.length;function qi(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map((t=>Ai(e,t,r)));n=Promise.all(s)}else if("string"===typeof t)n=Ai(e,t,r);else{const s="function"===typeof t?Yt(e,t,r.custom):t;n=Promise.all(Di(e,s,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Ui(e){let t=qi(e),n=Hi(),r=!0;const s=t=>(n,r)=>{var s;const i=Yt(e,r,"exit"===t?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function i(i){const{props:a}=e,o=Fi(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<Bi;t++){const h=zi[t],m=n[h],p=void 0!==a[h]?a[h]:o[h],f=Li(p),g=h===i?m.isActive:null;!1===g&&(u=t);let x=p===o[h]&&p!==a[h]&&f;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),m.protectedKeys={...d},!m.isActive&&null===g||!p&&!m.prevProp||$t(p)||"boolean"===typeof p)continue;const y=Vi(m.prevProp,p);let v=y||h===i&&m.isActive&&!x&&f||t>u&&f,b=!1;const w=Array.isArray(p)?p:[p];let j=w.reduce(s(h),{});!1===g&&(j={});const{prevResolvedValues:N={}}=m,k={...N,...j},S=t=>{v=!0,c.has(t)&&(b=!0,c.delete(t)),m.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=j[e],n=N[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Vn(t)&&Vn(n)?!Mi(t,n):t!==n,r?void 0!==t&&null!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):m.protectedKeys[e]=!0}m.prevProp=p,m.prevResolvedValues=j,m.isActive&&(d={...d,...j}),r&&e.blockInitialAnimation&&(v=!1);v&&(!(x&&y)||b)&&l.push(...w.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=Yt(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Hi(),r=!0}}}function Vi(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Mi(t,e)}function $i(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hi(){return{animate:$i(!0),whileInView:$i(),whileHover:$i(),whileTap:$i(),whileDrag:$i(),whileFocus:$i(),exit:$i()}}class Wi{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Yi=0;const Ki={animation:{Feature:class extends Wi{constructor(e){super(e),e.animationState||(e.animationState=Ui(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$t(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Wi{constructor(){super(...arguments),this.id=Yi++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Gi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Qi(e){return{point:{x:e.pageX,y:e.pageY}}}function Xi(e,t,n,r){return Gi(e,t,(e=>t=>Tn(t)&&e(t,Qi(t)))(n),r)}function Zi(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function Ji(e){return e.max-e.min}function ea(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Os(t.min,t.max,e.origin),e.scale=Ji(n)/Ji(t),e.translate=Os(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function ta(e,t,n,r){ea(e.x,t.x,n.x,r?r.originX:void 0),ea(e.y,t.y,n.y,r?r.originY:void 0)}function na(e,t,n){e.min=n.min+t.min,e.max=e.min+Ji(t)}function ra(e,t,n){e.min=t.min-n.min,e.max=e.min+Ji(t)}function sa(e,t,n){ra(e.x,t.x,n.x),ra(e.y,t.y,n.y)}const ia=()=>({x:{min:0,max:0},y:{min:0,max:0}});function aa(e){return[e("x"),e("y")]}function oa(e){return void 0===e||1===e}function la(e){let{scale:t,scaleX:n,scaleY:r}=e;return!oa(t)||!oa(n)||!oa(r)}function ca(e){return la(e)||da(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function da(e){return ua(e.x)||ua(e.y)}function ua(e){return e&&"0%"!==e}function ha(e,t,n){return n+t*(e-n)}function ma(e,t,n,r,s){return void 0!==s&&(e=ha(e,s,r)),ha(e,n,r)+t}function pa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=ma(e.min,t,n,r,s),e.max=ma(e.max,t,n,r,s)}function fa(e,t){let{x:n,y:r}=t;pa(e.x,n.translate,n.scale,n.originPoint),pa(e.y,r.translate,r.scale,r.originPoint)}const ga=.999999999999,xa=1.0000000000001;function ya(e,t){e.min=e.min+t,e.max=e.max+t}function va(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;pa(e,t,n,Os(e.min,e.max,s),r)}function ba(e,t){va(e.x,t.x,t.scaleX,t.scale,t.originX),va(e.y,t.y,t.scaleY,t.scale,t.originY)}function wa(e,t){return Zi(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ja=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function Na(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const ka=(e,t)=>Math.abs(e-t);class Sa{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ea(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ka(e.x,t.x),r=ka(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=xn;this.history.push({...r,timestamp:s});const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=_a(t,this.transformPagePoint),fn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Ea("pointercancel"===e.type?this.lastMoveEventInfo:_a(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Tn(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=_a(Qi(e),this.transformPagePoint),{point:a}=i,{timestamp:o}=xn;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Ea(i,this.history)),this.removeListeners=Vs(Xi(this.contextWindow,"pointermove",this.handlePointerMove),Xi(this.contextWindow,"pointerup",this.handlePointerUp),Xi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gn(this.updatePoint)}}function _a(e,t){return t?{point:t(e.point)}:e}function Ca(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ea(e,t){let{point:n}=e;return{point:n,delta:Ca(n,Da(t)),offset:Ca(n,Ta(t)),velocity:Aa(t,.1)}}function Ta(e){return e[0]}function Da(e){return e[e.length-1]}function Aa(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Da(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Bt(t)));)n--;if(!r)return{x:0,y:0};const i=qt(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Pa(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Ma(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const La=.35;function Oa(e,t,n){return{min:Ra(e,t),max:Ra(e,n)}}function Ra(e,t){return"number"===typeof e?e:e[t]||0}const Ia=new WeakMap;class Fa{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Sa(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Qi(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?kn[i]?null:(kn[i]=!0,()=>{kn[i]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),aa((e=>{let t=this.getAxisMotionValue(e).get()||0;if(kr.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Ji(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),s&&fn.postRender((()=>s(e,t))),Yn(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>aa((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ja(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&fn.postRender((()=>s(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!za(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?Os(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?Os(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&Na(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:Pa(e.x,r,i),y:Pa(e.y,n,s)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La;return!1===e?e=0:!0===e&&(e=La),{x:Oa(e,"left","right"),y:Oa(e,"top","bottom")}}(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&aa((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Na(e))return!1;const n=e.current;Lt(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=wa(e,n),{scroll:s}=t;return s&&(ya(r.x,s.offset.x),ya(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Ma(e.x,t.x),y:Ma(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Zi(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=aa((a=>{if(!za(a,t,this.currentDirection))return;let l=o&&o[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(a,u)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Yn(this.visualElement,e),n.start(Ei(e,n,0,t,this.visualElement,!1))}stopAnimation(){aa((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){aa((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){aa((t=>{const{drag:n}=this.getProps();if(!za(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-Os(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Na(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};aa((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Ji(e),s=Ji(t);return s>r?n=Ft(t.min,t.max-r,e.min):r>s&&(n=Ft(e.min,e.max-s,t.min)),dr(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),aa((t=>{if(!za(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(Os(s,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Ia.set(this.visualElement,this);const e=Xi(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Na(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),fn.read(t);const s=Gi(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(aa((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=La,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function za(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Ba=e=>(t,n)=>{e&&fn.postRender((()=>e(t,n)))};const qa=(0,a.createContext)({}),Ua={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Va(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $a={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Sr.test(e))return e;e=parseFloat(e)}return`${Va(e,t.target.x)}% ${Va(e,t.target.y)}%`}},Ha={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=zr.parse(e);if(i.length>5)return s;const a=zr.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const d=Os(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=d),"number"===typeof i[3+o]&&(i[3+o]/=d),a(i)}},Wa={};class Ya extends a.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;!function(e){for(const t in e)Wa[t]=e[t],bs(t)&&(Wa[t].isCSSVariable=!0)}(Ga),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(()=>{this.safeToRemove()})),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ua.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,i=n.projection;return i?(i.isPresent=s,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||fn.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vn.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ka(e){const[t,n]=_t(),r=(0,a.useContext)(gt);return(0,ft.jsx)(Ya,{...e,layoutGroup:r,switchLayoutGroup:(0,a.useContext)(qa),isPresent:t,safeToRemove:n})}const Ga={borderRadius:{...$a,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$a,borderTopRightRadius:$a,borderBottomLeftRadius:$a,borderBottomRightRadius:$a,boxShadow:Ha};const Qa=(e,t)=>e.depth-t.depth;class Xa{constructor(){this.children=[],this.isDirty=!1}add(e){Dt(this.children,e),this.isDirty=!0}remove(e){At(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qa),this.isDirty=!1,this.children.forEach(e)}}function Za(e,t){const n=Nn.now(),r=s=>{let{timestamp:i}=s;const a=i-n;a>=t&&(gn(r),e(a-t))};return fn.read(r,!0),()=>gn(r)}function Ja(e){const t=Wn(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const eo=["TopLeft","TopRight","BottomLeft","BottomRight"],to=eo.length,no=e=>"string"===typeof e?parseFloat(e):e,ro=e=>"number"===typeof e||Sr.test(e);function so(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const io=oo(0,.5,or),ao=oo(.5,.95,Pt);function oo(e,t,n){return r=>r<e?0:r>t?1:n(Ft(e,t,r))}function lo(e,t){e.min=t.min,e.max=t.max}function co(e,t){lo(e.x,t.x),lo(e.y,t.y)}function uo(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ho(e,t,n,r,s){return e=ha(e-=t,1/n,r),void 0!==s&&(e=ha(e,1/s,r)),e}function mo(e,t,n,r,s){let[i,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;kr.test(t)&&(t=parseFloat(t),t=Os(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Os(i.min,i.max,r);e===i&&(o-=t),e.min=ho(e.min,t,n,o,s),e.max=ho(e.max,t,n,o,s)}(e,t[i],t[a],t[o],t.scale,r,s)}const po=["x","scaleX","originX"],fo=["y","scaleY","originY"];function go(e,t,n,r){mo(e.x,t,po,n?n.x:void 0,r?r.x:void 0),mo(e.y,t,fo,n?n.y:void 0,r?r.y:void 0)}function xo(e){return 0===e.translate&&1===e.scale}function yo(e){return xo(e.x)&&xo(e.y)}function vo(e,t){return e.min===t.min&&e.max===t.max}function bo(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wo(e,t){return bo(e.x,t.x)&&bo(e.y,t.y)}function jo(e){return Ji(e.x)/Ji(e.y)}function No(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ko{constructor(){this.members=[]}add(e){Dt(this.members,e),e.scheduleRender()}remove(e){if(At(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const So={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},_o=["","X","Y","Z"],Co={visibility:"hidden"};let Eo=0;function To(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Do(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Qn(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",fn,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Do(r)}function Ao(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Eo++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mn.value&&(So.nodes=So.calculatedTargetDeltas=So.calculatedProjections=0),this.nodes.forEach(Lo),this.nodes.forEach(qo),this.nodes.forEach(Uo),this.nodes.forEach(Oo),mn.addProjectionMetrics&&mn.addProjectionMetrics(So)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xa)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new zt),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:s,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||s)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Za(r,250),Ua.hasAnimatedSinceResize&&(Ua.hasAnimatedSinceResize=!1,this.nodes.forEach(Bo))}))}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&a&&(s||i)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||Ko,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!wo(this.targetLayout,s),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e={...Xt(i,"layout"),onPlay:o,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Bo(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vo),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Do(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Io);this.isUpdating||this.nodes.forEach(Fo),this.isUpdating=!1,this.nodes.forEach(zo),this.nodes.forEach(Po),this.nodes.forEach(Mo),this.clearAllSnapshots();const e=Nn.now();xn.delta=dr(0,1e3/60,e-xn.timestamp),xn.timestamp=e,xn.isProcessing=!0,yn.update.process(xn),yn.preRender.process(xn),yn.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ro),this.sharedNodes.forEach($o)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fn.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Ji(this.snapshot.measuredBox.x)||Ji(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!yo(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||ca(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Xo((r=n).x),Xo(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Jo))){const{scroll:e}=this.root;e&&(ya(n.x,e.offset.x),ya(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(co(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:s,options:i}=t;t!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&co(n,e),ya(n.x,s.offset.x),ya(n.y,s.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};co(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&ba(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),ca(e.latestValues)&&ba(n,e.latestValues)}return ca(this.latestValues)&&ba(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};co(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!ca(e.latestValues))continue;la(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};co(r,e.measurePageBox()),go(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return ca(this.latestValues)&&go(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:i}=this.options;if(this.layout&&(s||i)){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},sa(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),co(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,na(a.x,o.x,l.x),na(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):co(this.target,this.layout.layoutBox),fa(this.target,this.targetDelta)):co(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},sa(this.relativeTargetOrigin,this.target,e.target),co(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mn.value&&So.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!la(this.parent.latestValues)&&!da(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(r=!1),r)return;const{layout:s,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!i)return;co(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,a;t.x=t.y=1;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ba(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,fa(e,a)),r&&ca(i.latestValues)&&ba(e,i.latestValues))}t.x<xa&&t.x>ga&&(t.x=1),t.y<xa&&t.y>ga&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(uo(this.prevProjectionDelta.x,this.projectionDelta.x),uo(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ta(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&No(this.projectionDelta.x,this.prevProjectionDelta.x)&&No(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),mn.value&&So.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Yo));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Ho(i.x,e.x,n),Ho(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sa(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Wo(e.x,t.x,n.x,r),Wo(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),u&&function(e,t){return vo(e.x,t.x)&&vo(e.y,t.y)}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),co(u,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=Os(0,void 0!==n.opacity?n.opacity:1,io(r)),e.opacityExit=Os(void 0!==t.opacity?t.opacity:1,0,ao(r))):i&&(e.opacity=Os(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<to;a++){const s=`border${eo[a]}Radius`;let i=so(t,s),o=so(n,s);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||ro(i)===ro(o)?(e[s]=Math.max(Os(no(i),no(o),r),0),(kr.test(o)||kr.test(i))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=Os(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fn.update((()=>{Ua.hasAnimatedSinceResize=!0,Rn.layout++,this.currentAnimation=function(e,t,n){const r=Wn(e)?e:zn(e);return r.start(Ei("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Rn.layout--},onComplete:()=>{Rn.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Zo(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ji(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Ji(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}co(t,n),ba(t,s),ta(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ko);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&To("z",e,r,this.animationValues);for(let s=0;s<_o.length;s++)To(`rotate${_o[s]}`,e,r,this.animationValues),To(`skew${_o[s]}`,e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Co;const r={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Ja(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=s?s(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Ja(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1),t}const a=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),i&&(r+=`rotateY(${i}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),s&&(r.transform=s(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,i.animationValues?r.opacity=i===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=i===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Wa){if(void 0===a[c])continue;const{correct:e,applyTo:t,isCSSVariable:n}=Wa[c],s="none"===r.transform?a[c]:e(a[c],i);if(t){const e=t.length;for(let n=0;n<e;n++)r[t[n]]=s}else n?this.options.visualElement.renderState.vars[c]=s:r[c]=s}return this.options.layoutId&&(r.pointerEvents=i===this?Ja(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Io),this.root.sharedNodes.clear()}}}function Po(e){e.updateLayout()}function Mo(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;"size"===s?aa((e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],s=Ji(r);r.min=t[e].min,r.max=r.min+s})):Zo(s,n.layoutBox,t)&&aa((r=>{const s=i?n.measuredBox[r]:n.layoutBox[r],a=Ji(t[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ta(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?ta(o,e.applyTransform(r,!0),n.measuredBox):ta(o,t,n.layoutBox);const l=!yo(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};sa(a,n.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};sa(o,t,i.layoutBox),wo(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Lo(e){mn.value&&So.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Oo(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ro(e){e.clearSnapshot()}function Io(e){e.clearMeasurements()}function Fo(e){e.isLayoutDirty=!1}function zo(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bo(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qo(e){e.resolveTargetDelta()}function Uo(e){e.calcProjection()}function Vo(e){e.resetSkewAndRotation()}function $o(e){e.removeLeadSnapshot()}function Ho(e,t,n){e.translate=Os(t.translate,0,n),e.scale=Os(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Wo(e,t,n,r){e.min=Os(t.min,n.min,r),e.max=Os(t.max,n.max,r)}function Yo(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ko={duration:.45,ease:[.4,0,.1,1]},Go=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Qo=Go("applewebkit/")&&!Go("chrome/")?Math.round:Pt;function Xo(e){e.min=Qo(e.min),e.max=Qo(e.max)}function Zo(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=jo(t),s=jo(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function Jo(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const el=Ao({attachResizeListener:(e,t)=>Gi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tl={current:void 0},nl=Ao({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!tl.current){const e=new el({});e.mount(window),e.setOptions({layoutScroll:!0}),tl.current=e}return tl.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),rl={pan:{Feature:class extends Wi{constructor(){super(...arguments),this.removePointerDownListener=Pt}onPointerDown(e){this.session=new Sa(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ja(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ba(e),onStart:Ba(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&fn.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Xi(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Wi{constructor(e){super(e),this.removeGroupControls=Pt,this.removeListeners=Pt,this.controls=new Fa(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pt}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:nl,MeasureLayout:Ka}};function sl(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&fn.postRender((()=>s(t,Qi(t))))}function il(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&fn.postRender((()=>s(t,Qi(t))))}const al=new WeakMap,ol=new WeakMap,ll=e=>{const t=al.get(e.target);t&&t(e)},cl=e=>{e.forEach(ll)};function dl(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;ol.has(r)||ol.set(r,{});const s=ol.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(cl,{root:t,...n})),s[i]}(t);return al.set(e,n),r.observe(e),()=>{al.delete(e),r.unobserve(e)}}const ul={some:0,all:1};const hl={inView:{Feature:class extends Wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:ul[r]};return dl(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Wi{mount(){const{current:e}=this.node;e&&(this.unmount=On(e,((e,t)=>(il(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return il(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Wj){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vs(Gi(this.node.current,"focus",(()=>this.onFocus())),Gi(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Wi{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=_n(e,n),a=e=>{if(!Cn(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{Cn(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,s)};return r.forEach((e=>{e.addEventListener("pointerenter",a,s)})),i}(e,((e,t)=>(sl(this.node,t,"Start"),e=>sl(this.node,e,"End")))))}unmount(){}}}},ml={layout:{ProjectionNode:nl,MeasureLayout:Ka}},pl=(0,a.createContext)({strict:!1}),fl=(0,a.createContext)({});function gl(e){return $t(e.animate)||Ri.some((t=>Li(e[t])))}function xl(e){return Boolean(gl(e)||e.variants)}function yl(e){const{initial:t,animate:n}=function(e,t){if(gl(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Li(t)?t:void 0,animate:Li(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(fl));return(0,a.useMemo)((()=>({initial:t,animate:n})),[vl(t),vl(n)])}function vl(e){return Array.isArray(e)?e.join(" "):e}const bl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const n in bl)wl[n]={isEnabled:e=>bl[n].some((t=>!!e[t]))};const jl=Symbol.for("motionComponentSymbol");function Nl(e,t,n){return(0,a.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Na(n)&&(n.current=r))}),[t])}function kl(e,t,n,r,s){var i,o;const{visualElement:l}=(0,a.useContext)(fl),c=(0,a.useContext)(pl),d=(0,a.useContext)(bt),u=(0,a.useContext)(wt).reducedMotion,h=(0,a.useRef)(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:u}));const m=h.current,p=(0,a.useContext)(qa);!m||m.projection||!s||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Sl(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(a)||o&&Na(o),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(h.current,n,s,p);const f=(0,a.useRef)(!1);(0,a.useInsertionEffect)((()=>{m&&f.current&&m.update(n,d)}));const g=n[Gn],x=(0,a.useRef)(Boolean(g)&&!(null===(i=window.MotionHandoffIsComplete)||void 0===i?void 0:i.call(window,g))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,g)));return vt((()=>{m&&(f.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),vn.render(m.render),x.current&&m.animationState&&m.animationState.animateChanges())})),(0,a.useEffect)((()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),x.current=!1))})),m}function Sl(e){if(e)return!1!==e.options.allowProjection?e.projection:Sl(e.parent)}function _l(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:i}=e;var o,l;function c(e,t){let o;const l={...(0,a.useContext)(wt),...e,layoutId:Cl(e)},{isStatic:c}=l,d=yl(e),u=s(e,c);if(!c&&yt){!function(){(0,a.useContext)(pl).strict;0}();const e=function(e){const{drag:t,layout:n}=wl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=e.MeasureLayout,d.visualElement=kl(i,u,l,n,e.ProjectionNode)}return(0,ft.jsxs)(fl.Provider,{value:d,children:[o&&d.visualElement?(0,ft.jsx)(o,{visualElement:d.visualElement,...l}):null,r(i,e,Nl(u,d.visualElement,t),u,c,d.visualElement)]})}t&&function(e){for(const t in e)wl[t]={...wl[t],...e[t]}}(t),c.displayName=`motion.${"string"===typeof i?i:`create(${null!==(l=null!==(o=i.displayName)&&void 0!==o?o:i.name)&&void 0!==l?l:""})`}`;const d=(0,a.forwardRef)(c);return d[jl]=i,d}function Cl(e){let{layoutId:t}=e;const n=(0,a.useContext)(gt).id;return n&&void 0!==t?n+"-"+t:t}function El(e,t){let{layout:n,layoutId:r}=t;return qn.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Wa[e]||"opacity"===e)}const Tl=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Dl={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Al=Bn.length;function Pl(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(qn.has(l))a=!0;else if(bs(l))s[l]=e;else{const t=Tl(e,Yr[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<Al;i++){const a=Bn[i],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=Tl(o,Yr[a]);l||(s=!1,r+=`${Dl[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}const Ml=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ll(e,t,n){for(const r in t)Wn(t[r])||El(r,n)||(e[r]=t[r])}function Ol(e,t){const n={};return Ll(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,a.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Pl(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function Rl(e,t){const n={},r=Ol(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Il=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Il.has(e)}let zl=e=>!Fl(e);try{(Bl=require("@emotion/is-prop-valid").default)&&(zl=e=>e.startsWith("on")?!Fl(e):Bl(e))}catch(UR){}var Bl;const ql=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ul(e){return"string"===typeof e&&!e.includes("-")&&!!(ql.indexOf(e)>-1||/[A-Z]/u.test(e))}const Vl={offset:"stroke-dashoffset",array:"stroke-dasharray"},$l={offset:"strokeDashoffset",array:"strokeDasharray"};function Hl(e,t,n){return"string"===typeof e?e:Sr.transform(t+n*e)}function Wl(e,t,n,r){let{attrX:s,attrY:i,attrScale:a,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:u=0,...h}=t;if(Pl(e,h,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:f}=e;m.transform&&(f&&(p.transform=m.transform),delete m.transform),f&&(void 0!==o||void 0!==l||p.transform)&&(p.transformOrigin=function(e,t,n){return`${Hl(t,e.x,e.width)} ${Hl(n,e.y,e.height)}`}(f,void 0!==o?o:.5,void 0!==l?l:.5)),void 0!==s&&(m.x=s),void 0!==i&&(m.y=i),void 0!==a&&(m.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?Vl:$l;e[i.offset]=Sr.transform(-r);const a=Sr.transform(t),o=Sr.transform(n);e[i.array]=`${a} ${o}`}(m,c,d,u,!1)}const Yl=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Kl=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Gl(e,t,n,r){const s=(0,a.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Wl(n,t,Kl(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Ll(t,e.style,e),s.style={...t,...s.style}}return s}function Ql(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,i)=>{let{latestValues:o}=s;const l=(Ul(t)?Gl:Rl)(n,o,i,t),c=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(zl(s)||!0===n&&Fl(s)||!t&&!Fl(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(n,"string"===typeof t,e),d=t!==a.Fragment?{...c,...l,ref:r}:{},{children:u}=n,h=(0,a.useMemo)((()=>Wn(u)?u.get():u),[u]);return(0,a.createElement)(t,{...d,children:h})}}const Xl=e=>(t,n)=>{const r=(0,a.useContext)(fl),s=(0,a.useContext)(bt),i=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i,onUpdate:a}=e;const o={latestValues:Zl(t,n,r,s),renderState:i()};return a&&(o.onMount=e=>a({props:t,current:e,...o}),o.onUpdate=e=>a(e)),o}(e,t,r,s);return n?i():xt(i)};function Zl(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Ja(i[h]);let{initial:a,animate:o}=e;const l=gl(e),c=xl(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const u=d?o:a;if(u&&"boolean"!==typeof u&&!$t(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=Wt(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}function Jl(e,t,n){var r;const{style:s}=e,i={};for(const a in s)(Wn(s[a])||t.style&&Wn(t.style[a])||El(a,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(i[a]=s[a]);return i}const ec={useVisualState:Xl({scrapeMotionValuesFromProps:Jl,createRenderState:Ml})};function tc(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(Wj){t.dimensions={x:0,y:0,width:0,height:0}}}function nc(e,t,n,r){let{style:s,vars:i}=t;Object.assign(e.style,s,r&&r.getProjectionStyles(n));for(const a in i)e.style.setProperty(a,i[a])}const rc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sc(e,t,n,r){nc(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(rc.has(s)?s:Kn(s),t.attrs[s])}function ic(e,t,n){const r=Jl(e,t,n);for(const s in e)if(Wn(e[s])||Wn(t[s])){r[-1!==Bn.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}const ac=["x","y","width","height","cx","cy","r"],oc={useVisualState:Xl({scrapeMotionValuesFromProps:ic,createRenderState:Yl,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:s,latestValues:i}=e;if(!r)return;let a=!!t.drag;if(!a)for(const l in i)if(qn.has(l)){a=!0;break}if(!a)return;let o=!n;if(n)for(let l=0;l<ac.length;l++){const e=ac[l];t[e]!==n[e]&&(o=!0)}o&&fn.read((()=>{tc(r,s),fn.render((()=>{Wl(s,i,Kl(r.tagName),t.transformTemplate),sc(r,s)}))}))}})};function lc(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return _l({...Ul(n)?oc:ec,preloadedFeatures:e,useRender:Ql(r),createVisualElement:t,Component:n})}}const cc={current:null},dc={current:!1};const uc=[...Cs,Dr,zr],hc=new WeakMap;const mc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pc{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xs,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Nn.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,fn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=gl(n),this.isVariantNode=xl(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const e=h[m];void 0!==l[m]&&Wn(e)&&e.set(l[m],!1)}}mount(e){this.current=e,hc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),dc.current||function(){if(dc.current=!0,yt)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cc.current=e.matches;e.addListener(t),t()}else cc.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||cc.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gn(this.notifyUpdate),gn(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=qn.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&fn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),s=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),s(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in wl){const t=wl[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<mc.length;n++){const t=mc[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Wn(s))e.addValue(r,s);else if(Wn(i))e.addValue(r,zn(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,zn(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=zn(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(ys(r)||cr(r))?r=parseFloat(r):!(e=>uc.find(_s(e)))(r)&&zr.test(t)&&(r=Qr(e,t)),this.setBaseTarget(e,Wn(r)?r.get():r)),Wn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const s=Wt(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);s&&(r=s[e])}if(n&&void 0!==r)return r;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||Wn(s)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new zt),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class fc extends pc{constructor(){super(...arguments),this.KeyframeResolver=Ts}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wn(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class gc extends fc{constructor(){super(...arguments),this.type="html",this.renderInstance=nc}readValueFromInstance(e,t){if(qn.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return as(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),s=(bs(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return wa(e,n)}build(e,t,n){Pl(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Jl(e,t,n)}}class xc extends fc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ia,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&tc(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qn.has(t)){const e=Gr(t);return e&&e.default||0}return t=rc.has(t)?t:Kn(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ic(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&fn.postRender(this.updateDimensions)}build(e,t,n){Wl(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){sc(e,t,0,r)}mount(e){this.isSVGTag=Kl(e.tagName),super.mount(e)}}const yc=(e,t)=>Ul(e)?new xc(t):new gc(t,{allowProjection:e!==a.Fragment}),vc=Vt(lc({...Ki,...hl,...rl,...ml},yc));function bc(e,t){return function(){return e.apply(t,arguments)}}const{toString:wc}=Object.prototype,{getPrototypeOf:jc}=Object,Nc=(kc=Object.create(null),e=>{const t=wc.call(e);return kc[t]||(kc[t]=t.slice(8,-1).toLowerCase())});var kc;const Sc=e=>(e=e.toLowerCase(),t=>Nc(t)===e),_c=e=>t=>typeof t===e,{isArray:Cc}=Array,Ec=_c("undefined");const Tc=Sc("ArrayBuffer");const Dc=_c("string"),Ac=_c("function"),Pc=_c("number"),Mc=e=>null!==e&&"object"===typeof e,Lc=e=>{if("object"!==Nc(e))return!1;const t=jc(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Oc=Sc("Date"),Rc=Sc("File"),Ic=Sc("Blob"),Fc=Sc("FileList"),zc=Sc("URLSearchParams"),[Bc,qc,Uc,Vc]=["ReadableStream","Request","Response","Headers"].map(Sc);function $c(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Cc(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function Hc(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Wc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Yc=e=>!Ec(e)&&e!==Wc;const Kc=(Gc="undefined"!==typeof Uint8Array&&jc(Uint8Array),e=>Gc&&e instanceof Gc);var Gc;const Qc=Sc("HTMLFormElement"),Xc=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Zc=Sc("RegExp"),Jc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};$c(n,((n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)})),Object.defineProperties(e,r)};const ed=Sc("AsyncFunction"),td=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Wc.addEventListener("message",(e=>{let{source:t,data:s}=e;t===Wc&&s===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Wc.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Ac(Wc.postMessage)),nd="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Wc):"undefined"!==typeof process&&process.nextTick||td,rd={isArray:Cc,isArrayBuffer:Tc,isBuffer:function(e){return null!==e&&!Ec(e)&&null!==e.constructor&&!Ec(e.constructor)&&Ac(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ac(e.append)&&("formdata"===(t=Nc(e))||"object"===t&&Ac(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Tc(e.buffer),t},isString:Dc,isNumber:Pc,isBoolean:e=>!0===e||!1===e,isObject:Mc,isPlainObject:Lc,isReadableStream:Bc,isRequest:qc,isResponse:Uc,isHeaders:Vc,isUndefined:Ec,isDate:Oc,isFile:Rc,isBlob:Ic,isRegExp:Zc,isFunction:Ac,isStream:e=>Mc(e)&&Ac(e.pipe),isURLSearchParams:zc,isTypedArray:Kc,isFileList:Fc,forEach:$c,merge:function e(){const{caseless:t}=Yc(this)&&this||{},n={},r=(r,s)=>{const i=t&&Hc(n,s)||s;Lc(n[i])&&Lc(r)?n[i]=e(n[i],r):Lc(r)?n[i]=e({},r):Cc(r)?n[i]=r.slice():n[i]=r};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&$c(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return $c(t,((t,r)=>{n&&Ac(t)?e[r]=bc(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&jc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Nc,kindOfTest:Sc,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Cc(e))return e;let t=e.length;if(!Pc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Qc,hasOwnProperty:Xc,hasOwnProp:Xc,reduceDescriptors:Jc,freezeMethods:e=>{Jc(e,((t,n)=>{if(Ac(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ac(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Cc(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Hc,global:Wc,isContextDefined:Yc,isSpecCompliantForm:function(e){return!!(e&&Ac(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Mc(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=Cc(e)?[]:{};return $c(e,((e,t)=>{const i=n(e,r+1);!Ec(i)&&(s[t]=i)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:ed,isThenable:e=>e&&(Mc(e)||Ac(e))&&Ac(e.then)&&Ac(e.catch),setImmediate:td,asap:nd};function sd(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}rd.inherits(sd,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rd.toJSONObject(this.config),code:this.code,status:this.status}}});const id=sd.prototype,ad={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ad[e]={value:e}})),Object.defineProperties(sd,ad),Object.defineProperty(id,"isAxiosError",{value:!0}),sd.from=(e,t,n,r,s,i)=>{const a=Object.create(id);return rd.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),sd.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const od=sd;function ld(e){return rd.isPlainObject(e)||rd.isArray(e)}function cd(e){return rd.endsWith(e,"[]")?e.slice(0,-2):e}function dd(e,t,n){return e?e.concat(t).map((function(e,t){return e=cd(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ud=rd.toFlatObject(rd,{},null,(function(e){return/^is[A-Z]/.test(e)}));const hd=function(e,t,n){if(!rd.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=rd.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!rd.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,i=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&rd.isSpecCompliantForm(t);if(!rd.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(rd.isDate(e))return e.toISOString();if(!o&&rd.isBlob(e))throw new od("Blob is not supported. Use a Buffer instead.");return rd.isArrayBuffer(e)||rd.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(rd.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(rd.isArray(e)&&function(e){return rd.isArray(e)&&!e.some(ld)}(e)||(rd.isFileList(e)||rd.endsWith(n,"[]"))&&(o=rd.toArray(e)))return n=cd(n),o.forEach((function(e,r){!rd.isUndefined(e)&&null!==e&&t.append(!0===a?dd([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!ld(e)||(t.append(dd(s,n,i),l(e)),!1)}const d=[],u=Object.assign(ud,{defaultVisitor:c,convertValue:l,isVisitable:ld});if(!rd.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!rd.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),rd.forEach(n,(function(n,i){!0===(!(rd.isUndefined(n)||null===n)&&s.call(t,n,rd.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])})),d.pop()}}(e),t};function md(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function pd(e,t){this._pairs=[],e&&hd(e,this,t)}const fd=pd.prototype;fd.append=function(e,t){this._pairs.push([e,t])},fd.toString=function(e){const t=e?function(t){return e.call(this,t,md)}:md;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const gd=pd;function xd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yd(e,t,n){if(!t)return e;const r=n&&n.encode||xd;rd.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):rd.isURLSearchParams(t)?t.toString():new gd(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const vd=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rd.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},bd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wd={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:gd,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},jd="undefined"!==typeof window&&"undefined"!==typeof document,Nd="object"===typeof navigator&&navigator||void 0,kd=jd&&(!Nd||["ReactNative","NativeScript","NS"].indexOf(Nd.product)<0),Sd="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,_d=jd&&window.location.href||"http://localhost",Cd={...e,...wd};const Ed=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),o=s>=e.length;if(i=!i&&rd.isArray(r)?r.length:i,o)return rd.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&rd.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&rd.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(rd.isFormData(e)&&rd.isFunction(e.entries)){const n={};return rd.forEachEntry(e,((e,r)=>{t(function(e){return rd.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Td={transitional:bd,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=rd.isObject(e);s&&rd.isHTMLForm(e)&&(e=new FormData(e));if(rd.isFormData(e))return r?JSON.stringify(Ed(e)):e;if(rd.isArrayBuffer(e)||rd.isBuffer(e)||rd.isStream(e)||rd.isFile(e)||rd.isBlob(e)||rd.isReadableStream(e))return e;if(rd.isArrayBufferView(e))return e.buffer;if(rd.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return hd(e,new Cd.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Cd.isNode&&rd.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=rd.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return hd(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(rd.isString(e))try{return(t||JSON.parse)(e),rd.trim(e)}catch(Wj){if("SyntaxError"!==Wj.name)throw Wj}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Td.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(rd.isResponse(e)||rd.isReadableStream(e))return e;if(e&&rd.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Wj){if(n){if("SyntaxError"===Wj.name)throw od.from(Wj,od.ERR_BAD_RESPONSE,this,null,this.response);throw Wj}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cd.classes.FormData,Blob:Cd.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rd.forEach(["delete","get","head","post","put","patch"],(e=>{Td.headers[e]={}}));const Dd=Td,Ad=rd.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pd=Symbol("internals");function Md(e){return e&&String(e).trim().toLowerCase()}function Ld(e){return!1===e||null==e?e:rd.isArray(e)?e.map(Ld):String(e)}function Od(e,t,n,r,s){return rd.isFunction(r)?r.call(this,t,n):(s&&(t=n),rd.isString(t)?rd.isString(r)?-1!==t.indexOf(r):rd.isRegExp(r)?r.test(t):void 0:void 0)}class Rd{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Md(t);if(!s)throw new Error("header name must be a non-empty string");const i=rd.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=Ld(e))}const i=(e,t)=>rd.forEach(e,((e,n)=>s(e,n,t)));if(rd.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(rd.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Ad[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(rd.isHeaders(e))for(const[a,o]of e.entries())s(o,a,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=Md(e)){const n=rd.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(rd.isFunction(t))return t.call(this,e,n);if(rd.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Md(e)){const n=rd.findKey(this,e);return!(!n||void 0===this[n]||t&&!Od(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Md(e)){const s=rd.findKey(n,e);!s||t&&!Od(0,n[s],s,t)||(delete n[s],r=!0)}}return rd.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Od(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return rd.forEach(this,((r,s)=>{const i=rd.findKey(n,s);if(i)return t[i]=Ld(r),void delete t[s];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();a!==s&&delete t[s],t[a]=Ld(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return rd.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&rd.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Pd]=this[Pd]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Md(e);t[r]||(!function(e,t){const n=rd.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return rd.isArray(e)?e.forEach(r):r(e),this}}Rd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),rd.reduceDescriptors(Rd.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),rd.freezeMethods(Rd);const Id=Rd;function Fd(e,t){const n=this||Dd,r=t||n,s=Id.from(r.headers);let i=r.data;return rd.forEach(e,(function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)})),s.normalize(),i}function zd(e){return!(!e||!e.__CANCEL__)}function Bd(e,t,n){od.call(this,null==e?"canceled":e,od.ERR_CANCELED,t,n),this.name="CanceledError"}rd.inherits(Bd,od,{__CANCEL__:!0});const qd=Bd;function Ud(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new od("Request failed with status code "+n.status,[od.ERR_BAD_REQUEST,od.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Vd=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];s||(s=l),n[i]=o,r[i]=l;let d=a,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const $d=function(e,t){let n,r,s=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]},Hd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Vd(50,250);return $d((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,o=i-r,l=s(o);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Wd=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Yd=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rd.asap((()=>e(...n)))},Kd=Cd.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Cd.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Cd.origin),Cd.navigator&&/(msie|trident)/i.test(Cd.navigator.userAgent)):()=>!0,Gd=Cd.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];rd.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),rd.isString(r)&&a.push("path="+r),rd.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Qd(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Xd=e=>e instanceof Id?{...e}:e;function Zd(e,t){t=t||{};const n={};function r(e,t,n,r){return rd.isPlainObject(e)&&rd.isPlainObject(t)?rd.merge.call({caseless:r},e,t):rd.isPlainObject(t)?rd.merge({},t):rd.isArray(t)?t.slice():t}function s(e,t,n,s){return rd.isUndefined(t)?rd.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!rd.isUndefined(t))return r(void 0,t)}function a(e,t){return rd.isUndefined(t)?rd.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>s(Xd(e),Xd(t),0,!0)};return rd.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||s,a=i(e[r],t[r],r);rd.isUndefined(a)&&i!==o||(n[r]=a)})),n}const Jd=e=>{const t=Zd({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Id.from(o),t.url=yd(Qd(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),rd.isFormData(r))if(Cd.hasStandardBrowserEnv||Cd.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Cd.hasStandardBrowserEnv&&(s&&rd.isFunction(s)&&(s=s(t)),s||!1!==s&&Kd(t.url))){const e=i&&a&&Gd.read(a);e&&o.set(i,e)}return t},eu="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Jd(e);let s=r.data;const i=Id.from(r.headers).normalize();let a,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=r;function p(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=Id.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Ud((function(e){t(e),p()}),(function(e){n(e),p()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new od("Request aborted",od.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new od("Network Error",od.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||bd;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new od(t,s.clarifyTimeoutError?od.ETIMEDOUT:od.ECONNABORTED,e,f)),f=null},void 0===s&&i.setContentType(null),"setRequestHeader"in f&&rd.forEach(i.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),rd.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),m&&([l,d]=Hd(m,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=Hd(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{f&&(n(!t||t.type?new qd(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===Cd.protocols.indexOf(x)?n(new od("Unsupported protocol "+x+":",od.ERR_BAD_REQUEST,e)):f.send(s||null)}))},tu=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof od?t:new qd(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,s(new od(`timeout ${t} of ms exceeded`,od.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:o}=r;return o.unsubscribe=()=>rd.asap(a),o}},nu=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},ru=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},su=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of ru(e))yield*nu(n,t)}(e,t);let i,a=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},iu="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,au=iu&&"function"===typeof ReadableStream,ou=iu&&("function"===typeof TextEncoder?(lu=new TextEncoder,e=>lu.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var lu;const cu=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Wj){return!1}},du=au&&cu((()=>{let e=!1;const t=new Request(Cd.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),uu=au&&cu((()=>rd.isReadableStream(new Response("").body))),hu={stream:uu&&(e=>e.body)};var mu;iu&&(mu=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!hu[e]&&(hu[e]=rd.isFunction(mu[e])?t=>t[e]():(t,n)=>{throw new od(`Response type '${e}' is not supported`,od.ERR_NOT_SUPPORT,n)})})));const pu=async(e,t)=>{const n=rd.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(rd.isBlob(e))return e.size;if(rd.isSpecCompliantForm(e)){const t=new Request(Cd.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return rd.isArrayBufferView(e)||rd.isArrayBuffer(e)?e.byteLength:(rd.isURLSearchParams(e)&&(e+=""),rd.isString(e)?(await ou(e)).byteLength:void 0)})(t):n},fu=iu&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=Jd(e);c=c?(c+"").toLowerCase():"text";let m,p=tu([s,i&&i.toAbortSignal()],a);const f=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&du&&"get"!==n&&"head"!==n&&0!==(g=await pu(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(rd.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Wd(g,Hd(Yd(l)));r=su(n.body,65536,e,t)}}rd.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;m=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:s?u:void 0});let i=await fetch(m);const a=uu&&("stream"===c||"response"===c);if(uu&&(o||a&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=rd.toFiniteNumber(i.headers.get("content-length")),[n,r]=o&&Wd(t,Hd(Yd(o),!0))||[];i=new Response(su(i.body,65536,n,(()=>{r&&r(),f&&f()})),e)}c=c||"text";let x=await hu[rd.findKey(hu,c)||"text"](i,e);return!a&&f&&f(),await new Promise(((t,n)=>{Ud(t,n,{data:x,headers:Id.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:m})}))}catch(x){if(f&&f(),x&&"TypeError"===x.name&&/fetch/i.test(x.message))throw Object.assign(new od("Network Error",od.ERR_NETWORK,e,m),{cause:x.cause||x});throw od.from(x,x&&x.code,e,m)}}),gu={http:null,xhr:eu,fetch:fu};rd.forEach(gu,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Wj){}Object.defineProperty(e,"adapterName",{value:t})}}));const xu=e=>`- ${e}`,yu=e=>rd.isFunction(e)||null===e||!1===e,vu=e=>{e=rd.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!yu(n)&&(r=gu[(t=String(n)).toLowerCase()],void 0===r))throw new od(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+i]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(xu).join("\n"):" "+xu(e[0]):"as no adapter specified";throw new od("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function bu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qd(null,e)}function wu(e){bu(e),e.headers=Id.from(e.headers),e.data=Fd.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return vu(e.adapter||Dd.adapter)(e).then((function(t){return bu(e),t.data=Fd.call(e,e.transformResponse,t),t.headers=Id.from(t.headers),t}),(function(t){return zd(t)||(bu(e),t&&t.response&&(t.response.data=Fd.call(e,e.transformResponse,t.response),t.response.headers=Id.from(t.response.headers))),Promise.reject(t)}))}const ju="1.8.4",Nu={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Nu[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ku={};Nu.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new od(r(s," has been removed"+(t?" in "+t:"")),od.ERR_DEPRECATED);return t&&!ku[s]&&(ku[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},Nu.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Su={assertOptions:function(e,t,n){if("object"!==typeof e)throw new od("options must be an object",od.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new od("option "+i+" must be "+n,od.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new od("Unknown option "+i,od.ERR_BAD_OPTION)}},validators:Nu},_u=Su.validators;class Cu{constructor(e){this.defaults=e,this.interceptors={request:new vd,response:new vd}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Wj){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Zd(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Su.assertOptions(n,{silentJSONParsing:_u.transitional(_u.boolean),forcedJSONParsing:_u.transitional(_u.boolean),clarifyTimeoutError:_u.transitional(_u.boolean)},!1),null!=r&&(rd.isFunction(r)?t.paramsSerializer={serialize:r}:Su.assertOptions(r,{encode:_u.function,serialize:_u.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Su.assertOptions(t,{baseUrl:_u.spelling("baseURL"),withXsrfToken:_u.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&rd.merge(s.common,s[t.method]);s&&rd.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Id.concat(i,s);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[wu.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let h=t;for(u=0;u<d;){const e=a[u++],t=a[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=wu.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return yd(Qd((e=Zd(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}rd.forEach(["delete","get","head","options"],(function(e){Cu.prototype[e]=function(t,n){return this.request(Zd(n||{},{method:e,url:t,data:(n||{}).data}))}})),rd.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(Zd(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Cu.prototype[e]=t(),Cu.prototype[e+"Form"]=t(!0)}));const Eu=Cu;class Tu{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new qd(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Tu((function(t){e=t}));return{token:t,cancel:e}}}const Du=Tu;const Au={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Au).forEach((e=>{let[t,n]=e;Au[n]=t}));const Pu=Au;const Mu=function e(t){const n=new Eu(t),r=bc(Eu.prototype.request,n);return rd.extend(r,Eu.prototype,n,{allOwnKeys:!0}),rd.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Zd(t,n))},r}(Dd);Mu.Axios=Eu,Mu.CanceledError=qd,Mu.CancelToken=Du,Mu.isCancel=zd,Mu.VERSION=ju,Mu.toFormData=hd,Mu.AxiosError=od,Mu.Cancel=Mu.CanceledError,Mu.all=function(e){return Promise.all(e)},Mu.spread=function(e){return function(t){return e.apply(null,t)}},Mu.isAxiosError=function(e){return rd.isObject(e)&&!0===e.isAxiosError},Mu.mergeConfig=Zd,Mu.AxiosHeaders=Id,Mu.formToJSON=e=>Ed(rd.isHTMLForm(e)?new FormData(e):e),Mu.getAdapter=vu,Mu.HttpStatusCode=Pu,Mu.default=Mu;const Lu=Mu;let Ou="http://localhost:5000/api";Ou&&(Ou=Ou.replace(/^['"](.*)['"]$/,"$1")),console.log("Environment:","production"),console.log("REACT_APP_API_URL:","http://localhost:5000/api"),console.log("Final API_URL:",Ou);const Ru=Lu.create({baseURL:Ou,withCredentials:!0,headers:{"Content-Type":"application/json"}});Ru.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e)));const Iu=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e).toString();return(await Ru.get("/treks"+(t?`?${t}`:""))).data}catch(t){throw console.error("Error fetching treks:",t),t}},Fu=async e=>(await Ru.get(`/treks/${e}`)).data,zu=async()=>(await Ru.get("/treks/stats")).data,Bu=async()=>(await Ru.get("/regions")).data,qu=async e=>{try{console.log("API createRegion - sending data:",e),JSON.stringify(e).length>1e6&&console.warn("Large payload detected, consider implementing chunked uploads");const t=await Ru.post("/regions",e);return console.log("API createRegion - received response:",t.data),t.data}catch(n){var t;throw console.error("API createRegion - error:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},Uu=async(e,t)=>{try{console.log("API updateRegion - sending data for ID:",e,t),JSON.stringify(t).length>1e6&&console.warn("Large payload detected, consider implementing chunked uploads");const n=await Ru.put(`/regions/${e}`,t);return console.log("API updateRegion - received response:",n.data),n.data}catch(r){var n;throw console.error("API updateRegion - error:",(null===(n=r.response)||void 0===n?void 0:n.data)||r.message),r}},Vu=async e=>(await Ru.post("/bookings",e)).data,$u=async e=>(await Ru.get(`/bookings/${e}`)).data,Hu=async()=>{try{return(await Ru.get("/bookings/user/mybookings")).data}catch(e){throw console.error("Error fetching user bookings:",e),e}},Wu=async e=>(await Ru.put(`/bookings/${e}/cancel`)).data,Yu=async(e,t)=>(await Ru.put(`/bookings/${e}/participants/${t}/cancel`)).data,Ku=async(e,t)=>(await Ru.put(`/bookings/${e}/participants/${t}/restore`)).data,Gu=async()=>{try{return(await Ru.get("/auth/users")).data}catch(e){throw console.error("Error fetching all users:",e),e}},Qu=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams({page:e.toString(),...t.trekId&&{trekId:t.trekId},...t.batchId&&{batchId:t.batchId},...t.startDate&&{startDate:t.startDate},...t.endDate&&{endDate:t.endDate}});return(await Ru.get(`/bookings?${n.toString()}`)).data}catch(n){throw console.error("Error fetching all bookings:",n),n}},Xu=async(e,t)=>{try{if(!t||!["confirmed","cancelled"].includes(t))throw new Error("Invalid status value");return(await Ru.put(`/bookings/${e}/status`,{status:t})).data}catch(s){var n,r;const e=(null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to update booking status";throw new Error(e)}},Zu=async()=>{try{return(await Ru.get("/tickets/user")).data}catch(e){throw console.error("Error fetching user tickets:",e),e}},Ju=async e=>{try{return(await Ru.get(`/tickets/${e}`)).data}catch(t){throw console.error("Error fetching ticket:",t),t}},eh=async(e,t)=>{try{return(await Ru.post(`/tickets/${e}/responses`,{message:t})).data}catch(n){throw console.error("Error adding ticket response:",n),n}},th=async(e,t)=>{try{return(await Ru.patch(`/tickets/${e}/status`,{status:t})).data}catch(n){throw console.error("Error updating ticket status:",n),n}},nh=async()=>{try{console.log("API call: getActiveOffers");const e=await Ru.get("/offers/active");return console.log("Active offers response:",e.data),e.data}catch(e){return console.error("Error fetching active offers:",e),[]}},rh=async e=>(await Ru.post("/leads",e)).data,sh=async function(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return(await Ru.get(`/leads?${e}`)).data},ih=async(e,t)=>{try{console.log(`Updating lead ${e} with data:`,t);return(await Ru.put(`/leads/${e}`,t)).data}catch(n){throw console.error(`Error updating lead ${e}:`,n),n.response&&(console.error("Response data:",n.response.data),console.error("Response status:",n.response.status)),n}};Ru.interceptors.response.use((e=>e),(e=>(console.error("API Error:",e.response||e),e.response&&401===e.response.status&&console.log("Unauthorized access detected"),Promise.reject(e))));const ah=async()=>{try{return(await Ru.get("/wishlist")).data}catch(e){throw console.error("Error fetching wishlist:",e),e}},oh=()=>{const e=localStorage.getItem("token");return{Authorization:e?`Bearer ${e}`:""}},lh=e=>`\u20b9${e.toLocaleString("en-IN")}`,ch=async()=>{try{return(await Ru.get("/trek-sections")).data}catch(e){throw console.error("Error fetching trek sections:",e),e}},dh=async(e,t)=>{try{return(await Ru.put(`/trek-sections/${e}`,t)).data}catch(n){throw console.error("Error updating trek section:",n),n}},uh=async e=>{try{return(await Ru.get(`/regions/${e}`)).data}catch(t){throw console.error("Error fetching region:",t),t}},hh=async e=>{try{console.log("Fetching treks for region name:",e);const t=await Ru.get("/treks",{params:{region:e,enabledOnly:"true"}});console.log("Treks data received:",t.data);const n=t.data.treks||t.data;return Array.isArray(n)?n:(console.error("Expected array of treks but got:",n),[])}catch(n){var t;throw console.error("Error fetching treks by region:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},mh=async(e,t)=>{try{if(console.log(`Updating weekend getaway for trek ID: ${e}`),console.log("Weekend data:",t),!e||"string"!==typeof e||e.length<24)throw new Error(`Invalid trek ID: ${e}`);return(await Lu.put(`/api/treks/weekend-getaway/${e}`,t)).data}catch(n){throw console.error("Error updating weekend getaway status:",n),n}},ph=async()=>{try{return(await Ru.get("/user-groups")).data}catch(e){throw console.error("Error fetching user groups:",e),e}},fh=async()=>{try{return(await Ru.get("/users")).data}catch(e){throw console.error("Error fetching admins:",e),e}};async function gh(e){let{bookingId:t,refund:n,refundType:r,participantId:s}=e;const i=await fetch(`/api/admin/bookings/${t}/cancel`,{method:"PATCH",headers:{"Content-Type":"application/json",...oh()},body:JSON.stringify({refund:n,refundType:r,participantId:s})});if(!i.ok)throw new Error((await i.json()).message||"Failed to cancel booking");return i.json()}const xh=(0,a.createContext)();function yh(){return(0,a.useContext)(xh)}function vh(e){let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),o=(0,a.useCallback)((async()=>{try{i(!0);const e=await(async()=>{try{const e=await Ru.get("/auth/me");return console.log("API Response from /auth/me:",e.data),e.data}catch(e){throw console.error("Error in getCurrentUser:",e),e}})();r(e)}catch(e){console.error("Error refreshing user:",e),r(null)}finally{i(!1)}}),[]);(0,a.useEffect)((()=>{o()}),[o]);const l={currentUser:n,setCurrentUser:r,loading:s,login:async(e,t)=>{try{i(!0);const n=await(async e=>{const t=await Ru.post("/auth/login",e);return t.data.token&&(Ru.defaults.headers.common.Authorization=`Bearer ${t.data.token}`),t.data})({email:e,password:t});if(n.requiresOtp)return n;if(n.user&&n.token)return r(n.user),localStorage.setItem("token",n.token),sessionStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user)),sessionStorage.setItem("user",JSON.stringify(n.user)),pt.success("Logged in successfully!"),n.user;throw new Error("Invalid response from server")}catch(a){var n,s;console.error("Login error:",a);const e=(null===(n=a.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to login";throw pt.error(e),a}finally{i(!1)}},register:async e=>{try{if(!e.username)throw new Error("Username is required");if(!e.phone)throw new Error("Phone number is required");const t=await(async e=>{try{if(console.log("API service sending registration data:",e),!e.username)throw new Error("Username is required");return(await Ru.post("/auth/register",e)).data}catch(t){throw console.error("API service registration error:",t),t}})(e);return t.message?t:t.data}catch(t){if(console.error("Registration error in AuthContext:",t),t.response&&t.response.data)throw new Error(t.response.data.message||"Registration failed");throw t}},logout:async()=>{try{i(!0),await(async()=>{try{const e=await Ru.post("/auth/logout");return Ru.defaults.headers.common.Authorization="",document.cookie="jwt=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",e.data}catch(e){throw console.error("Logout API error:",e),Ru.defaults.headers.common.Authorization="",document.cookie="jwt=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",e}})(),r(null),pt.success("Logged out successfully!"),localStorage.removeItem("token")}catch(e){console.error("Logout error:",e),pt.error("Failed to logout")}finally{i(!1)}},refreshUser:o,hasPermission:(e,t)=>{var r,s,i;return n&&(null===(r=n.group)||void 0===r||null===(s=r.permissions)||void 0===s||null===(i=s[e])||void 0===i?void 0:i[t])||!1},isAdmin:()=>"admin"===(null===n||void 0===n?void 0:n.role),setUserAfterOTPVerification:(e,t)=>{t&&(localStorage.setItem("token",t),sessionStorage.setItem("token",t)),e&&(r(e),localStorage.setItem("user",JSON.stringify(e)),sessionStorage.setItem("user",JSON.stringify(e)))}};return console.log("current",n),(0,ft.jsx)(xh.Provider,{value:l,children:t})}var bh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wh=a.createContext&&a.createContext(bh),jh=["attr","size","title"];function Nh(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(this,arguments)}function Sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sh(Object(n),!0).forEach((function(t){Ch(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ch(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eh(e){return e&&e.map(((e,t)=>a.createElement(e.tag,_h({key:t},e.attr),Eh(e.child))))}function Th(e){return t=>a.createElement(Dh,kh({attr:_h({},e.attr)},t),Eh(e.child))}function Dh(e){var t=t=>{var n,{attr:r,size:s,title:i}=e,o=Nh(e,jh),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",kh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:_h(_h({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==wh?a.createElement(wh.Consumer,null,(e=>t(e))):t(bh)}function Ah(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(e)}function Ph(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Mh(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function Lh(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Oh(e){return Th({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(e)}function Rh(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 128h-8V80c0-44.8-99.2-80-224-80S32 35.2 32 80v48h-8c-13.25 0-24 10.74-24 24v80c0 13.25 10.75 24 24 24h8v160c0 17.67 14.33 32 32 32v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h192v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h6.4c16 0 25.6-12.8 25.6-25.6V256h8c13.25 0 24-10.75 24-24v-80c0-13.26-10.75-24-24-24zM112 400c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm16-112c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h256c17.67 0 32 14.33 32 32v128c0 17.67-14.33 32-32 32H128zm272 112c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Ih(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Fh(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-24.68L359.54 117.75l53.41-73.55c5.19-7.15 3.61-17.16-3.54-22.35l-25.9-18.79c-7.15-5.19-17.15-3.61-22.35 3.55L320 63.3 278.83 6.6c-5.19-7.15-15.2-8.74-22.35-3.55l-25.88 18.8c-7.15 5.19-8.74 15.2-3.54 22.35l53.41 73.55L40.68 448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM320 288l116.36 160H203.64L320 288z"},child:[]}]})(e)}function zh(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Bh(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function qh(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Uh(e){return Th({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Vh(e){return Th({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function $h(e){return Th({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Hh(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Wh(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Yh(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Kh(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Gh(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Qh(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Xh(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(e)}function Zh(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Jh(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function em(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function tm(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function nm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function rm(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M639.4 433.6c-8.4-20.4-31.8-30.1-52.2-21.6l-22.1 9.2-38.7-101.9c47.9-35 64.8-100.3 34.5-152.8L474.3 16c-8-13.9-25.1-19.7-40-13.6L320 49.8 205.7 2.4c-14.9-6.2-32-.3-40 13.6L79.1 166.5C48.9 219 65.7 284.3 113.6 319.2L74.9 421.1l-22.1-9.2c-20.4-8.5-43.7 1.2-52.2 21.6-1.7 4.1.2 8.8 4.3 10.5l162.3 67.4c4.1 1.7 8.7-.2 10.4-4.3 8.4-20.4-1.2-43.8-21.6-52.3l-22.1-9.2L173.3 342c4.4.5 8.8 1.3 13.1 1.3 51.7 0 99.4-33.1 113.4-85.3l20.2-75.4 20.2 75.4c14 52.2 61.7 85.3 113.4 85.3 4.3 0 8.7-.8 13.1-1.3L506 445.6l-22.1 9.2c-20.4 8.5-30.1 31.9-21.6 52.3 1.7 4.1 6.4 6 10.4 4.3L635.1 444c4-1.7 6-6.3 4.3-10.4zM275.9 162.1l-112.1-46.5 36.5-63.4 94.5 39.2-18.9 70.7zm88.2 0l-18.9-70.7 94.5-39.2 36.5 63.4-112.1 46.5z"},child:[]}]})(e)}function sm(e){return Th({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function im(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(e)}function am(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function om(e){return Th({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M80.95 472.23c-4.28 17.16 6.14 34.53 23.28 38.81 2.61.66 5.22.95 7.8.95 14.33 0 27.37-9.7 31.02-24.23l25.24-100.97-52.78-52.78-34.56 138.22zm14.89-196.12L137 117c2.19-8.42-3.14-16.95-11.92-19.06-43.88-10.52-88.35 15.07-99.32 57.17L.49 253.24c-2.19 8.42 3.14 16.95 11.92 19.06l63.56 15.25c8.79 2.1 17.68-3.02 19.87-11.44zM368 160h-16c-8.84 0-16 7.16-16 16v16h-34.75l-46.78-46.78C243.38 134.11 228.61 128 212.91 128c-27.02 0-50.47 18.3-57.03 44.52l-26.92 107.72a32.012 32.012 0 0 0 8.42 30.39L224 397.25V480c0 17.67 14.33 32 32 32s32-14.33 32-32v-82.75c0-17.09-6.66-33.16-18.75-45.25l-46.82-46.82c.15-.5.49-.89.62-1.41l19.89-79.57 22.43 22.43c6 6 14.14 9.38 22.62 9.38h48v240c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V176c.01-8.84-7.15-16-15.99-16zM240 96c26.51 0 48-21.49 48-48S266.51 0 240 0s-48 21.49-48 48 21.49 48 48 48z"},child:[]}]})(e)}function lm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function cm(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function dm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function um(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"},child:[]}]})(e)}function hm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function mm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(e)}function pm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function fm(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(e)}function gm(e){return Th({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function xm(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function ym(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function vm(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.92 462.7l-288-448C341.03 5.54 330.89 0 320 0s-21.03 5.54-26.92 14.7l-288 448a32.001 32.001 0 0 0-1.17 32.64A32.004 32.004 0 0 0 32 512h576c11.71 0 22.48-6.39 28.09-16.67a31.983 31.983 0 0 0-1.17-32.63zM320 91.18L405.39 224H320l-64 64-38.06-38.06L320 91.18z"},child:[]}]})(e)}function bm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(e)}function wm(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function jm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(e)}function Nm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function km(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function Sm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(e)}function _m(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Cm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function Em(e){return Th({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function Tm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Dm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(e)}function Am(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Pm(e){return Th({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(e)}function Mm(e){return Th({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(e)}function Lm(e){return Th({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(e)}function Om(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Rm(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(e)}function Im(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function Fm(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function zm(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M206.86 245.15c-35.88 10.45-59.95 41.2-57.53 74.1 11.4-12.72 28.81-23.7 49.9-30.92l7.63-43.18zM95.81 295L64.08 115.49c-.29-1.62.28-2.62.24-2.65 57.76-32.06 123.12-49.01 189.01-49.01 1.61 0 3.23.17 4.85.19 13.95-13.47 31.73-22.83 51.59-26 18.89-3.02 38.05-4.55 57.18-5.32-9.99-13.95-24.48-24.23-41.77-27C301.27 1.89 277.24 0 253.32 0 176.66 0 101.02 19.42 33.2 57.06 9.03 70.48-3.92 98.48 1.05 126.58l31.73 179.51c14.23 80.52 136.33 142.08 204.45 142.08 3.59 0 6.75-.46 10.01-.8-13.52-17.08-28.94-40.48-39.5-67.58-47.61-12.98-106.06-51.62-111.93-84.79zm97.55-137.46c-.73-4.12-2.23-7.87-4.07-11.4-8.25 8.91-20.67 15.75-35.32 18.32-14.65 2.58-28.67.4-39.48-5.17-.52 3.94-.64 7.98.09 12.1 3.84 21.7 24.58 36.19 46.34 32.37 21.75-3.82 36.28-24.52 32.44-46.22zM606.8 120.9c-88.98-49.38-191.43-67.41-291.98-51.35-27.31 4.36-49.08 26.26-54.04 54.36l-31.73 179.51c-15.39 87.05 95.28 196.27 158.31 207.35 63.03 11.09 204.47-53.79 219.86-140.84l31.73-179.51c4.97-28.11-7.98-56.11-32.15-69.52zm-273.24 96.8c3.84-21.7 24.58-36.19 46.34-32.36 21.76 3.83 36.28 24.52 32.45 46.22-.73 4.12-2.23 7.87-4.07 11.4-8.25-8.91-20.67-15.75-35.32-18.32-14.65-2.58-28.67-.4-39.48 5.17-.53-3.95-.65-7.99.08-12.11zm70.47 198.76c-55.68-9.79-93.52-59.27-89.04-112.9 20.6 25.54 56.21 46.17 99.49 53.78 43.28 7.61 83.82.37 111.93-16.6-14.18 51.94-66.71 85.51-122.38 75.72zm130.3-151.34c-8.25-8.91-20.68-15.75-35.33-18.32-14.65-2.58-28.67-.4-39.48 5.17-.52-3.94-.64-7.98.09-12.1 3.84-21.7 24.58-36.19 46.34-32.37 21.75 3.83 36.28 24.52 32.45 46.22-.73 4.13-2.23 7.88-4.07 11.4z"},child:[]}]})(e)}function Bm(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function qm(e){return Th({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Um(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Vm(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M115.38 136.9l102.11 37.18c35.19-81.54 86.21-144.29 139-173.7-95.88-4.89-188.78 36.96-248.53 111.8-6.69 8.4-2.66 21.05 7.42 24.72zm132.25 48.16l238.48 86.83c35.76-121.38 18.7-231.66-42.63-253.98-7.4-2.7-15.13-4-23.09-4-58.02.01-128.27 69.17-172.76 171.15zM521.48 60.5c6.22 16.3 10.83 34.6 13.2 55.19 5.74 49.89-1.42 108.23-18.95 166.98l102.62 37.36c10.09 3.67 21.31-3.43 21.57-14.17 2.32-95.69-41.91-187.44-118.44-245.36zM560 447.98H321.06L386 269.5l-60.14-21.9-72.9 200.37H16c-8.84 0-16 7.16-16 16.01v32.01C0 504.83 7.16 512 16 512h544c8.84 0 16-7.17 16-16.01v-32.01c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function $m(e){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function Hm(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function Wm(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Ym(e){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Km(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 341.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 368.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm224 32c1.9 0 3.7-.5 5.6-.6 8.3-21.7 20.5-42.1 36.3-59.2 7.4-8 17.9-12.6 28.9-12.6 6.9 0 13.7 1.8 19.6 5.3l7.9 4.6c.8-.5 1.6-.9 2.4-1.4 7-14.6 11.2-30.8 11.2-48 0-61.9-50.1-112-112-112S208 82.1 208 144c0 61.9 50.1 112 112 112zm105.2 194.5c-2.3-1.2-4.6-2.6-6.8-3.9-8.2 4.8-15.3 9.8-27.5 9.8-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-10.7-34.5 24.9-49.7 25.8-50.3-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-3.8-2.2-7-5-9.8-8.1-3.3.2-6.5.6-9.8.6-24.6 0-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h255.4c-3.7-6-6.2-12.8-6.2-20.3v-9.2zM173.1 274.6C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Gm(e){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Qm(e){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M562.1 383.9c-21.5-2.4-42.1-10.5-57.9-22.9-14.1-11.1-34.2-11.3-48.2 0-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3zm0-144c-21.5-2.4-42.1-10.5-57.9-22.9-14.1-11.1-34.2-11.3-48.2 0-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3zm0-144C540.6 93.4 520 85.4 504.2 73 490.1 61.9 470 61.7 456 73c-37.9 30.4-107.2 30.4-145.7-1.5-13.5-11.2-33-9.1-46.7 1.8-38 30.1-106.9 30-145.2-1.7-13.5-11.2-33.3-8.9-47.1 2-15.5 12.2-36 20.1-57.7 22.4-7.9.8-13.6 7.8-13.6 15.7v32.2c0 9.1 7.6 16.8 16.7 16 28.8-2.5 56.1-11.4 79.4-25.9 56.5 34.6 137 34.1 192 0 56.5 34.6 137 34.1 192 0 23.3 14.2 50.9 23.3 79.1 25.8 9.1.8 16.7-6.9 16.7-16v-31.6c.1-8-5.7-15.4-13.8-16.3z"},child:[]}]})(e)}const Xm=e=>{let{to:t,children:n,onClick:r}=e;return(0,ft.jsx)(Me,{to:t,onClick:r,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 transition-colors",children:n})};const Zm=e=>{let{to:t,children:n}=e;return(0,ft.jsx)(Me,{to:t,className:e=>{let{isActive:t}=e;return"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors "+(t?"border-emerald-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700")},children:n})},Jm=e=>{let{to:t,icon:n,children:r,onClick:s}=e;return(0,ft.jsxs)(Me,{to:t,onClick:s,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors",role:"menuitem",children:[(0,ft.jsx)(n,{className:"mr-2 h-4 w-4 text-gray-400","aria-hidden":"true"}),r]})},ep=function(){const{currentUser:e,logout:t}=yh(),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)([]),c=se(),d=(0,a.useRef)(null),u=(0,a.useRef)(null);(0,a.useEffect)((()=>{(async()=>{try{const e=(await Bu()).filter((e=>e.isActive));l(e)}catch(e){console.error("Error fetching regions:",e)}})()}),[]),(0,a.useEffect)((()=>{function e(e){d.current&&!d.current.contains(e.target)&&i(!1),!u.current||u.current.contains(e.target)||e.target.closest('[data-testid="mobile-menu-button"]')||r(!1)}return(s||n)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[s,n]);const h=async()=>{try{console.log("Logout initiated from Header"),await t(),r(!1),i(!1),c("/"),pt.success("Logged out successfully")}catch(e){console.error("Logout error in Header:",e),pt.error("Failed to log out")}},m=()=>{r(!n),s&&i(!1)};return(0,ft.jsxs)("header",{className:"sticky top-0 z-40 bg-white/95 backdrop-blur-sm shadow-sm",children:[(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ft.jsxs)("div",{className:"flex justify-between h-16",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)(Me,{to:"/",className:"flex-shrink-0 flex items-center",children:(0,ft.jsx)("span",{className:"text-2xl font-bold text-emerald-600 hover:text-emerald-700 transition-colors",children:"TrekBooker"})}),(0,ft.jsxs)("nav",{className:"hidden sm:ml-8 sm:flex sm:space-x-6",children:[(0,ft.jsx)(Zm,{to:"/",children:"Home"}),(0,ft.jsxs)("div",{className:"relative group",children:[(0,ft.jsxs)("button",{className:"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700 transition-colors",children:["Treks",(0,ft.jsx)("svg",{className:"ml-1 h-4 w-4 transition-transform group-hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(0,ft.jsx)("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:(0,ft.jsxs)("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[(0,ft.jsx)(Me,{to:"/treks?duration=1-1",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"One Day Treks"}),(0,ft.jsx)(Me,{to:"/treks?duration=2-2",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Two Day Treks"}),(0,ft.jsx)(Me,{to:"/treks",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"All Treks"})]})})]}),(0,ft.jsx)(Zm,{to:"/weekend-getaways",children:"Weekend Getaways"}),(0,ft.jsxs)("div",{className:"relative group",children:[(0,ft.jsxs)("button",{className:"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700 transition-colors",children:["Regions",(0,ft.jsx)("svg",{className:"ml-1 h-4 w-4 transition-transform group-hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(0,ft.jsx)("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:(0,ft.jsxs)("div",{className:"py-1 max-h-60 overflow-y-auto",role:"menu","aria-orientation":"vertical",children:[o.map((e=>(0,ft.jsx)(Me,{to:`/regions/${e._id}`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:e.name},e._id))),(0,ft.jsx)(Me,{to:"/regions",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 border-t border-gray-100",role:"menuitem",children:"View All Regions"})]})})]}),(0,ft.jsx)(Zm,{to:"/blogs",children:"Blogs"})]})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[e?(0,ft.jsxs)("div",{className:"relative ml-3",ref:d,children:[(0,ft.jsxs)(vc.button,{whileTap:{scale:.95},onClick:()=>{i(!s),n&&r(!1)},type:"button",className:"bg-white rounded-full flex text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",id:"user-menu-button","aria-expanded":s,"aria-haspopup":"true",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Open user menu"}),(0,ft.jsx)("div",{className:"h-9 w-9 rounded-full bg-emerald-500 flex items-center justify-center text-white font-semibold ring-2 ring-white",children:e.name?e.name.charAt(0).toUpperCase():(0,ft.jsx)(Ym,{size:16})})]}),(0,ft.jsx)(Tt,{children:s&&(0,ft.jsx)(vc.div,{initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0,scale:.95,y:-10},visible:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10,transition:{duration:.15}}},transition:{type:"spring",stiffness:300,damping:25},className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:(0,ft.jsxs)("div",{className:"py-1",role:"none",children:[(0,ft.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",role:"none",children:e.name||"User"}),(0,ft.jsx)("p",{className:"text-xs text-gray-500 truncate",role:"none",children:e.email})]}),(0,ft.jsx)(Jm,{to:"/profile",icon:Ym,children:"Profile"}),(0,ft.jsx)(Jm,{to:"/wishlist",icon:am,children:"Wishlist"}),(0,ft.jsx)(Jm,{to:"/dashboard",icon:Wh,children:"Dashboard"}),(0,ft.jsx)(Jm,{to:"/my-bookings",icon:$h,children:"My Bookings"}),(0,ft.jsx)(Jm,{to:"/tickets",icon:Bm,children:"Support Tickets"}),e.isAdmin&&(0,ft.jsx)(Jm,{to:"/admin",icon:Wh,children:"Admin Dashboard"}),(0,ft.jsxs)("button",{onClick:()=>{i(!1),h()},className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors",role:"menuitem",children:[(0,ft.jsx)(Am,{className:"mr-2","aria-hidden":"true"})," Sign out"]})]})})})]}):(0,ft.jsxs)("div",{className:"hidden sm:flex items-center space-x-3 ml-4",children:[(0,ft.jsx)(Me,{to:"/login",className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-colors",children:"Log in"}),(0,ft.jsx)(Me,{to:"/register",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-colors",children:"Sign up"})]}),(0,ft.jsx)("div",{className:"ml-2 flex items-center sm:hidden",children:(0,ft.jsxs)(vc.button,{whileTap:{scale:.9},onClick:m,"data-testid":"mobile-menu-button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-emerald-500","aria-controls":"mobile-menu","aria-expanded":n,children:[(0,ft.jsx)("span",{className:"sr-only",children:"Open main menu"}),n?(0,ft.jsx)(qm,{className:"block h-6 w-6","aria-hidden":"true"}):(0,ft.jsx)(Lh,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})]})}),(0,ft.jsx)(Tt,{children:n&&(0,ft.jsxs)(vc.div,{ref:u,initial:"closed",animate:"open",exit:"closed",variants:{closed:{x:"-100%"},open:{x:0}},transition:{type:"tween",ease:"easeInOut",duration:.3},className:"sm:hidden fixed  left-0 w-64 bg-white shadow-xl z-50 overflow-y-auto",id:"mobile-menu",children:[(0,ft.jsxs)("div",{className:"pt-5 pb-6 px-2 space-y-1",children:[(0,ft.jsx)("div",{className:"flex justify-end px-2 mb-2",children:(0,ft.jsxs)(vc.button,{whileTap:{scale:.9},onClick:m,className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-emerald-500",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Close menu"}),(0,ft.jsx)(qm,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,ft.jsx)(Xm,{to:"/",onClick:()=>r(!1),children:"Home"}),(0,ft.jsx)(Xm,{to:"/treks",onClick:()=>r(!1),children:"Treks"}),(0,ft.jsx)(Xm,{to:"/weekend-getaways",onClick:()=>r(!1),children:"Weekend Getaways"}),(0,ft.jsx)(Xm,{to:"/about",onClick:()=>r(!1),children:"About"}),(0,ft.jsx)(Xm,{to:"/contact",onClick:()=>r(!1),children:"Contact"}),(0,ft.jsx)(Xm,{to:"/regions",onClick:()=>r(!1),children:"Regions"})]}),(0,ft.jsx)("div",{className:"py-6 px-5 border-t border-gray-200",children:e?(0,ft.jsxs)("div",{className:"space-y-1",children:[(0,ft.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-emerald-500 flex items-center justify-center text-white font-semibold ring-2 ring-white",children:e.name?e.name.charAt(0).toUpperCase():(0,ft.jsx)(Ym,{size:18})}),(0,ft.jsxs)("div",{className:"ml-3 min-w-0",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name||"User"}),(0,ft.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.email})]})]}),(0,ft.jsx)(Xm,{to:"/profile",onClick:()=>r(!1),children:"Your Profile"}),(0,ft.jsx)(Xm,{to:"/wishlist",onClick:()=>r(!1),children:"Wishlist"}),(0,ft.jsx)(Xm,{to:"/my-bookings",onClick:()=>r(!1),children:"My Bookings"}),(0,ft.jsx)(Xm,{to:"/tickets",onClick:()=>r(!1),children:"Support Tickets"}),e.isAdmin&&(0,ft.jsx)(Xm,{to:"/admin",onClick:()=>r(!1),children:"Admin Dashboard"}),(0,ft.jsx)("button",{onClick:()=>{r(!1),h()},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 transition-colors",children:"Sign out"})]}):(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsx)(Me,{to:"/register",onClick:()=>r(!1),className:"block w-full px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-emerald-600 hover:bg-emerald-700 transition-colors text-center",children:"Sign up"}),(0,ft.jsxs)("p",{className:"mt-2 text-center text-base font-medium text-gray-500",children:["Existing customer?"," ",(0,ft.jsx)(Me,{to:"/login",onClick:()=>r(!1),className:"text-emerald-600 hover:text-emerald-500 transition-colors",children:"Log in"})]})]})})]})})]})};const tp=function(){return(0,ft.jsx)("footer",{className:"bg-gray-800",children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8",children:[(0,ft.jsxs)("nav",{className:"-mx-5 -my-2 flex flex-wrap justify-center","aria-label":"Footer",children:[(0,ft.jsx)("div",{className:"px-5 py-2",children:(0,ft.jsx)(Me,{to:"/",className:"text-base text-gray-300 hover:text-white",children:"Home"})}),(0,ft.jsx)("div",{className:"px-5 py-2",children:(0,ft.jsx)(Me,{to:"/treks",className:"text-base text-gray-300 hover:text-white",children:"Treks"})}),(0,ft.jsx)("div",{className:"px-5 py-2",children:(0,ft.jsx)(Me,{to:"/about",className:"text-base text-gray-300 hover:text-white",children:"About"})}),(0,ft.jsx)("div",{className:"px-5 py-2",children:(0,ft.jsx)(Me,{to:"/contact",className:"text-base text-gray-300 hover:text-white",children:"Contact"})}),(0,ft.jsx)("div",{className:"px-5 py-2",children:(0,ft.jsx)(Me,{to:"/privacy",className:"text-base text-gray-300 hover:text-white",children:"Privacy Policy"})}),(0,ft.jsx)("div",{className:"px-5 py-2",children:(0,ft.jsx)(Me,{to:"/terms",className:"text-base text-gray-300 hover:text-white",children:"Terms of Service"})})]}),(0,ft.jsxs)("div",{className:"mt-8 flex justify-center space-x-6",children:[(0,ft.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-gray-300",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Facebook"}),(0,ft.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),(0,ft.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-gray-300",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Instagram"}),(0,ft.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),(0,ft.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-gray-300",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Twitter"}),(0,ft.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,ft.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]}),(0,ft.jsxs)("p",{className:"mt-8 text-center text-base text-gray-400",children:["\xa9 ",(new Date).getFullYear()," TrekBooker, Inc. All rights reserved."]})]})})};const np=function(){return(0,ft.jsx)("div",{className:"flex justify-center items-center",children:(0,ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-emerald-500"})})};const rp=function(e){let{children:t}=e;const{currentUser:n,loading:r}=yh();return r?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):n?t:(0,ft.jsx)(be,{to:"/login",replace:!0})};const sp=function(e){let{children:t}=e;const{currentUser:n,loading:r,isAdmin:s}=yh(),i=ne();return r?(0,ft.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,ft.jsx)(np,{})}):n?s()?t:(0,ft.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),(0,ft.jsx)("p",{className:"mt-2 text-gray-600",children:"Only administrators can access the dashboard."})]})}):(0,ft.jsx)(be,{to:"/login",state:{from:i}})};const ip=function(e){var t;let{children:n}=e;const{pathname:r}=ne(),{currentUser:s}=yh(),i=null===s||void 0===s||null===(t=s.group)||void 0===t?void 0:t.permissions,[o,l]=a.useState(!0),c={Dashboard:null,Users:"manageUsers",Bookings:"manageBookings",Treks:"manageTreks","Support Tickets":"supportTickets",Blogs:"manageBlogs",Regions:"manageRegions",Sales:"salesDashboard","Trek Sections":"trekSections","Weekend Getaways":"manageWeekendGetaways","User Groups":"manageUserGroups",Leads:"manageLeads",Settings:null},d=[{name:"Dashboard",path:"/admin/dashboard",icon:cm},{name:"Users",path:"/admin/users",icon:Gm},{name:"Bookings",path:"/admin/bookings",icon:Ih},{name:"Treks",path:"/admin/treks",icon:Oh},{name:"Support Tickets",path:"/admin/support",icon:Bm},{name:"Blogs",path:"/admin/blogs",icon:wm},{name:"Regions",path:"/admin/regions",icon:fm},{name:"Sales",path:"/admin/sales",icon:zh},{name:"Trek Sections",path:"/admin/trek-sections",icon:mm},{name:"Weekend Getaways",path:"/admin/weekend-getaways",icon:Vm},{name:"User Groups",path:"/admin/user-groups",icon:Km},{name:"Leads",path:"/admin/leads",icon:im},{name:"Settings",path:"/admin/settings",icon:Wh}],u=a.useMemo((()=>d.filter((e=>{var t;const n=c[e.name];return!n||(null===i||void 0===i||null===(t=i.actions)||void 0===t?void 0:t[n])}))),[i]);return(0,ft.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,ft.jsx)("div",{className:"hidden md:flex md:flex-shrink-0",children:(0,ft.jsx)("div",{className:"flex flex-col w-64",children:(0,ft.jsx)("div",{className:"flex flex-col h-full flex-1 bg-emerald-700",children:(0,ft.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4",children:[(0,ft.jsx)("div",{className:"flex items-center flex-shrink-0 px-4",children:(0,ft.jsx)(Me,{to:"/admin/dashboard",className:"text-white text-xl font-bold",children:"TrekBooker Admin"})}),(0,ft.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:u.map((e=>(0,ft.jsxs)(Me,{to:e.path,className:(r===e.path?"bg-emerald-800 text-white":"text-emerald-100 hover:bg-emerald-600")+" group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[(0,ft.jsx)(e.icon,{className:(r===e.path?"text-emerald-100":"text-emerald-300")+" mr-3 flex-shrink-0 h-6 w-6"}),e.name]},e.path)))})]})})})}),(0,ft.jsxs)(vc.div,{className:"md:hidden fixed inset-0 z-40 flex",initial:"closed",animate:o?"open":"closed",variants:{closed:{x:"-100%"},open:{x:0}},transition:{type:"tween",ease:"easeInOut",duration:.3},children:[(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>l(!1)}),(0,ft.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-emerald-700",children:[(0,ft.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,ft.jsxs)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white touch-target",onClick:()=>l(!1),children:[(0,ft.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,ft.jsx)("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,ft.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 flex items-center px-4",children:(0,ft.jsx)(Me,{to:"/admin/dashboard",className:"text-white text-xl font-bold",children:"TrekBooker Admin"})}),(0,ft.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:u.map((e=>(0,ft.jsxs)(Me,{to:e.path,className:(r===e.path?"bg-emerald-800 text-white":"text-emerald-100 hover:bg-emerald-600")+" group flex items-center px-3 py-3 text-base font-medium rounded-md touch-target",onClick:()=>l(!1),children:[(0,ft.jsx)(e.icon,{className:(r===e.path?"text-emerald-100":"text-emerald-300")+" mr-3 flex-shrink-0 h-6 w-6"}),e.name]},e.path)))})]})]})]}),(0,ft.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,ft.jsx)("div",{className:"md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3",children:(0,ft.jsxs)("button",{className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-emerald-500 touch-target",onClick:()=>l(!0),children:[(0,ft.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,ft.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})}),(0,ft.jsx)("main",{className:"flex-1 relative z-0 p-3 sm:p-4 lg:p-6",children:n})]})]})},ap=e=>{var t;let{permissionKey:n,permissions:r,children:s}=e;return null!==r&&void 0!==r&&null!==(t=r.actions)&&void 0!==t&&t[n]?s:(0,ft.jsx)(be,{to:"/admin/unauthorized",replace:!0})};const op=function(){const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(0),c=se(),d=ne(),{setUserAfterOTPVerification:u}=yh(),{email:h,type:m="register",redirectPath:p="/"}=d.state||{};return(0,a.useEffect)((()=>{if(!h)return pt.error("No email provided. Please try again."),void c("/register");l(60);const e=setInterval((()=>{l((t=>t<=1?(clearInterval(e),0):t-1))}),1e3);return()=>clearInterval(e)}),[h,c]),h?(0,ft.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,ft.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify Your Email"}),(0,ft.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"We've sent a 6-digit verification code to"}),(0,ft.jsx)("p",{className:"text-center text-sm font-medium text-gray-900",children:h})]}),(0,ft.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),e&&6===e.length)try{r(!0);const t="http://localhost:5000/api",n="register"===m?"/auth/verify-register-otp":"/auth/verify-login-otp",s=await fetch(`${t}${n}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:h,otp:e})}),i=await s.json();if(!s.ok)throw new Error(i.message||"OTP verification failed");u(i.user,i.token),pt.success("register"===m?"Registration successful!":"Login successful!"),c(p)}catch(n){console.error("OTP verification error:",n),pt.error(n.message||"OTP verification failed")}finally{r(!1)}else pt.error("Please enter a valid 6-digit OTP")},children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"otp",className:"sr-only",children:"Enter OTP"}),(0,ft.jsx)("input",{id:"otp",name:"otp",type:"text",required:!0,value:e,onChange:e=>{const n=e.target.value.replace(/\D/g,"").slice(0,6);t(n)},className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm text-center text-2xl tracking-widest",placeholder:"000000",maxLength:"6",autoComplete:"one-time-code"})]}),(0,ft.jsx)("div",{children:(0,ft.jsx)("button",{type:"submit",disabled:n||6!==e.length,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,ft.jsx)(np,{}):"Verify OTP"})}),(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("p",{className:"text-sm text-gray-600",children:"Didn't receive the code?"}),(0,ft.jsx)("button",{type:"button",onClick:async()=>{try{i(!0);const e="http://localhost:5000/api",t="register"===m?"/auth/resend-register-otp":"/auth/resend-login-otp",n=await fetch(`${e}${t}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:h})}),r=await n.json();if(!n.ok)throw new Error(r.message||"Failed to resend OTP");pt.success("OTP resent successfully!"),l(60);const s=setInterval((()=>{l((e=>e<=1?(clearInterval(s),0):e-1))}),1e3)}catch(e){console.error("Resend OTP error:",e),pt.error(e.message||"Failed to resend OTP")}finally{i(!1)}},disabled:s||o>0,className:"text-sm font-medium text-emerald-600 hover:text-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,ft.jsx)(np,{}):o>0?`Resend in ${o}s`:"Resend OTP"})]}),(0,ft.jsx)("div",{className:"text-center",children:(0,ft.jsxs)("button",{type:"button",onClick:()=>c("register"===m?"/register":"/login"),className:"text-sm text-gray-600 hover:text-gray-500",children:["\u2190 Back to ","register"===m?"Registration":"Login"]})})]})]})}):null},lp=e=>{const t=Number(e);return isNaN(t)?"N/A":lh(t)},cp=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short"})}catch(Wj){return"Invalid Date"}};const dp=function(e){var t;let{trek:n}=e;const[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{o(!0);try{const e=await nh();s(e||[])}catch(e){console.error("Error fetching active offers:",e),s([])}finally{o(!1)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{if(n.region&&"object"===typeof n.region&&n.region.name)return c(n.region.name),void u(!1);if(n.region&&"string"===typeof n.region&&n.region.match(/^[0-9a-fA-F]{24}$/)){u(!0);try{const e=await uh(n.region);c((null===e||void 0===e?void 0:e.name)||"Unknown Region")}catch(e){console.error(`Error fetching region ${n.region}:`,e),c("Unknown Region")}finally{u(!1)}}else c("N/A"),u(!1)})()}),[n.region]);const h=n.displayPrice||(n.batches&&n.batches.length>0?n.batches[0].price:0),m=!i&&r.find((e=>e.isActive&&(!e.applicableTreks||0===e.applicableTreks.length||e.applicableTreks.includes(n._id))&&new Date(e.startDate)<=new Date&&new Date(e.endDate)>=new Date));let p=h;m&&("percentage"===m.discountType?p=h*(1-m.discountValue/100):"fixed"===m.discountType&&(p=Math.max(0,h-m.discountValue)));const f=null===(t=n.batches)||void 0===t?void 0:t.filter((e=>new Date(e.startDate)>=new Date)).sort(((e,t)=>new Date(e.startDate)-new Date(t.startDate)))[0],g={mountains:(0,ft.jsx)(vm,{className:"mr-1"}),coastal:(0,ft.jsx)(Qm,{className:"mr-1"}),desert:(0,ft.jsx)(Vm,{className:"mr-1"}),adventure:(0,ft.jsx)(om,{className:"mr-1"}),relaxing:(0,ft.jsx)(rm,{className:"mr-1"}),cultural:(0,ft.jsx)(zm,{className:"mr-1"}),party:(0,ft.jsx)(bm,{className:"mr-1"})};return(0,ft.jsx)(vc.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},initial:"hidden",animate:"visible",whileHover:{y:-5,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},className:"bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 ease-in-out flex flex-col",children:(0,ft.jsxs)(Me,{to:`/treks/${n._id}`,className:"group flex flex-col h-full",children:[(0,ft.jsxs)("div",{className:"relative h-48 w-full overflow-hidden",children:[n.images&&n.images.length>0?(0,ft.jsx)("img",{src:n.images[0],alt:n.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}):(0,ft.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400",children:(0,ft.jsx)(vm,{size:40})}),n.category&&(0,ft.jsxs)("div",{className:"absolute top-2 left-2 bg-white/80 backdrop-blur-sm text-gray-800 text-xs font-semibold px-2 py-1 rounded-full flex items-center shadow-sm",children:[g[n.category]||null," ",n.category.charAt(0).toUpperCase()+n.category.slice(1)]}),m&&(0,ft.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full flex items-center shadow-md",children:[(0,ft.jsx)(Fm,{className:"mr-1"})," ","percentage"===m.discountType?`${m.discountValue}% OFF`:`${lp(m.discountValue)} OFF`]})]}),(0,ft.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-emerald-600 transition-colors mb-2 truncate",children:n.name||"Unnamed Trek"}),(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mb-3 text-sm text-gray-600",children:[(0,ft.jsxs)("div",{className:"flex items-center truncate",children:[(0,ft.jsx)(gm,{className:"text-emerald-600 mr-2 flex-shrink-0"}),d?(0,ft.jsx)("span",{className:"text-xs italic",children:"Loading..."}):(0,ft.jsx)("span",{className:"truncate",children:l})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)(Hh,{className:"text-emerald-600 mr-2 flex-shrink-0"}),(0,ft.jsxs)("span",{children:[n.duration||"?"," ",1===n.duration?"day":"days"]})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)(vm,{className:"text-emerald-600 mr-2 flex-shrink-0"}),(0,ft.jsx)("span",{children:n.difficulty||"N/A"})]}),f&&(0,ft.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,ft.jsx)(Ih,{className:"mr-1 flex-shrink-0"}),(0,ft.jsxs)("span",{children:["Next: ",cp(f.startDate)]})]})]}),(0,ft.jsx)("div",{className:"flex-grow"}),(0,ft.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-100 flex justify-between items-center",children:[(0,ft.jsxs)("div",{className:"text-emerald-600 font-bold text-lg",children:[lp(p),n.strikedPrice&&n.strikedPrice>p&&(0,ft.jsx)("span",{className:"ml-2 text-sm text-gray-400 line-through",children:lp(n.strikedPrice)}),m&&h>0&&p!==h&&(0,ft.jsx)("span",{className:"ml-2 text-sm text-gray-400 line-through",children:lp(h)}),h<=0&&(0,ft.jsx)("span",{className:"text-sm font-normal text-gray-500",children:"Contact Us"})]}),(0,ft.jsx)("span",{className:"text-emerald-500 group-hover:text-emerald-700 transition-transform duration-300 group-hover:translate-x-1",children:(0,ft.jsx)(Mh,{})})]})]})]})})};function up(e){return e+.5|0}const hp=(e,t,n)=>Math.max(Math.min(e,n),t);function mp(e){return hp(up(2.55*e),0,255)}function pp(e){return hp(up(255*e),0,255)}function fp(e){return hp(up(e/2.55)/100,0,1)}function gp(e){return hp(up(100*e),0,100)}const xp={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yp=[..."0123456789ABCDEF"],vp=e=>yp[15&e],bp=e=>yp[(240&e)>>4]+yp[15&e],wp=e=>(240&e)>>4===(15&e);function jp(e){var t=(e=>wp(e.r)&&wp(e.g)&&wp(e.b)&&wp(e.a))(e)?vp:bp;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Np=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kp(e,t,n){const r=t*Math.min(n,1-n),s=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function Sp(e,t,n){const r=function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(s,4-s,1),0)};return[r(5),r(3),r(1)]}function _p(e,t,n){const r=kp(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function Cp(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(t,n,r),i=Math.min(t,n,r),a=(s+i)/2;let o,l,c;return s!==i&&(c=s-i,l=a>.5?c/(2-s-i):c/(s+i),o=function(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,s),o=60*o+.5),[0|o,l||0,a]}function Ep(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(pp)}function Tp(e,t,n){return Ep(kp,e,t,n)}function Dp(e){return(e%360+360)%360}function Ap(e){const t=Np.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?mp(+t[5]):pp(+t[5]));const s=Dp(+t[2]),i=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Ep(_p,e,t,n)}(s,i,a):"hsv"===t[1]?function(e,t,n){return Ep(Sp,e,t,n)}(s,i,a):Tp(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}const Pp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Mp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Lp;function Op(e){Lp||(Lp=function(){const e={},t=Object.keys(Mp),n=Object.keys(Pp);let r,s,i,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],s=0;s<n.length;s++)i=n[s],o=o.replace(i,Pp[i]);i=parseInt(Mp[a],16),e[o]=[i>>16&255,i>>8&255,255&i]}return e}(),Lp.transparent=[0,0,0,0]);const t=Lp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Rp=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ip=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Fp=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function zp(e,t,n){if(e){let r=Cp(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Tp(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Bp(e,t){return e?Object.assign(t||{},e):e}function qp(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=pp(e[3]))):(t=Bp(e,{r:0,g:0,b:0,a:1})).a=pp(t.a),t}function Up(e){return"r"===e.charAt(0)?function(e){const t=Rp.exec(e);let n,r,s,i=255;if(t){if(t[7]!==n){const e=+t[7];i=t[8]?mp(e):hp(255*e,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?mp(n):hp(n,0,255)),r=255&(t[4]?mp(r):hp(r,0,255)),s=255&(t[6]?mp(s):hp(s,0,255)),{r:n,g:r,b:s,a:i}}}(e):Ap(e)}class Vp{constructor(e){if(e instanceof Vp)return e;const t=typeof e;let n;"object"===t?n=qp(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*xp[e[1]],g:255&17*xp[e[2]],b:255&17*xp[e[3]],a:5===n?17*xp[e[4]]:255}:7!==n&&9!==n||(t={r:xp[e[1]]<<4|xp[e[2]],g:xp[e[3]]<<4|xp[e[4]],b:xp[e[5]]<<4|xp[e[6]],a:9===n?xp[e[7]]<<4|xp[e[8]]:255})),t}(e)||Op(e)||Up(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Bp(this._rgb);return e&&(e.a=fp(e.a)),e}set rgb(e){this._rgb=qp(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${fp(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?jp(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Cp(e),n=t[0],r=gp(t[1]),s=gp(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${fp(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const i=t===s?.5:t,a=2*i-1,o=n.a-r.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;s=1-l,n.r=255&l*n.r+s*r.r+.5,n.g=255&l*n.g+s*r.g+.5,n.b=255&l*n.b+s*r.b+.5,n.a=i*n.a+(1-i)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Fp(fp(e.r)),s=Fp(fp(e.g)),i=Fp(fp(e.b));return{r:pp(Ip(r+n*(Fp(fp(t.r))-r))),g:pp(Ip(s+n*(Fp(fp(t.g))-s))),b:pp(Ip(i+n*(Fp(fp(t.b))-i))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Vp(this.rgb)}alpha(e){return this._rgb.a=pp(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=up(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zp(this._rgb,2,e),this}darken(e){return zp(this._rgb,2,-e),this}saturate(e){return zp(this._rgb,1,e),this}desaturate(e){return zp(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Cp(e);n[0]=Dp(n[0]+t),n=Tp(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function $p(){}const Hp=(()=>{let e=0;return()=>e++})();function Wp(e){return null===e||void 0===e}function Yp(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Kp(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Gp(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Qp(e,t){return Gp(e)?e:t}function Xp(e,t){return"undefined"===typeof e?t:e}const Zp=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Jp(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function ef(e,t,n,r){let s,i,a;if(Yp(e))if(i=e.length,r)for(s=i-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<i;s++)t.call(n,e[s],s);else if(Kp(e))for(a=Object.keys(e),i=a.length,s=0;s<i;s++)t.call(n,e[a[s]],a[s])}function tf(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function nf(e){if(Yp(e))return e.map(nf);if(Kp(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=nf(e[n[s]]);return t}return e}function rf(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function sf(e,t,n,r){if(!rf(e))return;const s=t[e],i=n[e];Kp(s)&&Kp(i)?af(s,i,r):t[e]=nf(i)}function af(e,t,n){const r=Yp(t)?t:[t],s=r.length;if(!Kp(e))return e;const i=(n=n||{}).merger||sf;let a;for(let o=0;o<s;++o){if(a=r[o],!Kp(a))continue;const t=Object.keys(a);for(let r=0,s=t.length;r<s;++r)i(t[r],e,a,n)}return e}function of(e,t){return af(e,t,{merger:lf})}function lf(e,t,n){if(!rf(e))return;const r=t[e],s=n[e];Kp(r)&&Kp(s)?of(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=nf(s))}const cf={"":e=>e,x:e=>e.x,y:e=>e.y};function df(e,t){const n=cf[t]||(cf[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function uf(e){return e.charAt(0).toUpperCase()+e.slice(1)}const hf=e=>"undefined"!==typeof e,mf=e=>"function"===typeof e,pf=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const ff=Math.PI,gf=2*ff,xf=gf+ff,yf=Number.POSITIVE_INFINITY,vf=ff/180,bf=ff/2,wf=ff/4,jf=2*ff/3,Nf=Math.log10,kf=Math.sign;function Sf(e,t,n){return Math.abs(e-t)<n}function _f(e){const t=Math.round(e);e=Sf(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Nf(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Cf(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Ef(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Tf(e){return e*(ff/180)}function Df(e){return e*(180/ff)}function Af(e){if(!Gp(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Pf(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ff&&(i+=gf),{angle:i,distance:s}}function Mf(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Lf(e,t){return(e-t+xf)%gf-ff}function Of(e){return(e%gf+gf)%gf}function Rf(e,t,n,r){const s=Of(e),i=Of(t),a=Of(n),o=Of(i-s),l=Of(a-s),c=Of(s-i),d=Of(s-a);return s===i||s===a||r&&i===a||o>l&&c<d}function If(e,t,n){return Math.max(t,Math.min(n,e))}function Ff(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function zf(e,t,n){n=n||(n=>e[n]<t);let r,s=e.length-1,i=0;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Bf=(e,t,n,r)=>zf(e,n,r?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),qf=(e,t,n)=>zf(e,n,(r=>e[r][t]>=n));const Uf=["push","pop","shift","splice","unshift"];function Vf(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);-1!==s&&r.splice(s,1),r.length>0||(Uf.forEach((t=>{delete e[t]})),delete e._chartjs)}function $f(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Hf="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Wf(e,t){let n=[],r=!1;return function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];n=i,r||(r=!0,Hf.call(window,(()=>{r=!1,e.apply(t,n)})))}}const Yf=e=>"start"===e?"left":"end"===e?"right":"center",Kf=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Gf(e,t,n){const r=t.length;let s=0,i=r;if(e._sorted){const{iScale:a,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=a.axis,{min:u,max:h,minDefined:m,maxDefined:p}=a.getUserBounds();if(m){if(s=Math.min(Bf(l,d,u).lo,n?r:Bf(t,d,a.getPixelForValue(u)).lo),c){const e=l.slice(0,s+1).reverse().findIndex((e=>!Wp(e[o.axis])));s-=Math.max(0,e)}s=If(s,0,r-1)}if(p){let e=Math.max(Bf(l,a.axis,h,!0).hi+1,n?0:Bf(t,d,a.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!Wp(e[o.axis])));e+=Math.max(0,t)}i=If(e,s,r)-s}else i=r-s}return{start:s,count:i}}function Qf(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Xf=e=>0===e||1===e,Zf=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*gf/n),Jf=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*gf/n)+1,eg={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*bf),easeOutSine:e=>Math.sin(e*bf),easeInOutSine:e=>-.5*(Math.cos(ff*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Xf(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Xf(e)?e:Zf(e,.075,.3),easeOutElastic:e=>Xf(e)?e:Jf(e,.075,.3),easeInOutElastic(e){const t=.1125;return Xf(e)?e:e<.5?.5*Zf(2*e,t,.45):.5+.5*Jf(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-eg.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*eg.easeInBounce(2*e):.5*eg.easeOutBounce(2*e-1)+.5};function tg(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function ng(e){return tg(e)?e:new Vp(e)}function rg(e){return tg(e)?e:new Vp(e).saturate(.5).darken(.1).hexString()}const sg=["x","y","borderWidth","radius","tension"],ig=["color","borderColor","backgroundColor"];const ag=new Map;function og(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=ag.get(n);return r||(r=new Intl.NumberFormat(e,t),ag.set(n,r)),r}(t,n).format(e)}const lg={values:e=>Yp(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),i=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=Nf(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),og(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Nf(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?lg.numeric.call(this,e,t,n):""}};var cg={formatters:lg};const dg=Object.create(null),ug=Object.create(null);function hg(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function mg(e,t,n){return"string"===typeof t?af(hg(e,t),n):af(hg(e,""),t)}class pg{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>rg(t.backgroundColor),this.hoverBorderColor=(e,t)=>rg(t.borderColor),this.hoverColor=(e,t)=>rg(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return mg(this,e,t)}get(e){return hg(this,e)}describe(e,t){return mg(ug,e,t)}override(e,t){return mg(dg,e,t)}route(e,t,n,r){const s=hg(this,e),i=hg(this,n),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=i[r];return Kp(e)?Object.assign({},t,e):Xp(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var fg=new pg({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:ig},numbers:{type:"number",properties:sg}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function gg(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function xg(e,t,n){const r=e.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function yg(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function vg(e,t,n,r){bg(e,t,n,r,null)}function bg(e,t,n,r,s){let i,a,o,l,c,d,u,h;const m=t.pointStyle,p=t.rotation,f=t.radius;let g=(p||0)*vf;if(m&&"object"===typeof m&&(i=m.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),m){default:s?e.ellipse(n,r,s/2,f,0,0,gf):e.arc(n,r,f,0,gf),e.closePath();break;case"triangle":d=s?s/2:f,e.moveTo(n+Math.sin(g)*d,r-Math.cos(g)*f),g+=jf,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*f),g+=jf,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*f),e.closePath();break;case"rectRounded":c=.516*f,l=f-c,a=Math.cos(g+wf)*l,u=Math.cos(g+wf)*(s?s/2-c:l),o=Math.sin(g+wf)*l,h=Math.sin(g+wf)*(s?s/2-c:l),e.arc(n-u,r-o,c,g-ff,g-bf),e.arc(n+h,r-a,c,g-bf,g),e.arc(n+u,r+o,c,g,g+bf),e.arc(n-h,r+a,c,g+bf,g+ff),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*f,d=s?s/2:l,e.rect(n-d,r-l,2*d,2*l);break}g+=wf;case"rectRot":u=Math.cos(g)*(s?s/2:f),a=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(s?s/2:f),e.moveTo(n-u,r-o),e.lineTo(n+h,r-a),e.lineTo(n+u,r+o),e.lineTo(n-h,r+a),e.closePath();break;case"crossRot":g+=wf;case"cross":u=Math.cos(g)*(s?s/2:f),a=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(s?s/2:f),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"star":u=Math.cos(g)*(s?s/2:f),a=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(s?s/2:f),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a),g+=wf,u=Math.cos(g)*(s?s/2:f),a=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(s?s/2:f),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"line":a=s?s/2:Math.cos(g)*f,o=Math.sin(g)*f,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(s?s/2:f),r+Math.sin(g)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function wg(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function jg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ng(e){e.restore()}function kg(e,t,n,r,s){if(!t)return e.lineTo(n.x,n.y);if("middle"===s){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===s!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Sg(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function _g(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),a=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,d),e.lineTo(o,d),e.stroke()}}function Cg(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Eg(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=Yp(t)?t:[t],o=i.strokeWidth>0&&""!==i.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Wp(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&Cg(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Wp(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,n,r,i.maxWidth)),e.fillText(c,n,r,i.maxWidth),_g(e,n,r,c,i),r+=Number(s.lineHeight);e.restore()}function Tg(e,t){const{x:n,y:r,w:s,h:i,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ff,ff,!0),e.lineTo(n,r+i-a.bottomLeft),e.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,ff,bf,!0),e.lineTo(n+s-a.bottomRight,r+i),e.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,bf,0,!0),e.lineTo(n+s,r+a.topRight),e.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-bf,!0),e.lineTo(n+a.topLeft,r)}const Dg=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ag=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Pg(e,t){const n=(""+e).match(Dg);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Mg=e=>+e||0;function Lg(e,t){const n={},r=Kp(t),s=r?Object.keys(t):t,i=Kp(e)?r?n=>Xp(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of s)n[a]=Mg(i(a));return n}function Og(e){return Lg(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Rg(e){return Lg(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ig(e){const t=Og(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Fg(e,t){e=e||{},t=t||fg.font;let n=Xp(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=Xp(e.style,t.style);r&&!(""+r).match(Ag)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Xp(e.family,t.family),lineHeight:Pg(Xp(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Xp(e.weight,t.weight),string:""};return s.string=function(e){return!e||Wp(e.size)||Wp(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function zg(e,t,n,r){let s,i,a,o=!0;for(s=0,i=e.length;s<i;++s)if(a=e[s],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),o=!1),void 0!==n&&Yp(a)&&(a=a[n%a.length],o=!1),void 0!==a))return r&&!o&&(r.cacheable=!1),a}function Bg(e,t){return Object.assign(Object.create(e),t)}function qg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const s=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Zg("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:r,override:r=>qg([r,...e],t,s,n)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>Wg(n,r,(()=>function(e,t,n,r){let s;for(const i of t)if(s=Zg($g(i,e),n),"undefined"!==typeof s)return Hg(e,s)?Qg(n,r,e,s):s}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Jg(e).includes(t),ownKeys:e=>Jg(e),set(e,t,n){const s=e._storage||(e._storage=r());return e[t]=s[t]=n,delete e._keys,!0}})}function Ug(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Vg(e,r),setContext:t=>Ug(e,t,n,r),override:s=>Ug(e.override(s),t,n,r)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Wg(e,t,(()=>function(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=e;let o=r[t];mf(o)&&a.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(i,a||r);o.delete(e),Hg(e,l)&&(l=Qg(s._scopes,s,e,l));return l}(t,o,e,n));Yp(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof i.index&&r(e))return t[i.index%t.length];if(Kp(t[0])){const n=t,r=s._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Qg(r,s,e,l);t.push(Ug(n,i,a&&a[e],o))}}return t}(t,o,e,a.isIndexable));Hg(t,o)&&(o=Ug(o,s,i&&i[t],a));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function Vg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:mf(n)?n:()=>n,isIndexable:mf(r)?r:()=>r}}const $g=(e,t)=>e?e+uf(t):t,Hg=(e,t)=>Kp(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Wg(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function Yg(e,t,n){return mf(e)?e(t,n):e}const Kg=(e,t)=>!0===e?t:"string"===typeof e?df(t,e):void 0;function Gg(e,t,n,r,s){for(const i of t){const t=Kg(n,i);if(t){e.add(t);const i=Yg(t._fallback,n,s);if("undefined"!==typeof i&&i!==n&&i!==r)return i}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Qg(e,t,n,r){const s=t._rootScopes,i=Yg(t._fallback,n,r),a=[...e,...s],o=new Set;o.add(r);let l=Xg(o,a,n,i||n,r);return null!==l&&(("undefined"===typeof i||i===n||(l=Xg(o,a,i,l,r),null!==l))&&qg(Array.from(o),[""],s,i,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];if(Yp(s)&&Kp(n))return n;return s||{}}(t,n,r))))}function Xg(e,t,n,r,s){for(;n;)n=Gg(e,t,n,r,s);return n}function Zg(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Jg(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}const ex=Number.EPSILON||1e-14,tx=(e,t)=>t<e.length&&!e[t].skip&&e[t],nx=e=>"x"===e?"y":"x";function rx(e,t,n,r){const s=e.skip?t:e,i=t,a=n.skip?t:n,o=Mf(i,s),l=Mf(a,i);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=r*c,h=r*d;return{previous:{x:i.x-u*(a.x-s.x),y:i.y-u*(a.y-s.y)},next:{x:i.x+h*(a.x-s.x),y:i.y+h*(a.y-s.y)}}}function sx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=nx(t),r=e.length,s=Array(r).fill(0),i=Array(r);let a,o,l,c=tx(e,0);for(a=0;a<r;++a)if(o=l,l=c,c=tx(e,a+1),l){if(c){const e=c[t]-l[t];s[a]=0!==e?(c[n]-l[n])/e:0}i[a]=o?c?kf(s[a-1])!==kf(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}!function(e,t,n){const r=e.length;let s,i,a,o,l,c=tx(e,0);for(let d=0;d<r-1;++d)l=c,c=tx(e,d+1),l&&c&&(Sf(t[d],0,ex)?n[d]=n[d+1]=0:(s=n[d]/t[d],i=n[d+1]/t[d],o=Math.pow(s,2)+Math.pow(i,2),o<=9||(a=3/Math.sqrt(o),n[d]=s*a*t[d],n[d+1]=i*a*t[d])))}(e,s,i),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=nx(n),s=e.length;let i,a,o,l=tx(e,0);for(let c=0;c<s;++c){if(a=o,o=l,l=tx(e,c+1),!o)continue;const s=o[n],d=o[r];a&&(i=(s-a[n])/3,o[`cp1${n}`]=s-i,o[`cp1${r}`]=d-i*t[c]),l&&(i=(l[n]-s)/3,o[`cp2${n}`]=s+i,o[`cp2${r}`]=d+i*t[c])}}(e,i,t)}function ix(e,t,n){return Math.max(Math.min(e,n),t)}function ax(e,t,n,r,s){let i,a,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)sx(e,s);else{let n=r?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)o=e[i],l=rx(n,o,e[Math.min(i+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,s,i,a,o=wg(e[0],t);for(n=0,r=e.length;n<r;++n)a=i,i=o,o=n<r-1&&wg(e[n+1],t),i&&(s=e[n],a&&(s.cp1x=ix(s.cp1x,t.left,t.right),s.cp1y=ix(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=ix(s.cp2x,t.left,t.right),s.cp2y=ix(s.cp2y,t.top,t.bottom)))}(e,n)}function ox(){return"undefined"!==typeof window&&"undefined"!==typeof document}function lx(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function cx(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const dx=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const ux=["top","right","bottom","left"];function hx(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=ux[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function mx(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=dx(n),i="border-box"===s.boxSizing,a=hx(s,"padding"),o=hx(s,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let a,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(s,i,e.target))a=s,o=i;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,n),u=a.left+(d&&o.left),h=a.top+(d&&o.top);let{width:m,height:p}=t;return i&&(m-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-u)/m*n.width/r),y:Math.round((c-h)/p*n.height/r)}}const px=e=>Math.round(10*e)/10;function fx(e,t,n,r){const s=dx(e),i=hx(s,"margin"),a=cx(s.maxWidth,e,"clientWidth")||yf,o=cx(s.maxHeight,e,"clientHeight")||yf,l=function(e,t,n){let r,s;if(void 0===t||void 0===n){const i=e&&lx(e);if(i){const e=i.getBoundingClientRect(),a=dx(i),o=hx(a,"border","width"),l=hx(a,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=cx(a.maxWidth,i,"clientWidth"),s=cx(a.maxHeight,i,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||yf,maxHeight:s||yf}}(e,t,n);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const e=hx(s,"border","width"),t=hx(s,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=px(Math.min(c,a,l.maxWidth)),d=px(Math.min(d,o,l.maxHeight)),c&&!d&&(d=px(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&d>l.height&&(d=l.height,c=px(Math.floor(d*r))),{width:c,height:d}}function gx(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||a.height!==s||a.width!==i)&&(e.currentDevicePixelRatio=r,a.height=s,a.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0)}const xx=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ox()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(Wj){}return e}();function yx(e,t){const n=function(e,t){return dx(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vx(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function bx(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function wx(e,t,n,r){const s={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=vx(e,s,n),o=vx(s,i,n),l=vx(i,t,n),c=vx(a,o,n),d=vx(o,l,n);return vx(c,d,n)}function jx(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Nx(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function kx(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Sx(e){return"angle"===e?{between:Rf,compare:Lf,normalize:Of}:{between:Ff,compare:(e,t)=>e-t,normalize:e=>e}}function _x(e){let{start:t,end:n,count:r,loop:s,style:i}=e;return{start:t%r,end:n%r,loop:s&&(n-t+1)%r===0,style:i}}function Cx(e,t,n){if(!n)return[e];const{property:r,start:s,end:i}=n,a=t.length,{compare:o,between:l,normalize:c}=Sx(r),{start:d,end:u,loop:h,style:m}=function(e,t,n){const{property:r,start:s,end:i}=n,{between:a,normalize:o}=Sx(r),l=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=l,h+=l,c=0,d=l;c<d&&a(o(t[u%l][r]),s,i);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:m,style:e.style}}(e,t,n),p=[];let f,g,x,y=!1,v=null;const b=()=>y||l(s,x,f)&&0!==o(s,x),w=()=>!y||0===o(i,f)||l(i,x,f);for(let j=d,N=d;j<=u;++j)g=t[j%a],g.skip||(f=c(g[r]),f!==x&&(y=l(f,s,i),null===v&&b()&&(v=0===o(f,s)?j:N),null!==v&&w()&&(p.push(_x({start:v,end:j,loop:h,count:a,style:m})),v=null),N=j,x=f));return null!==v&&p.push(_x({start:v,end:u,loop:h,count:a,style:m})),p}function Ex(e,t){const n=[],r=e.segments;for(let s=0;s<r.length;s++){const i=Cx(r[s],e.points,t);i.length&&n.push(...i)}return n}function Tx(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const s=e._chart.getContext(),i=Dx(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let d=i,u=t[0].start,h=u;function m(e,t,r,s){const i=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=i;for(;n[t%l].skip;)t+=i;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:s}),d=s,u=t%l)}}for(const p of t){u=o?u:p.start;let e,t=n[u%l];for(h=u+1;h<=p.end;h++){const i=n[h%l];e=Dx(r.setContext(Bg(s,{type:"segment",p0:t,p1:i,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),Ax(e,d)&&m(u,h-1,p.loop,d),t=i,d=e}u<h-1&&m(u,h-1,p.loop,d)}return c}(e,t,n,r):t}function Dx(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ax(e,t){if(!t)return!1;const n=[],r=function(e,t){return tg(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class Px{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],i=t.duration;s.forEach((r=>r({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(n-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=Hf.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let i,a=s.length-1,o=!1;for(;a>=0;--a)i=s[a],i._active?(i._total>n.duration&&(n.duration=i._total),i.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Mx=new Px;const Lx="transparent",Ox={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=ng(e||Lx),s=r.valid&&ng(t||Lx);return s&&s.valid?s.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Rx{constructor(e,t,n,r){const s=t[n];r=zg([e.to,r,s,e.from]);const i=zg([e.from,s,r]);this._active=!0,this._fn=e.fn||Ox[e.type||typeof i],this._easing=eg[e.easing]||eg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=i,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=zg([e.to,t,r,e.from]),this._from=zg([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,i=this._loop,a=this._to;let o;if(this._active=s!==a&&(i||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=s:(o=t/n%2,o=i&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(s,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Ix{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Kp(e))return;const t=Object.keys(fg.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const s=e[r];if(!Kp(s))return;const i={};for(const e of t)i[e]=s[e];(Yp(s.properties)&&s.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,i)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const t=e[r[s]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),i=Object.keys(t),a=Date.now();let o;for(o=i.length-1;o>=0;--o){const l=i[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let d=s[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,a);continue}d.cancel()}u&&u.duration?(s[l]=d=new Rx(u,e,l,c),r.push(d)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Mx.add(this._chart,n),!0):void 0}}function Fx(e,t){const n=e&&e.options||{},r=n.reverse,s=void 0===n.min?t:0,i=void 0===n.max?t:0;return{start:r?i:s,end:r?s:i}}function zx(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function Bx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.keys,i="single"===r.mode;let a,o,l,c;if(null===t)return;let d=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(d=!0,r.all)continue;break}c=e.values[l],Gp(c)&&(i||0===t||kf(t)===kf(c))&&(t+=c)}return d||r.all?t:0}function qx(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Ux(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Vx(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const t=e[s.index];if(n&&t>0||!n&&t<0)return s.index}return null}function $x(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=r,l=i.axis,c=a.axis,d=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(i,a,r),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[l]:n,[c]:i}=e;h=(e._stacks||(e._stacks={}))[c]=Ux(s,d,n),h[o]=i,h._top=Vx(h,a,!0,r.type),h._bottom=Vx(h,a,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=i}}function Hx(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Wx(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const Yx=e=>"reset"===e||"none"===e,Kx=(e,t)=>t?e:Object.assign({},e);class Gx{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wx(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,s=t.xAxisID=Xp(n.xAxisID,Hx(e,"x")),i=t.yAxisID=Xp(n.yAxisID,Hx(e,"y")),a=t.rAxisID=Xp(n.rAxisID,Hx(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,s,i,a),c=t.vAxisID=r(o,i,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Vf(this._data,this),e._stacked&&Wx(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Kp(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,s="x"===n.axis?"x":"y",i="x"===r.axis?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,d;for(l=0,c=a.length;l<c;++l)d=a[l],o[l]={[s]:d,[i]:e[d]};return o}(t,e)}else if(n!==t){if(n){Vf(n,this);const e=this._cachedMeta;Wx(e),e._parsed=[]}t&&Object.isExtensible(t)&&(s=this,(r=t)._chartjs?r._chartjs.listeners.push(s):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),Uf.forEach((e=>{const t="_onData"+uf(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];const a=n.apply(this,s);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...s)})),a}})})))),this._syncList=[],this._data=t}var r,s}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=qx(t.vScale,t),t.stack!==n.stack&&(r=!0,Wx(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&($x(this,t._parsed),t._stacked=qx(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:i}=n,a=s.axis;let o,l,c,d=0===e&&t===r.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Yp(r[e])?this.parseArrayData(n,r,e,t):Kp(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const s=()=>null===l[a]||u&&l[a]<u[a];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],d&&(s()&&(d=!1),u=l);n._sorted=d}i&&$x(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:i}=e,a=s.axis,o=i.axis,l=s.getLabels(),c=s===i,d=new Array(r);let u,h,m;for(u=0,h=r;u<h;++u)m=u+n,d[u]={[a]:c||s.parse(l[m],m),[o]:i.parse(t[m],m)};return d}parseArrayData(e,t,n,r){const{xScale:s,yScale:i}=e,a=new Array(r);let o,l,c,d;for(o=0,l=r;o<l;++o)c=o+n,d=t[c],a[o]={x:s.parse(d[0],c),y:i.parse(d[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:s,yScale:i}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+n,h=t[u],l[c]={x:s.parse(df(h,a),u),y:i.parse(df(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,i=t[e.axis];return Bx({keys:zx(r,!0),values:t._stacks[e.axis]._visualValues},i,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let i=null===s?NaN:s;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,i=Bx(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,i=r.length,a=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:zx(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(a);let u,h;function m(){h=r[u];const t=h[a.axis];return!Gp(h[e.axis])||c>t||d<t}for(u=0;u<i&&(m()||(this.updateRangeFromParsed(l,e,h,o),!s));++u);if(s)for(u=i-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,i;for(r=0,s=t.length;r<s;++r)i=t[r][e.axis],Gp(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,s;return Kp(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:!1===e}}(Xp(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=Fx(e,n),s=Fx(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,i=[],a=this._drawStart||0,o=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,a,o),c=a;c<a+o;++c){const t=r[c];t.hidden||(t.active&&l?i.push(t):t.draw(e,s))}for(c=0;c<i.length;++c)i[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,n){return Bg(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return Bg(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,s=this._cachedDataOpts,i=e+"-"+t,a=s[i],o=this.enableOptionSharing&&hf(n);if(a)return Kx(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(fg.elements[e]),m=l.resolveNamedOptions(u,h,(()=>this.getContext(n,r,t)),d);return m.$shared&&(m.$shared=o,s[i]=Object.freeze(Kx(m,o))),m}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,i=`animation-${t}`,a=s[i];if(a)return a;let o;if(!1!==r.options.animation){const r=this.chart.config,s=r.datasetAnimationScopeKeys(this._type,t),i=r.getOptionScopes(this.getDataset(),s);o=r.createResolver(i,this.getContext(e,n,t))}const l=new Ix(r,o&&o.animations);return o&&o._cacheable&&(s[i]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Yx(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:i}}updateElement(e,t,n,r){Yx(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!Yx(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const r=n.length,s=t.length,i=Math.min(s,r);i&&this.parse(0,i),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,s=r.data,i=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=i;a--)e[a]=e[a-t]};for(o(s),a=e;a<i;++a)s[a]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&Wx(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Qx(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,s=n.length;t<s;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=$f(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,s,i,a,o=t._length;const l=()=>{32767!==i&&-32768!==i&&(hf(a)&&(o=Math.min(o,Math.abs(i-a)||o)),a=i)};for(r=0,s=n.length;r<s;++r)i=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)i=t.getPixelForTick(r),l();return o}function Xx(e,t,n,r){return Yp(e)?function(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),a=Math.min(s,i),o=Math.max(s,i);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:i,min:a,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Zx(e,t,n,r){const s=e.iScale,i=e.vScale,a=s.getLabels(),o=s===i,l=[];let c,d,u,h;for(c=n,d=n+r;c<d;++c)h=t[c],u={},u[s.axis]=o||s.parse(a[c],c),l.push(Xx(h,u,i,c));return l}function Jx(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function ey(e,t,n,r){let s=t.borderSkipped;const i={};if(!s)return void(e.borderSkipped=i);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:o,reverse:l,top:c,bottom:d}=function(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}(e);"middle"===s&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=d:(i[ty(d,a,o,l)]=!0,s=c)),i[ty(s,a,o,l)]=!0,e.borderSkipped=i}function ty(e,t,n,r){var s,i,a;return r?(a=n,e=ny(e=(s=e)===(i=t)?a:s===a?i:s,n,t)):e=ny(e,t,n),e}function ny(e,t,n){return"start"===e?t:"end"===e?n:e}function ry(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}class sy extends Gx{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return Zx(e,t,n,r)}parseArrayData(e,t,n,r){return Zx(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:i}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l="x"===s.axis?a:o,c="x"===i.axis?a:o,d=[];let u,h,m,p;for(u=n,h=n+r;u<h;++u)p=t[u],m={},m[s.axis]=s.parse(df(p,l),u),d.push(Xx(df(p,c),m,i,u));return d}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),i=s._custom,a=Jx(i)?"["+i.start+", "+i.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s="reset"===r,{index:i,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=s||Wp(t[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[a.axis],f={horizontal:l,base:n.base,enableBorderRadius:!p||Jx(t._custom)||i===p._top||i===p._bottom,x:l?n.head:m.center,y:l?m.center:n.head,height:l?m.size:Math.abs(n.size),width:l?Math.abs(n.size):m.size};u&&(f.options=d||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=f.options||e[h].options;ey(f,g,p,i),ry(f,g,c.ratio),this.updateElement(e[h],h,f,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),s=n.options.stacked,i=[],a=this._cachedMeta.controller.getParsed(t),o=a&&a[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===o)),r=t&&t[e.vScale.axis];if(Wp(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===s||-1===i.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&i.push(c.stack),c.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=void 0!==t?r.indexOf(t):-1;return-1===s?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,i;for(s=0,i=t.data.length;s<i;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const a=e.barThickness;return{min:a||Qx(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:s,minBarLength:i}}=this,a=s||0,o=this.getParsed(e),l=o._custom,c=Jx(l);let d,u,h=o[t.axis],m=0,p=n?this.applyStack(t,o,n):h;p!==h&&(m=p-h,p=h),c&&(h=l.barStart,p=l.barEnd-l.barStart,0!==h&&kf(h)!==kf(l.barEnd)&&(m=0),m+=h);const f=Wp(s)||c?m:s;let g=t.getPixelForValue(f);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(m+p):g,u=d-g,Math.abs(u)<i){u=function(e,t,n){return 0!==e?kf(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,a)*i,h===a&&(g-=u/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),m=Math.max(e,s);g=Math.max(Math.min(g,m),l),d=g+u,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(a)){const e=kf(u)*t.getLineWidthForValue(a)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,i=Xp(r.maxBarThickness,1/0);let a,o;if(t.grouped){const n=s?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const s=t.pixels,i=s[e];let a=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;null===a&&(a=i-(null===o?t.end-t.start:o-i)),null===o&&(o=i+i-a);const c=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const s=n.barThickness;let i,a;return Wp(s)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=l.start+l.chunk*c+l.chunk/2,o=Math.min(i,l.chunk*l.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(i,t.min*t.ratio);return{base:a-o/2,head:a+o/2,center:a,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)null===this.getParsed(s)[t.axis]||n[s].hidden||n[s].draw(this._ctx)}}class iy extends Gx{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,s)=>{const i=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let s,i,a=e=>+n[e];if(Kp(n[e])){const{key:e="value"}=this._parsing;a=t=>+df(n[t],e)}for(s=e,i=e+t;s<i;++s)r._parsed[s]=a(s)}}_getRotation(){return Tf(this.options.rotation-90)}_getCircumference(){return Tf(this.options.circumference)}_getRotationExtents(){let e=gf,t=-gf;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),i=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,s=r.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-i)/2,0),o=Math.min((l=this.options.cutout,c=a,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:f,offsetY:g}=function(e,t,n){let r=1,s=1,i=0,a=0;if(t<gf){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),m=(e,t,r)=>Rf(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>Rf(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),f=m(0,c,u),g=m(bf,d,h),x=p(ff,c,u),y=p(ff+bf,d,h);r=(f-x)/2,s=(g-y)/2,i=-(f+x)/2,a=-(g+y)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}(h,u,o),x=(n.width-i)/m,y=(n.height-i)/p,v=Math.max(Math.min(x,y)/2,0),b=Zp(this.options.radius,v),w=(b-Math.max(b*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*b,this.offsetY=g*b,r.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/gf)}updateElements(e,t,n,r){const s="reset"===r,i=this.chart,a=i.chartArea,o=i.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=s&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,r);let f,g=this._getRotation();for(f=0;f<t;++f)g+=this._circumference(f,s);for(f=t;f<t+n;++f){const t=this._circumference(f,s),n=e[f],i={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};p&&(i.options=m||this.resolveDataElementOptions(f,n.active?"active":r)),g+=t,this.updateElement(n,f,i,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const s=e._parsed[n];null===s||isNaN(s)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?gf*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=og(t._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,s,i,a,o;if(!e)for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){i=n.getDatasetMeta(r),e=i.data,a=i.controller;break}if(!e)return 0;for(r=0,s=e.length;r<s;++r)o=a.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Xp(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class ay extends Gx{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=t,i=this.chart._animationsDisabled;let{start:a,count:o}=Gf(t,r,i);this._drawStart=a,this._drawCount=o,Qf(t)&&(a=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:l},e),this.updateElements(r,a,o,e)}updateElements(e,t,n,r){const s="reset"===r,{iScale:i,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,r),u=i.axis,h=a.axis,{spanGaps:m,segment:p}=this.options,f=Cf(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===r,x=t+n,y=e.length;let v=t>0&&this.getParsed(t-1);for(let b=0;b<y;++b){const n=e[b],m=g?n:{};if(b<t||b>=x){m.skip=!0;continue}const y=this.getParsed(b),w=Wp(y[h]),j=m[u]=i.getPixelForValue(y[u],b),N=m[h]=s||w?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,y,o):y[h],b);m.skip=isNaN(j)||isNaN(N)||w,m.stop=b>0&&Math.abs(y[u]-v[u])>f,p&&(m.parsed=y,m.raw=l.data[b]),d&&(m.options=c||this.resolveDataElementOptions(b,n.active?"active":r)),g||this.updateElement(n,b,m,r),v=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class oy extends iy{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function ly(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cy{static override(e){Object.assign(cy.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ly()}parse(){return ly()}format(){return ly()}add(){return ly()}diff(){return ly()}startOf(){return ly()}endOf(){return ly()}}var dy=cy;function uy(e,t,n,r){const{controller:s,data:i,_sorted:a}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&a&&i.length){const a=o._reversePixels?qf:Bf;if(!r){const r=a(i,t,n);if(l){const{vScale:t}=s._cachedMeta,{_parsed:n}=e,i=n.slice(0,r.lo+1).reverse().findIndex((e=>!Wp(e[t.axis])));r.lo-=Math.max(0,i);const a=n.slice(r.hi).findIndex((e=>!Wp(e[t.axis])));r.hi+=Math.max(0,a)}return r}if(s._sharedOptions){const e=i[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=a(i,t,n-r),s=a(i,t,n+r);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:i.length-1}}function hy(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=i.length;o<l;++o){const{index:e,data:n}=i[o],{lo:l,hi:c}=uy(i[o],t,a,s);for(let t=l;t<=c;++t){const s=n[t];s.skip||r(s,e,t)}}}function my(e,t,n,r,s){const i=[];if(!s&&!e.isPointInArea(t))return i;return hy(e,n,t,(function(n,a,o){(s||wg(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&i.push({element:n,datasetIndex:a,index:o})}),!0),i}function py(e,t,n,r,s,i){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const s=t?Math.abs(e.x-r.x):0,i=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}(n);let l=Number.POSITIVE_INFINITY;return hy(e,n,t,(function(n,c,d){const u=n.inRange(t.x,t.y,s);if(r&&!u)return;const h=n.getCenterPoint(s);if(!(!!i||e.isPointInArea(h))&&!u)return;const m=o(t,h);m<l?(a=[{element:n,datasetIndex:c,index:d}],l=m):m===l&&a.push({element:n,datasetIndex:c,index:d})})),a}function fy(e,t,n,r,s,i){return i||e.isPointInArea(t)?"r"!==n||r?py(e,t,n,r,s,i):function(e,t,n,r){let s=[];return hy(e,n,t,(function(e,n,i){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Pf(e,{x:t.x,y:t.y});Rf(l,a,o)&&s.push({element:e,datasetIndex:n,index:i})})),s}(e,t,n,s):[]}function gy(e,t,n,r,s){const i=[],a="x"===n?"inXRange":"inYRange";let o=!1;return hy(e,n,t,((e,r,l)=>{e[a]&&e[a](t[n],s)&&(i.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,s))})),r&&!o?[]:i}var xy={evaluateInteractionItems:hy,modes:{index(e,t,n,r){const s=mx(t,e),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?my(e,s,i,r,a):fy(e,s,i,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const s=mx(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?my(e,s,i,r,a):fy(e,s,i,!1,r,a);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>my(e,mx(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const s=mx(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return fy(e,s,i,n.intersect,r,a)},x:(e,t,n,r)=>gy(e,mx(t,e),"x",n.intersect,r),y:(e,t,n,r)=>gy(e,mx(t,e),"y",n.intersect,r)}};const yy=["left","top","right","bottom"];function vy(e,t){return e.filter((e=>e.pos===t))}function by(e,t){return e.filter((e=>-1===yy.indexOf(e.pos)&&e.box.axis===t))}function wy(e,t){return e.sort(((e,n)=>{const r=t?n:e,s=t?e:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight}))}function jy(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:s}=n;if(!e||!yy.includes(r))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,a,o;for(i=0,a=e.length;i<a;++i){o=e[i];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:a&&t.availableWidth,o.height=s):(o.width=r,o.height=c?c*s:a&&t.availableHeight)}return n}function Ny(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function ky(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Sy(e,t,n,r){const{pos:s,box:i}=n,a=e.maxPadding;if(!Kp(s)){n.size&&(e[s]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?i.height:i.width),n.size=t.size/t.count,e[s]+=n.size}i.getPadding&&ky(a,i.getPadding());const o=Math.max(0,t.outerWidth-Ny(a,e,"left","right")),l=Math.max(0,t.outerHeight-Ny(a,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function _y(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function Cy(e,t,n,r){const s=[];let i,a,o,l,c,d;for(i=0,a=e.length,c=0;i<a;++i){o=e[i],l=o.box,l.update(o.width||t.w,o.height||t.h,_y(o.horizontal,t));const{same:a,other:u}=Sy(t,n,o,r);c|=a&&s.length,d=d||u,l.fullSize||s.push(o)}return c&&Cy(s,t,n,r)||d}function Ey(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function Ty(e,t,n,r){const s=n.padding;let{x:i,y:a}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,i=l.size||e.height;hf(l.start)&&(a=l.start),e.fullSize?Ey(e,s.left,a,n.outerWidth-s.right-s.left,i):Ey(e,t.left+l.placed,a,r,i),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;hf(l.start)&&(i=l.start),e.fullSize?Ey(e,i,s.top,a,n.outerHeight-s.bottom-s.top):Ey(e,i,t.top+l.placed,a,r),l.start=i,l.placed+=r,i=e.right}}t.x=i,t.y=a}var Dy={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=Ig(e.options.layout.padding),i=Math.max(t-s.width,0),a=Math.max(n-s.height,0),o=function(e){const t=function(e){const t=[];let n,r,s,i,a,o;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],({position:i,options:{stack:a,stackWeight:o=1}}=s),t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return t}(e),n=wy(t.filter((e=>e.box.fullSize)),!0),r=wy(vy(t,"left"),!0),s=wy(vy(t,"right")),i=wy(vy(t,"top"),!0),a=wy(vy(t,"bottom")),o=by(t,"x"),l=by(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:vy(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;ef(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),h=Object.assign({},s);ky(h,Ig(r));const m=Object.assign({maxPadding:h,w:i,h:a,x:s.left,y:s.top},s),p=jy(l.concat(c),u);Cy(o.fullSize,m,u,p),Cy(l,m,u,p),Cy(c,m,u,p)&&Cy(l,m,u,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(m),Ty(o.leftAndTop,m,u,p),m.x+=m.w,m.y+=m.h,Ty(o.rightAndBottom,m,u,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ef(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})}))}};class Ay{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Py extends Ay{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const My="$chartjs",Ly={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Oy=e=>null===e||""===e;const Ry=!!xx&&{passive:!0};function Iy(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Ry)}function Fy(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function zy(e,t,n){const r=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Fy(n.addedNodes,r),t=t&&!Fy(n.removedNodes,r);t&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}function By(e,t,n){const r=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Fy(n.removedNodes,r),t=t&&!Fy(n.addedNodes,r);t&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}const qy=new Map;let Uy=0;function Vy(){const e=window.devicePixelRatio;e!==Uy&&(Uy=e,qy.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function $y(e,t,n){const r=e.canvas,s=r&&lx(r);if(!s)return;const i=Wf(((e,t)=>{const r=s.clientWidth;n(e,t),r<s.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||i(n,r)}));return a.observe(s),function(e,t){qy.size||window.addEventListener("resize",Vy),qy.set(e,t)}(e,i),a}function Hy(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){qy.delete(e),qy.size||window.removeEventListener("resize",Vy)}(e)}function Wy(e,t,n){const r=e.canvas,s=Wf((t=>{null!==e.ctx&&n(function(e,t){const n=Ly[e.type]||e.type,{x:r,y:s}=mx(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==s?s:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,Ry)}(r,t,s),s}class Yy extends Ay{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[My]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Oy(s)){const t=yx(e,"width");void 0!==t&&(e.width=t)}if(Oy(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=yx(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[My])return!1;const n=t[My].initial;["height","width"].forEach((e=>{const r=n[e];Wp(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[My],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),s={attach:zy,detach:By,resize:$y}[t]||Wy;r[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:Hy,detach:Hy,resize:Hy}[t]||Iy)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return fx(e,t,n,r)}isAttached(e){const t=e&&lx(e);return!(!t||!t.isConnected)}}class Ky{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Cf(this.x)&&Cf(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function Gy(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=i.length,o=i[0],l=i[a-1],c=[];if(a>s)return function(e,t,n,r){let s,i=0,a=n[0];for(r=Math.ceil(r),s=0;s<e.length;s++)s===a&&(t.push(e[s]),i++,a=n[i*r])}(t,c,i,a/s),c;const d=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),s=t.length/n;if(!r)return Math.max(s,1);const i=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let a=0,o=i.length-1;a<o;a++){const e=i[a];if(e>s)return e}return Math.max(s,1)}(i,t,s);if(a>0){let e,n;const r=a>1?Math.round((l-o)/(a-1)):null;for(Qy(t,c,d,Wp(r)?0:o-r,o),e=0,n=a-1;e<n;e++)Qy(t,c,d,i[e],i[e+1]);return Qy(t,c,d,l,Wp(r)?t.length:l+r),c}return Qy(t,c,d),c}function Qy(e,t,n,r,s){const i=Xp(r,0),a=Math.min(Xp(s,e.length),e.length);let o,l,c,d=0;for(n=Math.ceil(n),s&&(o=s-r,n=o/Math.floor(o/n)),c=i;c<0;)d++,c=Math.round(i+d*n);for(l=Math.max(i,0);l<a;l++)l===c&&(t.push(e[l]),d++,c=Math.round(i+d*n))}const Xy=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Zy=(e,t)=>Math.min(t||e,e);function Jy(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function ev(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,a=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(s);if(!(n&&(l=1===r?Math.max(c-i,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<i-o||c>a+o)))return c}function tv(e){return e.drawTicks?e.tickLength:0}function nv(e,t){if(!e.display)return 0;const n=Fg(e.font,t),r=Ig(e.padding);return(Yp(e.text)?e.text.length:1)*n.lineHeight+r.height}function rv(e,t,n){let r=Yf(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class sv extends Ky{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Qp(e,Number.POSITIVE_INFINITY),t=Qp(t,Number.NEGATIVE_INFINITY),n=Qp(n,Number.POSITIVE_INFINITY),r=Qp(r,Number.NEGATIVE_INFINITY),{min:Qp(e,n),max:Qp(t,r),minDefined:Gp(e),maxDefined:Gp(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds();if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),s||(n=Math.min(n,t.min)),i||(r=Math.max(r,t.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Qp(n,Qp(r,n)),max:Qp(r,Qp(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jp(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:i}=this.options,a=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:s}=e,i=Zp(t,(s-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(i)),max:a(s,i)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?Jy(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=Gy(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jp(this.options.afterUpdate,[this])}beforeSetDimensions(){Jp(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jp(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Jp(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jp(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=Jp(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Jp(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jp(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Zy(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let i,a,o,l=r;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=If(this.chart.width-d,0,this.maxWidth);i=e.offset?this.maxWidth/n:h/(n-1),d+6>i&&(i=h/(n-(e.offset?.5:1)),a=this.maxHeight-tv(e.grid)-t.padding-nv(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=Df(Math.min(Math.asin(If((c.highest.height+6)/i,-1,1)),Math.asin(If(a/o,-1,1))-Math.asin(If(u/o,-1,1)))),l=Math.max(r,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){Jp(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jp(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,i=this._isVisible(),a=this.isHorizontal();if(i){const i=nv(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=tv(s)+i):(e.height=this.maxHeight,e.width=tv(s)+i),n.display&&this.ticks.length){const{first:t,last:r,widest:s,highest:i}=this._getLabelSizes(),o=2*n.padding,l=Tf(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(a){const t=n.mirror?0:d*s.width+c*i.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*s.width+d*i.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,d,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:i},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=r*e.width,u=n*t.height):(d=n*e.height,u=r*t.width):"start"===s?u=t.width:"end"===s?d=e.width:"inner"!==s&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-a+i)*this.width/(this.width-a),0),this.paddingRight=Math.max((u-c+i)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===s?(n=0,r=e.height):"end"===s&&(n=t.height,r=0),this.paddingTop=n+i,this.paddingBottom=r+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jp(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Wp(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Jy(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:s}=this,i=[],a=[],o=Math.floor(t/Zy(t,n));let l,c,d,u,h,m,p,f,g,x,y,v=0,b=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),r.font=m=h.string,p=s[m]=s[m]||{data:{},gc:[]},f=h.lineHeight,g=x=0,Wp(u)||Yp(u)){if(Yp(u))for(c=0,d=u.length;c<d;++c)y=u[c],Wp(y)||Yp(y)||(g=gg(r,p.data,p.gc,g,y),x+=f)}else g=gg(r,p.data,p.gc,g,u),x=f;i.push(g),a.push(x),v=Math.max(g,v),b=Math.max(x,b)}!function(e,t){ef(e,(e=>{const n=e.gc,r=n.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[n[s]];n.splice(0,r)}}))}(s,t);const w=i.indexOf(v),j=a.indexOf(b),N=e=>({width:i[e]||0,height:a[e]||0});return{first:N(0),last:N(t-1),widest:N(w),highest:N(j),widths:i,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return If(this._alignToPixels?xg(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Bg(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=function(e,t){return Bg(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Tf(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,a=s?s.widest.width+i:0,o=s?s.highest.height+i:0;return this.isHorizontal()?o*n>a*r?a/n:o/r:o*r<a*n?o/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:i,border:a}=r,o=s.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=tv(s),u=[],h=a.setContext(this.getContext()),m=h.display?h.width:0,p=m/2,f=function(e){return xg(n,e,m)};let g,x,y,v,b,w,j,N,k,S,_,C;if("top"===i)g=f(this.bottom),w=this.bottom-d,N=g-p,S=f(e.top)+p,C=e.bottom;else if("bottom"===i)g=f(this.top),S=e.top,C=f(e.bottom)-p,w=g+p,N=this.top+d;else if("left"===i)g=f(this.right),b=this.right-d,j=g-p,k=f(e.left)+p,_=e.right;else if("right"===i)g=f(this.left),k=e.left,_=f(e.right)-p,b=g+p,j=this.left+d;else if("x"===t){if("center"===i)g=f((e.top+e.bottom)/2+.5);else if(Kp(i)){const e=Object.keys(i)[0],t=i[e];g=f(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,w=g+p,N=w+d}else if("y"===t){if("center"===i)g=f((e.left+e.right)/2);else if(Kp(i)){const e=Object.keys(i)[0],t=i[e];g=f(this.chart.scales[e].getPixelForValue(t))}b=g-p,j=b-d,k=e.left,_=e.right}const E=Xp(r.ticks.maxTicksLimit,c),T=Math.max(1,Math.ceil(c/E));for(x=0;x<c;x+=T){const e=this.getContext(x),t=s.setContext(e),r=a.setContext(e),i=t.lineWidth,c=t.color,d=r.dash||[],h=r.dashOffset,m=t.tickWidth,p=t.tickColor,f=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=ev(this,x,o),void 0!==y&&(v=xg(n,y,i),l?b=j=k=_=v:w=N=S=C=v,u.push({tx1:b,ty1:w,tx2:j,ty2:N,x1:k,y1:S,x2:_,y2:C,width:i,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:p,tickBorderDash:f,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,i=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=s,u=tv(n.grid),h=u+c,m=d?-c:h,p=-Tf(this.labelRotation),f=[];let g,x,y,v,b,w,j,N,k,S,_,C,E="middle";if("top"===r)w=this.bottom-m,j=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+m,j=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,b=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,b=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(Kp(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)b=(e.left+e.right)/2-h;else if(Kp(r)){const e=Object.keys(r)[0],t=r[e];b=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?E="top":"end"===o&&(E="bottom"));const T=this._getLabelSizes();for(g=0,x=a.length;g<x;++g){y=a[g],v=y.label;const e=s.setContext(this.getContext(g));N=this.getPixelForTick(g)+s.labelOffset,k=this._resolveTickFontOptions(g),S=k.lineHeight,_=Yp(v)?v.length:1;const t=_/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(i?(b=N,"inner"===j&&(h=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==p?-_*S+S/2:"center"===l?-T.highest.height/2-t*S+S:-T.highest.height+S/2:"near"===l||0!==p?S/2:"center"===l?T.highest.height/2-t*S:T.highest.height-_*S,d&&(C*=-1),0===p||e.showLabelBackdrop||(b+=S/2*Math.sin(p))):(w=N,C=(1-_)*S/2),e.showLabelBackdrop){const t=Ig(e.backdropPadding),n=T.heights[g],r=T.widths[g];let s=C-t.top,i=0-t.left;switch(E){case"middle":s-=n/2;break;case"bottom":s-=n}switch(j){case"center":i-=r/2;break;case"right":i-=r;break;case"inner":g===x-1?i-=r:g>0&&(i-=r/2)}u={left:i,top:s,width:r+t.width,height:n+t.height,color:e.backdropColor}}f.push({label:v,font:k,textOffset:C,options:{rotation:p,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:E,translation:[b,w],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Tf(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,i=e+s,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-i,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+i,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(s=0,i=r.length;s<i;++s){const e=r[s];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const a=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=xg(e,this.left,i)-i/2,c=xg(e,this.right,a)+a/2,d=u=o):(d=xg(e,this.top,i)-i/2,u=xg(e,this.bottom,a)+a/2,l=c=o),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&jg(t,n);const r=this.getLabelItems(e);for(const s of r){const e=s.options,n=s.font;Eg(t,s.label,0,s.textOffset,n,e)}n&&Ng(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=Fg(n.font),i=Ig(n.padding),a=n.align;let o=s.lineHeight/2;"bottom"===t||"center"===t||Kp(t)?(o+=i.bottom,Yp(n.text)&&(o+=s.lineHeight*(n.text.length-1))):o+=i.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,r){const{top:s,left:i,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,m,p=0;const f=a-s,g=o-i;if(e.isHorizontal()){if(h=Kf(r,i,o),Kp(n)){const e=Object.keys(n)[0],r=n[e];m=d[e].getPixelForValue(r)+f-t}else m="center"===n?(c.bottom+c.top)/2+f-t:Xy(e,n,t);u=o-i}else{if(Kp(n)){const e=Object.keys(n)[0],r=n[e];h=d[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:Xy(e,n,t);m=Kf(r,a,s),p="left"===n?-bf:bf}return{titleX:h,titleY:m,maxWidth:u,rotation:p}}(this,o,t,a);Eg(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:u,textAlign:rv(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Xp(e.grid&&e.grid.z,-1),r=Xp(e.border&&e.border.z,0);return this._isVisible()&&this.draw===sv.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,i;for(s=0,i=t.length;s<i;++s){const i=t[s];i[n]!==this.id||e&&i.type!==e||r.push(i)}return r}_resolveTickFontOptions(e){return Fg(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class iv{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function(e,t,n){const r=af(Object.create(null),[n?fg.get(n):{},fg.get(t),e.defaults]);fg.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");fg.route(i,s,l,o)}))}(t,e.defaultRoutes);e.descriptors&&fg.describe(t,e.descriptors)}(e,i,n),this.override&&fg.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in fg[r]&&(delete fg[r][n],this.override&&delete dg[n])}}class av{constructor(){this.controllers=new iv(Gx,"datasets",!0),this.elements=new iv(Ky,"elements"),this.plugins=new iv(Object,"plugins"),this.scales=new iv(sv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):ef(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=uf(e);Jp(n["before"+r],[],n),t[e](n),Jp(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var ov=new av;class lv{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),i=this._notify(s,e,t,n);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,n,r){r=r||{};for(const s of e){const e=s.plugin;if(!1===Jp(e[n],[t,r,s.options],e)&&r.cancelable)return!1}return!0}invalidate(){Wp(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=Xp(n.options&&n.options.plugins,{}),s=function(e){const t={},n=[],r=Object.keys(ov.plugins.items);for(let i=0;i<r.length;i++)n.push(ov.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const e=s[i];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:s,localIds:i}=t;const a=[],o=e.getContext();for(const l of s){const t=l.id,s=cv(n[t],r);null!==s&&a.push({plugin:l,options:dv(e.config,{plugin:l,local:i[t]},s,o)})}return a}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function cv(e,t){return t||!1!==e?!0===e?{}:e:null}function dv(e,t,n,r){let{plugin:s,local:i}=t;const a=e.pluginScopeKeys(s),o=e.getOptionScopes(n,a);return i&&s.defaults&&o.push(s.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function uv(e,t){const n=fg.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function hv(e){if("x"===e||"y"===e||"r"===e)return e}function mv(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function pv(e){if(hv(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||mv(s.position)||e.length>1&&hv(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function fv(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function gv(e,t){const n=dg[e.type]||{scales:{}},r=t.scales||{},s=uv(e.type,t),i=Object.create(null);return Object.keys(r).forEach((t=>{const a=r[t];if(!Kp(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=pv(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return fv(e,"x",n[0])||fv(e,"y",n[0])}return{}}(t,e),fg.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,s),c=n.scales||{};i[t]=of(Object.create(null),[{axis:o},a,c[o],c[l]])})),e.data.datasets.forEach((n=>{const s=n.type||e.type,a=n.indexAxis||uv(s,t),o=(dg[s]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),s=n[t+"AxisID"]||t;i[s]=i[s]||Object.create(null),of(i[s],[{axis:t},r[s],o[e]])}))})),Object.keys(i).forEach((e=>{const t=i[e];of(t,[fg.scales[t.type],fg.scale])})),i}function xv(e){const t=e.options||(e.options={});t.plugins=Xp(t.plugins,{}),t.scales=gv(e,t)}function yv(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const vv=new Map,bv=new Set;function wv(e,t){let n=vv.get(e);return n||(n=t(),vv.set(e,n),bv.add(n)),n}const jv=(e,t,n)=>{const r=df(t,n);void 0!==r&&e.add(r)};class Nv{constructor(e){this._config=function(e){return(e=e||{}).data=yv(e.data),xv(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=yv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return wv(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return wv(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return wv(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return wv(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,i=this._cachedScopes(e,n),a=i.get(t);if(a)return a;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>jv(o,e,t)))),t.forEach((e=>jv(o,r,e))),t.forEach((e=>jv(o,dg[s]||{},e))),t.forEach((e=>jv(o,fg,e))),t.forEach((e=>jv(o,ug,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),bv.has(t)&&i.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,dg[t]||{},fg.datasets[t]||{},{type:t},fg,ug]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:i,subPrefixes:a}=kv(this._resolverCache,e,r);let o=i;if(function(e,t){const{isScriptable:n,isIndexable:r}=Vg(e);for(const s of t){const t=n(s),i=r(s),a=(i||t)&&e[s];if(t&&(mf(a)||Sv(a))||i&&Yp(a))return!0}return!1}(i,t)){s.$shared=!1;o=Ug(i,n=mf(n)?n():n,this.createResolver(e,n,a))}for(const l of t)s[l]=o[l];return s}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:s}=kv(this._resolverCache,e,n);return Kp(t)?Ug(s,t,void 0,r):s}}function kv(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);if(!i){i={resolver:qg(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(s,i)}return i}const Sv=e=>Kp(e)&&Object.getOwnPropertyNames(e).some((t=>mf(e[t])));const _v=["top","bottom","left","right","chartArea"];function Cv(e,t){return"top"===e||"bottom"===e||-1===_v.indexOf(e)&&"x"===t}function Ev(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Tv(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Jp(n&&n.onComplete,[e],t)}function Dv(e){const t=e.chart,n=t.options.animation;Jp(n&&n.onProgress,[e],t)}function Av(e){return ox()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Pv={},Mv=e=>{const t=Av(e);return Object.values(Pv).filter((e=>e.canvas===t)).pop()};function Lv(e,t,n){const r=Object.keys(e);for(const s of r){const r=+s;if(r>=t){const i=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=i)}}}function Ov(e,t,n){return e.options.clip?e[n]:t[n]}class Rv{static defaults=(()=>fg)();static instances=(()=>Pv)();static overrides=(()=>dg)();static registry=(()=>ov)();static version="4.4.8";static getChart=(()=>Mv)();static register(){ov.add(...arguments),Iv()}static unregister(){ov.remove(...arguments),Iv()}constructor(e,t){const n=this.config=new Nv(t),r=Av(e),s=Mv(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!ox()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Py:Yy}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,i.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=Hp(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}((e=>this.update(e)),i.resizeDelay||0),this._dataChanges=[],Pv[this.id]=this,a&&o?(Mx.listen(this,"complete",Tv),Mx.listen(this,"progress",Dv),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return Wp(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ov}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yg(this.canvas,this.ctx),this}stop(){return Mx.stop(this),this}resize(e,t){Mx.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(r,e,t,s),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,gx(this,a,!0)&&(this.notifyPlugins("resize",{size:i}),Jp(n.onResize,[this,i],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){ef(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let s=[];t&&(s=s.concat(Object.keys(t).map((e=>{const n=t[e],r=pv(e,n),s="r"===r,i="x"===r;return{options:n,dposition:s?"chartArea":i?"bottom":"left",dtype:s?"radialLinear":i?"category":"linear"}})))),ef(s,(t=>{const s=t.options,i=s.id,a=pv(i,s),o=Xp(s.type,t.dtype);void 0!==s.position&&Cv(s.position,a)===Cv(t.dposition)||(s.position=t.dposition),r[i]=!0;let l=null;if(i in n&&n[i].type===o)l=n[i];else{l=new(ov.getScale(o))({id:i,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,e)})),ef(r,((e,t)=>{e||delete n[t]})),ef(n,(e=>{Dy.configure(this,e,e.options),Dy.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Ev("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let s=this.getDatasetMeta(n);const i=r.type||this.config.type;if(s.type&&s.type!==i&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=i,s.indexAxis=r.indexAxis||uv(i,this.options),s.order=r.order||0,s.index=n,s.label=""+r.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const t=ov.getController(i),{datasetElementType:r,dataElementType:a}=fg.datasets[i];Object.assign(t,{dataElementType:ov.getElement(a),datasetElementType:r&&ov.getElement(r)}),s.controller=new t(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){ef(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===s.indexOf(e);e.buildOrUpdateElements(t),i=Math.max(+e.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),r||ef(s,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ev("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ef(this.scales,(e=>{Dy.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);pf(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){Lv(e,r,"_removeElements"===n?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let s=1;s<t;s++)if(!pf(r,n(s)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Dy.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],ef(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,mf(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Mx.has(this)?this.attached&&!Mx.running(this)&&Mx.start(this):(this.draw(),Tv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];e&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,s=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Ov(n,t,"left"),right:Ov(n,t,"right"),top:Ov(r,t,"top"),bottom:Ov(r,t,"bottom")}:t}(e,this.chartArea),i={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(r&&jg(t,{left:!1===n.left?0:s.left-n.left,right:!1===n.right?this.width:s.right+n.right,top:!1===n.top?0:s.top-n.top,bottom:!1===n.bottom?this.height:s.bottom+n.bottom}),e.controller.draw(),r&&Ng(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return wg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=xy.modes[t];return"function"===typeof s?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Bg(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,r);hf(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Mx.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yg(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Pv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};ef(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():i()}unbindEvents(){ef(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},ef(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,i,a,o;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,o=e.length;a<o;++a){i=e[a];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[r+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!tf(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=s(t,e),a=n?e:s(e,t);i.length&&this.updateHoverStyle(i,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,i=t,a=this._getActiveElements(e,r,n,i),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,Jp(s.onHover,[e,a,this],this),o&&Jp(s.onClick,[e,a,this],this));const c=!tf(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}function Iv(){return ef(Rv.instances,(e=>e._plugins.invalidate()))}function Fv(e,t,n,r){const s=Lg(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const i=(n-t)/2,a=Math.min(i,r*t/2),o=e=>{const t=(n-Math.min(i,e))*r/2;return If(e,0,Math.min(i,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:If(s.innerStart,0,a),innerEnd:If(s.innerEnd,0,a)}}function zv(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Bv(e,t,n,r,s,i){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let m=0;const p=s-l;if(r){const e=((d>0?d-r:0)+(u>0?u-r:0))/2;m=(p-(0!==e?p*e/(e+r):p))/2}const f=(p-Math.max(.001,p*u-n/ff)/u)/2,g=l+f+m,x=s-f-m,{outerStart:y,outerEnd:v,innerStart:b,innerEnd:w}=Fv(t,h,u,x-g),j=u-y,N=u-v,k=g+y/j,S=x-v/N,_=h+b,C=h+w,E=g+b/_,T=x-w/C;if(e.beginPath(),i){const t=(k+S)/2;if(e.arc(a,o,u,k,t),e.arc(a,o,u,t,S),v>0){const t=zv(N,S,a,o);e.arc(t.x,t.y,v,S,x+bf)}const n=zv(C,x,a,o);if(e.lineTo(n.x,n.y),w>0){const t=zv(C,T,a,o);e.arc(t.x,t.y,w,x+bf,T+Math.PI)}const r=(x-w/h+(g+b/h))/2;if(e.arc(a,o,h,x-w/h,r,!0),e.arc(a,o,h,r,g+b/h,!0),b>0){const t=zv(_,E,a,o);e.arc(t.x,t.y,b,E+Math.PI,g-bf)}const s=zv(j,g,a,o);if(e.lineTo(s.x,s.y),y>0){const t=zv(j,k,a,o);e.arc(t.x,t.y,y,g-bf,k)}}else{e.moveTo(a,o);const t=Math.cos(k)*u+a,n=Math.sin(k)*u+o;e.lineTo(t,n);const r=Math.cos(S)*u+a,s=Math.sin(S)*u+o;e.lineTo(r,s)}e.closePath()}function qv(e,t,n,r,s){const{fullCircles:i,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=l,m="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,m?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let p=t.endAngle;if(i){Bv(e,t,n,r,p,s);for(let t=0;t<i;++t)e.stroke();isNaN(o)||(p=a+(o%gf||gf))}m&&function(e,t,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:l}=t;let c=s/o;e.beginPath(),e.arc(i,a,o,r-c,n+c),l>s?(c=s/l,e.arc(i,a,l,n+c,r-c,!0)):e.arc(i,a,s,n+bf,r-bf),e.closePath(),e.clip()}(e,t,p),i||(Bv(e,t,n,r,p,s),e.stroke())}class Uv extends Ky{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:i}=Pf(r,{x:e,y:t}),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=Xp(d,o-a),m=Rf(s,a,o)&&a!==o,p=h>=gf||m,f=Ff(i,l+u,c+u);return p&&f}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:i,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+s)/2,d=(i+a+l+o)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,i=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>gf?Math.floor(n/gf):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const o=r*(1-Math.sin(Math.min(ff,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,s){const{fullCircles:i,startAngle:a,circumference:o}=t;let l=t.endAngle;if(i){Bv(e,t,n,r,l,s);for(let t=0;t<i;++t)e.fill();isNaN(o)||(l=a+(o%gf||gf))}Bv(e,t,n,r,l,s),e.fill()}(e,this,o,s,i),qv(e,this,o,s,i),e.restore()}}function Vv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Xp(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Xp(n.borderDash,t.borderDash)),e.lineDashOffset=Xp(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Xp(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Xp(n.borderWidth,t.borderWidth),e.strokeStyle=Xp(n.borderColor,t.borderColor)}function $v(e,t,n){e.lineTo(n.x,n.y)}function Hv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:s=0,end:i=r-1}=n,{start:a,end:o}=t,l=Math.max(s,a),c=Math.min(i,o),d=s<a&&i<a||s>o&&i>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!d?r+c-l:c-l}}function Wv(e,t,n,r){const{points:s,options:i}=t,{count:a,start:o,loop:l,ilen:c}=Hv(s,n,r),d=function(e){return e.stepped?kg:e.tension||"monotone"===e.cubicInterpolationMode?Sg:$v}(i);let u,h,m,{move:p=!0,reverse:f}=r||{};for(u=0;u<=c;++u)h=s[(o+(f?c-u:u))%a],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):d(e,m,h,f,i.stepped),m=h);return l&&(h=s[(o+(f?c:0))%a],d(e,m,h,f,i.stepped)),!!l}function Yv(e,t,n,r){const s=t.points,{count:i,start:a,ilen:o}=Hv(s,n,r),{move:l=!0,reverse:c}=r||{};let d,u,h,m,p,f,g=0,x=0;const y=e=>(a+(c?o-e:e))%i,v=()=>{m!==p&&(e.lineTo(g,p),e.lineTo(g,m),e.lineTo(g,f))};for(l&&(u=s[y(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=s[y(d)],u.skip)continue;const t=u.x,n=u.y,r=0|t;r===h?(n<m?m=n:n>p&&(p=n),g=(x*g+t)/++x):(v(),e.lineTo(t,n),h=r,x=0,m=p=n),f=n}v()}function Kv(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Yv:Wv}const Gv="function"===typeof Path2D;function Qv(e,t,n,r){Gv&&!t.options.segment?function(e,t,n,r){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,r)&&s.closePath()),Vv(e,t.options),e.stroke(s)}(e,t,n,r):function(e,t,n,r){const{segments:s,options:i}=t,a=Kv(t);for(const o of s)Vv(e,i,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class Xv extends Ky{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;ax(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,s=n.length;if(!s)return[];const i=!!e._loop,{start:a,end:o}=function(e,t,n,r){let s=0,i=t-1;if(n&&!r)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(i+=s);i>s&&e[i%t].skip;)i--;return i%=t,{start:s,end:i}}(n,s,i,r);return Tx(e,!0===r?[{start:a,end:o,loop:i}]:function(e,t,n,r){const s=e.length,i=[];let a,o=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%s];n.skip||n.stop?l.skip||(r=!1,i.push({start:t%s,end:(a-1)%s,loop:r}),t=o=n.stop?a:null):(o=a,l.skip&&(t=a)),l=n}return null!==o&&i.push({start:t%s,end:o%s,loop:r}),i}(n,a,o<a?o+s:o,!!e._fullLoop&&0===a&&o===s-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],s=this.points,i=Ex(this,{property:t,start:r,end:r});if(!i.length)return;const a=[],o=function(e){return e.stepped?bx:e.tension||"monotone"===e.cubicInterpolationMode?wx:vx}(n);let l,c;for(l=0,c=i.length;l<c;++l){const{start:c,end:d}=i[l],u=s[c],h=s[d];if(u===h){a.push(u);continue}const m=o(u,h,Math.abs((r-u[t])/(h[t]-u[t])),n.stepped);m[t]=e[t],a.push(m)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return Kv(this)(e,this,t,n)}path(e,t,n){const r=this.segments,s=Kv(this);let i=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)i&=s(e,this,a,{start:t,end:t+n-1});return!!i}draw(e,t,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Qv(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Zv(e,t,n,r){const s=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<s.radius+s.hitRadius}class Jv extends Ky{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:s,y:i}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(t-i,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Zv(this,e,"x",t)}inYRange(e,t){return Zv(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!wg(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,vg(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function eb(e,t){const{x:n,y:r,base:s,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=a/2,o=Math.min(n,s),l=Math.max(n,s),c=r-u,d=r+u):(u=i/2,o=n-u,l=n+u,c=Math.min(r,s),d=Math.max(r,s)),{left:o,top:c,right:l,bottom:d}}function tb(e,t,n,r){return e?0:If(t,n,r)}function nb(e){const t=eb(e),n=t.right-t.left,r=t.bottom-t.top,s=function(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=Og(r);return{t:tb(s.top,i.top,0,n),r:tb(s.right,i.right,0,t),b:tb(s.bottom,i.bottom,0,n),l:tb(s.left,i.left,0,t)}}(e,n/2,r/2),i=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=Rg(s),a=Math.min(t,n),o=e.borderSkipped,l=r||Kp(s);return{topLeft:tb(!l||o.top||o.left,i.topLeft,0,a),topRight:tb(!l||o.top||o.right,i.topRight,0,a),bottomLeft:tb(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:tb(!l||o.bottom||o.right,i.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function rb(e,t,n,r){const s=null===t,i=null===n,a=e&&!(s&&i)&&eb(e,r);return a&&(s||Ff(t,a.left,a.right))&&(i||Ff(n,a.top,a.bottom))}function sb(e,t){e.rect(t.x,t.y,t.w,t.h)}function ib(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+a,radius:e.radius}}class ab extends Ky{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:i}=nb(this),a=(o=i.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Tg:sb;var o;e.save(),i.w===s.w&&i.h===s.h||(e.beginPath(),a(e,ib(i,t,s)),e.clip(),a(e,ib(s,-t,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,ib(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return rb(this,e,t,n)}inXRange(e,t){return rb(this,e,null,t)}inYRange(e,t){return rb(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}const ob=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class lb extends Ky{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Jp(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Fg(n.font),s=r.size,i=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=ob(n,s);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(i,s,a,o)+10):(c=this.maxHeight,l=this._fitCols(i,r,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:s,maxWidth:i,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,m)=>{const p=n+t/2+s.measureText(e.text).width;(0===m||l[l.length-1]+p+2*a>i)&&(d+=c,l[l.length-(m>0?0:1)]=0,h+=c,u++),o[m]={left:0,top:h,row:u,width:p,height:r},l[l.length-1]+=p+a})),d}_fitCols(e,t,n,r){const{ctx:s,maxHeight:i,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=i-e;let d=a,u=0,h=0,m=0,p=0;return this.legendItems.forEach(((e,i)=>{const{itemWidth:f,itemHeight:g}=function(e,t,n,r,s){const i=function(e,t,n,r){let s=e.text;s&&"string"!==typeof s&&(s=s.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(s).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=cb(t,n));return r}(s,r,t.lineHeight);return{itemWidth:i,itemHeight:a}}(n,t,s,e,r);i>0&&h+g+2*a>c&&(d+=u+a,l.push({width:u,height:h}),m+=u+a,p++,u=h=0),o[i]={left:m,top:h,col:p,width:f,height:g},u=Math.max(u,f),h+=g+a})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,i=jx(s,this.left,this.width);if(this.isHorizontal()){let s=0,a=Kf(n,this.left+r,this.right-this.lineWidths[s]);for(const o of t)s!==o.row&&(s=o.row,a=Kf(n,this.left+r,this.right-this.lineWidths[s])),o.top+=this.top+e+r,o.left=i.leftForLtr(i.x(a),o.width),a+=o.width+r}else{let s=0,a=Kf(n,this.top+e+r,this.bottom-this.columnSizes[s].height);for(const o of t)o.col!==s&&(s=o.col,a=Kf(n,this.top+e+r,this.bottom-this.columnSizes[s].height)),o.top=a,o.left+=this.left+r,o.left=i.leftForLtr(i.x(o.left),o.width),a+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;jg(e,this),this._draw(),Ng(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:i}=e,a=fg.color,o=jx(e.rtl,this.left,this.width),l=Fg(i.font),{padding:c}=i,d=l.size,u=d/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:m,boxHeight:p,itemHeight:f}=ob(i,d),g=this.isHorizontal(),x=this._computeTitleHeight();h=g?{x:Kf(s,this.left+c,this.right-n[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:Kf(s,this.top+x+c,this.bottom-t[0].height),line:0},Nx(this.ctx,e.textDirection);const y=f+c;this.legendItems.forEach(((v,b)=>{r.strokeStyle=v.fontColor,r.fillStyle=v.fontColor;const w=r.measureText(v.text).width,j=o.textAlign(v.textAlign||(v.textAlign=i.textAlign)),N=m+u+w;let k=h.x,S=h.y;o.setWidth(this.width),g?b>0&&k+N+c>this.right&&(S=h.y+=y,h.line++,k=h.x=Kf(s,this.left+c,this.right-n[h.line])):b>0&&S+y>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,S=h.y=Kf(s,this.top+x+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;r.save();const s=Xp(n.lineWidth,1);if(r.fillStyle=Xp(n.fillStyle,a),r.lineCap=Xp(n.lineCap,"butt"),r.lineDashOffset=Xp(n.lineDashOffset,0),r.lineJoin=Xp(n.lineJoin,"miter"),r.lineWidth=s,r.strokeStyle=Xp(n.strokeStyle,a),r.setLineDash(Xp(n.lineDash,[])),i.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=o.xPlus(e,m/2);bg(r,a,l,t+u,i.pointStyleWidth&&m)}else{const i=t+Math.max((d-p)/2,0),a=o.leftForLtr(e,m),l=Rg(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?Tg(r,{x:a,y:i,w:m,h:p,radius:l}):r.rect(a,i,m,p),r.fill(),0!==s&&r.stroke()}r.restore()}(o.x(k),S,v),k=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(j,k+m+u,g?k+N:this.right,e.rtl),function(e,t,n){Eg(r,n.text,e,t+f/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(k),S,v),g)h.x+=N+c;else if("string"!==typeof v.text){const e=l.lineHeight;h.y+=cb(v,e)+c}else h.y+=y})),kx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Fg(t.font),r=Ig(t.padding);if(!t.display)return;const s=jx(e.rtl,this.left,this.width),i=this.ctx,a=t.position,o=n.size/2,l=r.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=Kf(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Kf(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Kf(a,d,d+u);i.textAlign=s.textAlign(Yf(a)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=n.string,Eg(i,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Fg(e.font),n=Ig(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,s;if(Ff(e,this.left,this.right)&&Ff(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],Ff(e,r.left,r.left+r.width)&&Ff(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!s&&Jp(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!s&&Jp(t.onHover,[e,n,this],this)}else n&&Jp(t.onClick,[e,n,this],this)}}function cb(e,t){return t*(e.text?e.text.length:0)}var db={id:"legend",_element:lb,start(e,t,n){const r=e.legend=new lb({ctx:e.ctx,options:n,chart:e});Dy.configure(e,r,n),Dy.addBox(e,r)},stop(e){Dy.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Dy.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Ig(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class ub extends Ky{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Yp(n.text)?n.text.length:1;this._padding=Ig(n.padding);const s=r*Fg(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:s,options:i}=this,a=i.align;let o,l,c,d=0;return this.isHorizontal()?(l=Kf(a,n,s),c=t+e,o=s-n):("left"===i.position?(l=n+e,c=Kf(a,r,t),d=-.5*ff):(l=s-e,c=Kf(a,t,r),d=.5*ff),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Fg(t.font),r=n.lineHeight/2+this._padding.top,{titleX:s,titleY:i,maxWidth:a,rotation:o}=this._drawArgs(r);Eg(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:o,textAlign:Yf(t.align),textBaseline:"middle",translation:[s,i]})}}var hb={id:"title",_element:ub,start(e,t,n){!function(e,t){const n=new ub({ctx:e.ctx,options:t,chart:e});Dy.configure(e,n,t),Dy.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Dy.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Dy.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const mb={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),s+=e.y,++i}}if(0===i||0===r.size)return!1;const a=[...r].reduce(((e,t)=>e+t))/r.size;return{x:a,y:s/i}},nearest(e,t){if(!e.length)return!1;let n,r,s,i=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Mf(t,r.getCenterPoint());e<o&&(o=e,s=r)}}if(s){const e=s.tooltipPosition();i=e.x,a=e.y}return{x:i,y:a}}};function pb(e,t){return t&&(Yp(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function fb(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function gb(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:e,label:a,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function xb(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:a,boxHeight:o}=t,l=Fg(t.bodyFont),c=Fg(t.titleFont),d=Fg(t.footerFont),u=i.length,h=s.length,m=r.length,p=Ig(t.padding);let f=p.height,g=0,x=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(x+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),x){f+=m*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(x-m)*l.lineHeight+(x-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const v=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,ef(e.title,v),n.font=l.string,ef(e.beforeBody.concat(e.afterBody),v),y=t.displayColors?a+2+t.boxPadding:0,ef(r,(e=>{ef(e.before,v),ef(e.lines,v),ef(e.after,v)})),y=0,n.font=d.string,ef(e.footer,v),n.restore(),g+=p.width,{width:g,height:f}}function yb(e,t,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=s<=(o+l)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),function(e,t,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;return"left"===e&&s+i+a>t.width||"right"===e&&s-i-a<0||void 0}(c,e,t,n)&&(c="center"),c}function vb(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||yb(e,t,n,r),yAlign:r}}function bb(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=s+i,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Rg(a);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const f=function(e,t,n){let{y:r,height:s}=e;return"top"===t?r+=n:r-="bottom"===t?s+n:s/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(d,h)+s:"right"===o&&(p+=Math.max(u,m)+s),{x:If(p,0,r.width-t.width),y:If(f,0,r.height-t.height)}}function wb(e,t,n){const r=Ig(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function jb(e){return pb([],fb(e))}function Nb(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const kb={beforeTitle:$p,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:$p,beforeBody:$p,beforeLabel:$p,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Wp(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:$p,afterBody:$p,beforeFooter:$p,footer:$p,afterFooter:$p};function Sb(e,t,n,r){const s=e[t].call(n,r);return"undefined"===typeof s?kb[t].call(n,r):s}class _b extends Ky{static positioners=(()=>mb)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new Ix(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function(e,t,n){return Bg(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,r=Sb(n,"beforeTitle",this,e),s=Sb(n,"title",this,e),i=Sb(n,"afterTitle",this,e);let a=[];return a=pb(a,fb(r)),a=pb(a,fb(s)),a=pb(a,fb(i)),a}getBeforeBody(e,t){return jb(Sb(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return ef(e,(e=>{const t={before:[],lines:[],after:[]},s=Nb(n,e);pb(t.before,fb(Sb(s,"beforeLabel",this,e))),pb(t.lines,Sb(s,"label",this,e)),pb(t.after,fb(Sb(s,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return jb(Sb(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=Sb(n,"beforeFooter",this,e),s=Sb(n,"footer",this,e),i=Sb(n,"afterFooter",this,e);let a=[];return a=pb(a,fb(r)),a=pb(a,fb(s)),a=pb(a,fb(i)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],i=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(gb(this.chart,t[a]));return e.filter&&(l=l.filter(((t,r,s)=>e.filter(t,r,s,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),ef(l,(t=>{const n=Nb(e.callbacks,t);r.push(Sb(n,"labelColor",this,t)),s.push(Sb(n,"labelPointStyle",this,t)),i.push(Sb(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,i=[];if(r.length){const e=mb[n.position].call(this,r,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const t=this._size=xb(this,n),a=Object.assign({},e,t),o=vb(this.chart,n,a),l=bb(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:i,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=Rg(a),{x:u,y:h}=e,{width:m,height:p}=t;let f,g,x,y,v,b;return"center"===s?(v=h+p/2,"left"===r?(f=u,g=f-i,y=v+i,b=v-i):(f=u+m,g=f+i,y=v-i,b=v+i),x=f):(g="left"===r?u+Math.max(o,c)+i:"right"===r?u+m-Math.max(l,d)-i:this.caretX,"top"===s?(y=h,v=y-i,f=g-i,x=g+i):(y=h+p,v=y+i,f=g+i,x=g-i),b=y),{x1:f,x2:g,x3:x,y1:y,y2:v,y3:b}}drawTitle(e,t,n){const r=this.title,s=r.length;let i,a,o;if(s){const l=jx(n.rtl,this.x,this.width);for(e.x=wb(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",i=Fg(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=i.string,o=0;o<s;++o)t.fillText(r[o],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+a,o+1===s&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,s){const i=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=s,c=Fg(s.bodyFont),d=wb(this,"left",s),u=r.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,m=t.y+h;if(s.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(u,l)+l/2,c=m+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,vg(e,t,n,c),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,vg(e,t,n,c)}else{e.lineWidth=Kp(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=r.leftForLtr(u,l),n=r.leftForLtr(r.xPlus(u,1),l-2),a=Rg(i.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Tg(e,{x:t,y:m,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Tg(e,{x:n,y:m+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,m,l,o),e.strokeRect(t,m,l,o),e.fillStyle=i.backgroundColor,e.fillRect(n,m+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:i,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,d=Fg(n.bodyFont);let u=d.lineHeight,h=0;const m=jx(n.rtl,this.x,this.width),p=function(n){t.fillText(n,m.x(e.x+h),e.y+u/2),e.y+=u+s},f=m.textAlign(i);let g,x,y,v,b,w,j;for(t.textAlign=i,t.textBaseline="middle",t.font=d.string,e.x=wb(this,f,n),t.fillStyle=n.bodyColor,ef(this.beforeBody,p),h=a&&"right"!==f?"center"===i?l/2+c:l+2+c:0,v=0,w=r.length;v<w;++v){for(g=r[v],x=this.labelTextColors[v],t.fillStyle=x,ef(g.before,p),y=g.lines,a&&y.length&&(this._drawColorBox(t,e,v,m,n),u=Math.max(d.lineHeight,o)),b=0,j=y.length;b<j;++b)p(y[b]),u=d.lineHeight;ef(g.after,p)}h=0,u=d.lineHeight,ef(this.afterBody,p),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let i,a;if(s){const o=jx(n.rtl,this.x,this.width);for(e.x=wb(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",i=Fg(n.footerFont),t.fillStyle=n.footerColor,t.font=i.string,a=0;a<s;++a)t.fillText(r[a],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:i}=this,{x:a,y:o}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Rg(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+d,o),"top"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l-u,o),t.quadraticCurveTo(a+l,o,a+l,o+u),"center"===i&&"right"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+l,o+c-m),t.quadraticCurveTo(a+l,o+c,a+l-m,o+c),"bottom"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+h,o+c),t.quadraticCurveTo(a,o+c,a,o+c-h),"center"===i&&"left"===s&&this.drawCaret(e,t,n,r),t.lineTo(a,o+d),t.quadraticCurveTo(a,o,a+d,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const n=mb[e.position].call(this,this._active,this._eventPosition);if(!n)return;const i=this._size=xb(this,e),a=Object.assign({},n,this._size),o=vb(t,e,a),l=bb(e,a,o,t);r._to===l.x&&s._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=i.width,this.height=i.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Ig(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),Nx(e,t.textDirection),s.y+=i.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),kx(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),s=!tf(n,r),i=this._positionChanged(r,t);(s||i)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],i=this._getActiveElements(e,s,t,n),a=this._positionChanged(i,e),o=t||!tf(i,s)||a;return o&&(this._active=i,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const s=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,i=mb[s.position].call(this,e,t);return!1!==i&&(n!==i.x||r!==i.y)}}var Cb={id:"tooltip",_element:_b,positioners:mb,afterInit(e,t,n){n&&(e.tooltip=new _b({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Eb(e,t,n,r){const s=e.indexOf(t);if(-1===s)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return s!==e.lastIndexOf(t)?n:s}function Tb(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Db extends sv{static id="category";static defaults=(()=>({ticks:{callback:Tb}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Wp(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:If(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Eb(n,e,Xp(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=t;i++)r.push({value:i});return r}getLabelForValue(e){return Tb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Ab(e,t){const n=[],{bounds:r,step:s,min:i,max:a,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=s||1,m=c-1,{min:p,max:f}=t,g=!Wp(i),x=!Wp(a),y=!Wp(l),v=(f-p)/(d+1);let b,w,j,N,k=_f((f-p)/m/h)*h;if(k<1e-14&&!g&&!x)return[{value:p},{value:f}];N=Math.ceil(f/k)-Math.floor(p/k),N>m&&(k=_f(N*k/m/h)*h),Wp(o)||(b=Math.pow(10,o),k=Math.ceil(k*b)/b),"ticks"===r?(w=Math.floor(p/k)*k,j=Math.ceil(f/k)*k):(w=p,j=f),g&&x&&s&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-i)/s,k/1e3)?(N=Math.round(Math.min((a-i)/k,c)),k=(a-i)/N,w=i,j=a):y?(w=g?i:w,j=x?a:j,N=l-1,k=(j-w)/N):(N=(j-w)/k,N=Sf(N,Math.round(N),k/1e3)?Math.round(N):Math.ceil(N));const S=Math.max(Af(k),Af(w));b=Math.pow(10,Wp(o)?S:o),w=Math.round(w*b)/b,j=Math.round(j*b)/b;let _=0;for(g&&(u&&w!==i?(n.push({value:i}),w<i&&_++,Sf(Math.round((w+_*k)*b)/b,i,Pb(i,v,e))&&_++):w<i&&_++);_<N;++_){const e=Math.round((w+_*k)*b)/b;if(x&&e>a)break;n.push({value:e})}return x&&u&&j!==a?n.length&&Sf(n[n.length-1].value,a,Pb(a,v,e))?n[n.length-1].value=a:n.push({value:a}):x&&j!==a||n.push({value:j}),n}function Pb(e,t,n){let{horizontal:r,minRotation:s}=n;const i=Tf(s),a=(r?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class Mb extends sv{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Wp(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const i=e=>r=t?r:e,a=e=>s=n?s:e;if(e){const e=kf(r),t=kf(s);e<0&&t<0?a(0):e>0&&t>0&&i(0)}if(r===s){let t=0===s?1:Math.abs(.05*s);a(s+t),e||i(r-t)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=Ab({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Ef(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return og(e,this.chart.options.locale,this.options.ticks.format)}}class Lb extends Mb{static id="linear";static defaults=(()=>({ticks:{callback:cg.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Gp(e)?e:0,this.max=Gp(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Tf(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}cg.formatters.logarithmic;cg.formatters.numeric;const Ob={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rb=Object.keys(Ob);function Ib(e,t){return e-t}function Fb(e,t){if(Wp(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let a=t;return"function"===typeof r&&r(a),Gp(a)||("string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(s&&("week"!==s||!Cf(i)&&!0!==i?n.startOf(a,s):n.startOf(a,"isoWeek",i)),+a)}function zb(e,t,n,r){const s=Rb.length;for(let i=Rb.indexOf(e);i<s-1;++i){const e=Ob[Rb[i]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(s*e.size))<=r)return Rb[i]}return Rb[s-1]}function Bb(e,t,n){if(n){if(n.length){const{lo:r,hi:s}=zf(n,t);e[n[r]>=t?n[r]:n[s]]=!0}}else e[t]=!0}function qb(e,t,n){const r=[],s={},i=t.length;let a,o;for(0;a<i;++a)t[a],s[o]=a,r.push({value:o,major:!1});return 0!==i&&n?function(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(i;o<=a;+s.add(o,1,r))n[o],l>=0&&(t[l].major=!0);return t}(e,r,s,n):r}class Ub extends sv{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new dy(e.adapters.date);r.init(t),of(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Fb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:i,maxDefined:a}=this.getUserBounds();function o(e){i||isNaN(e.min)||Math.min(r,e.min),a||isNaN(e.max)||Math.max(s,e.max)}i&&a||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),Gp(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),Gp(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(e[0],e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,i=function(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)0;for(;s>r&&e[s-1]>n;)0;return r>0||s<e.length?e.slice(r,s):e}(r,s,this.max);return this._unit=t.unit||(n.autoSkip?zb(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,n,r,s){for(let i=Rb.length-1;i>=Rb.indexOf(n);i--){const n=Rb[i];if(Ob[n].common&&e._adapter.diff(s,r,n)>=t-1)return n}return Rb[n?Rb.indexOf(n):0]}(this,i.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Rb.indexOf(e)+1,n=Rb.length;t<n;++t)if(Ob[Rb[t]].common)return Rb[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&i.reverse(),qb(this,i,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,s=0;this.options.offset&&n.length&&(this.getDecimalForValue(n[0]),1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,this.getDecimalForValue(n[n.length-1]),1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const i=n.length<3?.5:.25;If(r,0,i),If(s,0,i),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,i=s.unit||zb(s.minUnit,t,n,this._getLabelCapacity(t)),a=Xp(r.ticks.stepSize,1),o="week"===i&&s.isoWeekday,l=Cf(o)||!0===o,c={};let d,u,h=t;if(l&&+e.startOf(h,"isoWeek",o),+e.startOf(h,l?"day":i),e.diff(n,t,i)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+i);const m="data"===r.ticks.source&&this.getDataTimestamps();for(0;d<n;+e.add(d,a,i),u++)Bb(c,d,m);return d!==n&&"ticks"!==r.bounds&&1!==u||Bb(c,d,m),Object.keys(c).sort(Ib).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,s=t||n[r];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,r){const s=this.options,i=s.ticks.callback;if(i)return Jp(i,[e,t,n],this);const a=s.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],d=l&&a[l],u=n[t],h=l&&d&&u&&u.major;return this._adapter.format(e,r||(h?d:c))}generateTickLabels(e){let t,n,r;for(e.length;t<n;++t)e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Tf(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),i=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*s+a*i,h:n*i+a*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,qb(this,[e],this._majorUnit),r),i=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(r.length;e<t;++e)n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(r.length;t<n;++t)e.push(Fb(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $f(e.sort(Ib))}}const Vb=e=>{const t=Number(e);return isNaN(t)||null===e||void 0===e?0===t?"Contact Us":"N/A":lh(t)},$b=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-IN",{month:"short",day:"numeric"})}catch(Wj){return console.error("Error formatting date:",e,Wj),"Invalid Date"}};const Hb=function(e){let{title:t,treks:n=[],viewAllLink:r}=e;const s=(0,a.useRef)(null),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{if(!n||0===n.length)return u([]),void m(!1);m(!0);const e=await Promise.all(n.map((async e=>{var t;let n="N/A";if(e.region&&"object"===typeof e.region&&e.region.name)n=e.region.name;else if(e.region&&"string"===typeof e.region&&e.region.match(/^[0-9a-fA-F]{24}$/))try{const t=await uh(e.region);n=(null===t||void 0===t?void 0:t.name)||"Unknown Region"}catch(i){console.error(`Error fetching region ${e.region} for trek ${e.name}:`,i),n="Unknown Region"}const r=e.basePrice||(e.batches&&e.batches.length>0?e.batches[0].price:0),s=null===(t=e.batches)||void 0===t?void 0:t.filter((e=>new Date(e.startDate)>=new Date)).sort(((e,t)=>new Date(e.startDate)-new Date(t.startDate)))[0];return{...e,regionName:n,displayPrice:r,earliestBatch:s}})));u(e),m(!1)})()}),[n]);const p=()=>{const e=s.current;e?(o(e.scrollLeft>0),c(e.scrollWidth>e.clientWidth&&e.scrollLeft<e.scrollWidth-e.clientWidth-1)):(o(!1),c(!1))};(0,a.useEffect)((()=>{const e=s.current;return p(),e&&(e.addEventListener("scroll",p),window.addEventListener("resize",p)),()=>{e&&e.removeEventListener("scroll",p),window.removeEventListener("resize",p)}}),[d,h]);const f=e=>{const t=s.current;if(t){const n=.8*t.clientWidth;t.scrollBy({left:"left"===e?-n:n,behavior:"smooth"})}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return h?(0,ft.jsxs)("div",{className:"mb-12",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:t}),(0,ft.jsx)("div",{className:"h-72 bg-gray-200 rounded animate-pulse"})]}):d&&0!==d.length?(0,ft.jsxs)("div",{className:"mb-12 relative group",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-4 px-4 sm:px-0",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:t}),r&&(0,ft.jsxs)(Me,{to:r,className:"text-sm font-medium text-emerald-600 hover:text-emerald-800 transition-colors flex items-center group",children:["View All",(0,ft.jsx)(Mh,{className:"ml-1 w-3 h-3 group-hover:translate-x-1 transition-transform"})]})]}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Tt,{children:i&&(0,ft.jsx)(vc.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>f("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white/80 hover:bg-white rounded-full p-2 shadow-md text-gray-600 hover:text-gray-900 transition-all duration-200 -ml-4 hidden md:flex items-center justify-center","aria-label":"Scroll left",children:(0,ft.jsx)(Uh,{className:"h-5 w-5"})})}),(0,ft.jsxs)(vc.div,{ref:s,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide px-4 sm:px-0 -mx-4 sm:mx-0 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[d.map((e=>(0,ft.jsx)(vc.div,{variants:g,className:"flex-shrink-0 w-72",children:(0,ft.jsx)(vc.div,{whileHover:{y:-5,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},className:"bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 ease-in-out h-full flex flex-col",children:(0,ft.jsxs)(Me,{to:`/treks/${e._id}`,className:"group flex flex-col h-full",children:[(0,ft.jsx)("div",{className:"relative h-40 w-full overflow-hidden",children:e.images&&e.images.length>0?(0,ft.jsx)("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}):(0,ft.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400",children:(0,ft.jsx)(vm,{size:30})})}),(0,ft.jsxs)("div",{className:"p-3 flex flex-col flex-grow",children:[(0,ft.jsx)("h4",{className:"text-base font-semibold text-gray-800 group-hover:text-emerald-600 transition-colors mb-1 truncate",children:e.name}),(0,ft.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mb-2 truncate",children:[(0,ft.jsx)(gm,{className:"mr-1 flex-shrink-0 text-emerald-500"}),(0,ft.jsx)("span",{className:"truncate",children:e.regionName})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 mb-2 text-xs text-gray-600",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)(Hh,{className:"mr-1 text-emerald-500"}),(0,ft.jsxs)("span",{children:[e.duration," days"]})]}),e.earliestBatch&&(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)(Ih,{className:"mr-1 text-emerald-500"}),(0,ft.jsxs)("span",{children:["Next: ",$b(e.earliestBatch.startDate)]})]})]}),(0,ft.jsx)("div",{className:"flex-grow"}),(0,ft.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-100 flex justify-between items-center",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("span",{className:"text-md font-bold text-emerald-600",children:Vb(e.displayPrice)}),e.strikedPrice&&e.strikedPrice>e.displayPrice&&(0,ft.jsx)("span",{className:"ml-2 text-sm text-gray-400 line-through",children:Vb(e.strikedPrice)})]}),(0,ft.jsx)("span",{className:"text-emerald-500 group-hover:text-emerald-700 transition-transform duration-300 group-hover:translate-x-1",children:(0,ft.jsx)(Mh,{size:12})})]})]})]})})},e._id))),(0,ft.jsx)("div",{className:"flex-shrink-0 w-1"})]}),(0,ft.jsx)(Tt,{children:l&&(0,ft.jsx)(vc.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>f("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white/80 hover:bg-white rounded-full p-2 shadow-md text-gray-600 hover:text-gray-900 transition-all duration-200 -mr-4 hidden md:flex items-center justify-center","aria-label":"Scroll right",children:(0,ft.jsx)(Vh,{className:"h-5 w-5"})})})]})]}):null};const Wb=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{r(!0),console.log("Fetching active trek sections...");const e=await(async()=>{try{console.log("API call: getActiveTrekSections");const e=await Ru.get("/trek-sections/active");return console.log("API response:",e.data),e.data}catch(s){throw console.error("Error fetching active trek sections:",s),s}})();console.log("Received trek sections:",e),t(e),i(null)}catch(e){console.error("Error fetching trek sections:",e),i("Failed to load trek sections")}finally{r(!1)}})()}),[]),n?(0,ft.jsx)("div",{className:"container mx-auto px-4 py-8 flex justify-center",children:(0,ft.jsx)(np,{})}):s?(console.log("HomeTrekSections has error:",s),(0,ft.jsx)("div",{className:"text-center text-red-500 my-8",children:s})):0===e.length?(console.log("HomeTrekSections has no sections"),null):(0,ft.jsx)("div",{className:"container mx-auto px-4 py-8",children:e.map((e=>(0,ft.jsx)(Hb,{title:e.title,treks:e.treks,viewAllLink:"/treks"},e._id)))})},Yb=[{_id:"1",name:"Mystic Mountain Escape",region:"Himalayan Foothills",difficulty:"Easy",duration:2,price:4999,description:"Rejuvenate your senses amidst misty mountains and lush greenery. Perfect for a quick escape from the mundane.",images:["https://images.unsplash.com/photo-1506748686214-e9df14d4d9d0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1470770841072-f978cf4d019e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"],location:"Near Shimla",category:"mountains",tags:["relaxing","nature","hiking"],isWeekendGetaway:!0,weekendHighlights:["Bonfire Nights Under Stars","Guided Nature Walks","Local Himachali Cuisine Tasting","Panoramic Sunrise Views","Stargazing Session"],transportation:"Comfortable Shared Tempo Traveller",departureTime:"Friday 7:00 PM",returnTime:"Sunday 9:00 PM",meetingPoint:"City Center Mall, Main Entrance",itinerary:[{day:1,title:"Arrival & Forest Immersion",description:"Arrive at our cozy mountain campsite, check-in, and unwind. Embark on a refreshing walk through the enchanting pine forest as dusk settles.",meals:{dinner:!0},icon:Fh},{day:2,title:"Sunrise Trek & Departure",description:"Wake up early for an optional trek to a stunning sunrise point. Enjoy a hearty breakfast amidst nature before departing back to the city with cherished memories.",meals:{breakfast:!0},icon:Im}],inclusions:["Accommodation in comfortable tents/cottages","Meals as specified (1 Dinner, 1 Breakfast)","Guided walks and activities","Round-trip transportation from meeting point","Bonfire session"],exclusions:["Personal expenses (snacks, beverages)","Any meals not mentioned","Travel insurance","Optional activities"],vibe:"Relaxing, Nature-focused, Social, Rejuvenating",goodToKnow:["Carry warm layers, especially for evenings.","Mobile network connectivity can be intermittent.","Suitable for beginners and families.","Bring comfortable walking shoes."],gallery:["https://images.unsplash.com/photo-1506748686214-e9df14d4d9d0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1470770841072-f978cf4d019e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"]},{_id:"2",name:"Coastal Breeze Ride",region:"Konkan Coast",difficulty:"Moderate",duration:3,price:6500,description:"Feel the sea breeze as you explore scenic coastal routes, pristine beaches, and ancient forts on this exhilarating getaway.",images:["https://images.unsplash.com/photo-1476673160081-cf065607f449?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1519046904884-53103b34b206?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1509233725247-49e657c54213?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"],location:"Alibaug - Murud Stretch",category:"coastal",tags:["adventure","beach","road-trip"],isWeekendGetaway:!0,weekendHighlights:["Beach Camping Experience","Scenic Ferry Rides","Fresh Seafood Delights","Exploration of Sea Forts","Sunset at Kihim Beach"],transportation:"Own Bike/Car Recommended (Support vehicle available)",departureTime:"Friday 5:00 AM",returnTime:"Sunday 10:00 PM",meetingPoint:"Gateway of India (for ferry)",itinerary:[{day:1,title:"Ferry & Coastal Ride",description:"Take the morning ferry to Mandwa, then ride along the scenic coastal road to our beachside campsite near Alibaug.",meals:{dinner:!0},icon:Qm},{day:2,title:"Beaches, Forts & Local Life",description:"Explore Kashid beach, visit Murud-Janjira fort (via boat), and experience the local Konkani culture.",meals:{breakfast:!0,lunch:!0},icon:om},{day:3,title:"Leisurely Morning & Return",description:"Enjoy a final coastal breakfast, perhaps a quick dip in the sea, before riding back towards Mandwa for the return ferry.",meals:{breakfast:!0},icon:Im}],inclusions:["Accommodation (Beach Camping/Homestay)","Meals as specified (2B, 1L, 2D)","Ferry tickets (Mumbai-Mandwa return)","Route guidance & basic mechanical support","Entry fees for specified forts"],exclusions:["Fuel costs","Bike/Car rentals","Personal expenses","Anything not mentioned"],vibe:"Adventurous, Scenic, Road-trip, Cultural",goodToKnow:["Riding/Driving gear recommended.","Carry hydration and sun protection.","Check ferry timings in advance.","Seafood is a highlight!"],gallery:["https://images.unsplash.com/photo-1476673160081-cf065607f449?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1519046904884-53103b34b206?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1509233725247-49e657c54213?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"]},{_id:"3",name:"Desert Oasis Camp",region:"Thar Desert",difficulty:"Easy",duration:2,price:5500,description:"Immerse yourself in the magic of the Thar desert. Enjoy camel rides, vibrant cultural performances, and camp under a blanket of stars.",images:["https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1516496791181-7055a1406190?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1528310081961-ed570f617a73?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1504198453319-5ce911baf5de?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"],location:"Near Jaisalmer",category:"desert",tags:["cultural","unique","camping"],isWeekendGetaway:!0,weekendHighlights:["Sunset Camel Safari on Dunes","Thrilling Jeep Safari (Optional)","Live Rajasthani Folk Music & Dance","Authentic Rajasthani Thali Dinner","Camping in Swiss Tents"],transportation:"Shared Jeep Transfer from Jaisalmer City",departureTime:"Saturday 3:00 PM",returnTime:"Sunday 11:00 AM",meetingPoint:"Jaisalmer Fort Parking Area",itinerary:[{day:1,title:"Desert Arrival & Cultural Evening",description:"Transfer to our desert camp. Embark on a memorable camel ride to the sand dunes for a breathtaking sunset. Enjoy a vibrant cultural program followed by a traditional dinner.",meals:{dinner:!0},icon:Fh},{day:2,title:"Desert Sunrise & Departure",description:"Wake up early to witness the serene desert sunrise. After a Rajasthani breakfast, transfer back to Jaisalmer city.",meals:{breakfast:!0},icon:Im}],inclusions:["Accommodation in comfortable Swiss Tents","Camel Ride","Meals as specified (1 Dinner, 1 Breakfast)","Cultural Program","Return Jeep Transfers from Jaisalmer"],exclusions:["Personal expenses","Optional activities like Jeep Safari","Travel to/from Jaisalmer city"],vibe:"Cultural, Unique, Relaxing, Immersive",goodToKnow:["Carry sunscreen, sunglasses, and hats.","Nights can be cool, bring a light jacket.","Respect local customs and traditions.","Stay hydrated."],gallery:["https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1516496791181-7055a1406190?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1528310081961-ed570f617a73?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1504198453319-5ce911baf5de?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"]}],Kb=[{id:"all",name:"All Getaways",icon:"\ud83c\udf0d"},{id:"mountains",name:"Mountains",icon:"\u26f0\ufe0f"},{id:"coastal",name:"Coastal",icon:"\ud83c\udf0a"},{id:"desert",name:"Desert",icon:"\ud83c\udfdc\ufe0f"},{id:"adventure",name:"Adventure",icon:"\ud83e\uddd7"},{id:"relaxing",name:"Relaxing",icon:"\ud83e\uddd8"},{id:"cultural",name:"Cultural",icon:"\ud83c\udfad"}],Gb={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}},hover:{scale:1.03,boxShadow:"0px 15px 25px -5px rgba(0, 0, 0, 0.1), 0px 10px 10px -5px rgba(0, 0, 0, 0.04)"}},Qb={hover:{scale:1.1}};const Xb=function(e){let{getaway:t}=e;if(!t)return null;const n=(e=>{const t=Kb.find((t=>t.id===e));return t?t.icon:"\u2753"})(t.category);return(0,ft.jsxs)(vc.div,{variants:Gb,initial:"hidden",animate:"visible",whileHover:"hover",className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[(0,ft.jsxs)("div",{className:"relative h-52 overflow-hidden",children:[(0,ft.jsx)(vc.img,{variants:Qb,transition:{duration:.4,ease:"easeInOut"},src:t.images[0],alt:t.name,className:"w-full h-full object-cover"}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),(0,ft.jsx)(vc.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.3},className:"absolute top-3 right-3 bg-white/80 backdrop-blur-sm rounded-full p-2 text-xl text-emerald-700 shadow-md",title:t.category,children:n}),(0,ft.jsx)("div",{className:"absolute bottom-3 left-3 text-white",children:(0,ft.jsxs)("div",{className:"flex items-center bg-black/50 backdrop-blur-sm px-3 py-1 rounded-full text-sm",children:[(0,ft.jsx)(gm,{className:"mr-1.5 text-emerald-300"}),(0,ft.jsx)("span",{children:t.location})]})})]}),(0,ft.jsxs)("div",{className:"p-5 flex flex-col flex-grow",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2 truncate",children:t.name}),(0,ft.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3 text-sm text-gray-600",children:[(0,ft.jsxs)(vc.div,{whileHover:{scale:1.05,x:2},className:"flex items-center bg-emerald-50 px-2.5 py-1 rounded-full text-emerald-700",children:[(0,ft.jsx)(Hh,{className:"mr-1.5"}),(0,ft.jsxs)("span",{children:[t.duration," ",1===t.duration?"day":"days"]})]}),(0,ft.jsxs)(vc.div,{whileHover:{scale:1.05,x:2},className:"flex items-center bg-blue-50 px-2.5 py-1 rounded-full text-blue-700",children:[(0,ft.jsx)(vm,{className:"mr-1.5"}),(0,ft.jsx)("span",{children:t.difficulty})]})]}),(0,ft.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3 flex-grow",children:t.description}),t.tags&&t.tags.length>0&&(0,ft.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-4",children:t.tags.map((e=>(0,ft.jsxs)("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-0.5 rounded-full capitalize",children:["#",e]},e)))}),(0,ft.jsxs)("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-100",children:[(0,ft.jsxs)("div",{className:"text-emerald-700",children:[(0,ft.jsx)("span",{className:"text-xs font-medium",children:"Starts from"}),(0,ft.jsxs)("div",{className:"font-bold text-2xl flex items-center",children:[(0,ft.jsx)(Em,{className:"text-xl mr-0.5"}),t.price.toLocaleString()]})]}),(0,ft.jsx)(Me,{to:`/weekend-getaways/${t._id}`,children:(0,ft.jsx)(vc.button,{whileHover:{scale:1.05,backgroundColor:"rgb(5 150 105)"},whileTap:{scale:.95},className:"px-5 py-2 bg-emerald-500 text-white rounded-lg font-medium hover:bg-emerald-600 transition-colors text-sm shadow-md",children:"Explore"})})]})]})]})};const Zb=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{r(!0);const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=Object.keys(e).filter((t=>""!==e[t])).map((t=>`${t}=${e[t]}`)).join("&");return(await Lu.get(`/api/treks/weekend-getaways?${t}`)).data}catch(s){throw console.error("Error fetching weekend getaways:",s),s}}({limit:3});e&&e.weekendGetaways?t(e.weekendGetaways):t([]),i(null)}catch(e){console.error("Error fetching weekend getaways:",e),i("Failed to load weekend getaways")}finally{r(!1)}})()}),[]),n?(0,ft.jsx)("div",{className:"py-8 text-center",children:(0,ft.jsx)(np,{})}):s||!e||0===e.length?null:(0,ft.jsx)("section",{className:"py-12 bg-emerald-50",children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ft.jsxs)("div",{className:"text-center mb-12",children:[(0,ft.jsxs)("h2",{className:"text-3xl font-extrabold text-gray-900 flex items-center justify-center",children:[(0,ft.jsx)(Vm,{className:"text-emerald-600 mr-3"}),"Weekend Escapes"]}),(0,ft.jsx)("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-500",children:"Short trips perfect for your weekend adventures"})]}),(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((e=>(0,ft.jsx)(Xb,{trek:e},e._id)))}),(0,ft.jsx)("div",{className:"mt-10 text-center",children:(0,ft.jsxs)(Me,{to:"/weekend-getaways",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700",children:["Explore All Weekend Getaways",(0,ft.jsx)(Mh,{className:"ml-2"})]})})]})})};const Jb=function(){const e=se(),[t,n]=(0,a.useState)(""),[r,s]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{const e=(await Bu()).filter((e=>e.isActive));c(e)}catch(e){console.error("Error fetching regions:",e)}finally{u(!1)}})()}),[]),(0,ft.jsxs)("div",{className:"relative h-[calc(100vh-64px)]",children:[(0,ft.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,ft.jsx)("video",{className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"https://images.unsplash.com/photo-1464822759023-fed622ff2c3b",children:(0,ft.jsx)("source",{src:"/videos/hero-background.mp4",type:"video/mp4"})}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-black opacity-50"})]}),(0,ft.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-white px-4",children:[(0,ft.jsx)(vc.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl md:text-6xl font-bold text-center mb-6",children:"Discover Your Next Adventure"}),(0,ft.jsx)(vc.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.3},className:"text-xl md:text-2xl text-center max-w-3xl mb-12",children:"Explore breathtaking trails and create unforgettable memories with TrekBooker"}),(0,ft.jsx)(vc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"w-full max-w-4xl bg-white/10 backdrop-blur-md rounded-lg p-4 md:p-6",children:(0,ft.jsxs)("form",{onSubmit:n=>{n.preventDefault();const s=new URLSearchParams;t&&s.append("search",t),r&&s.append("region",r),i&&s.append("season",i),e(`/treks?${s.toString()}`)},className:"flex flex-col md:flex-row gap-4",children:[(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("div",{className:"flex items-center bg-white/20 rounded-lg px-4 py-3 focus-within:bg-white/30 transition",children:[(0,ft.jsx)(Tm,{className:"text-white mr-3"}),(0,ft.jsx)("input",{type:"text",placeholder:"Search treks...",className:"bg-transparent w-full text-white placeholder-white/70 focus:outline-none",value:t,onChange:e=>n(e.target.value)})]})}),(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("div",{className:"flex items-center bg-white/20 rounded-lg px-4 py-3 focus-within:bg-white/30 transition",children:[(0,ft.jsx)(gm,{className:"text-white mr-3"}),(0,ft.jsxs)("select",{className:"bg-transparent w-full text-white appearance-none focus:outline-none",value:r,onChange:e=>s(e.target.value),children:[(0,ft.jsx)("option",{value:"",className:"text-gray-800",children:"All Destinations"}),l.map((e=>(0,ft.jsx)("option",{value:e._id,className:"text-gray-800",children:e.name},e._id)))]})]})}),(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("div",{className:"flex items-center bg-white/20 rounded-lg px-4 py-3 focus-within:bg-white/30 transition",children:[(0,ft.jsx)(Ih,{className:"text-white mr-3"}),(0,ft.jsxs)("select",{className:"bg-transparent w-full text-white appearance-none focus:outline-none",value:i,onChange:e=>o(e.target.value),children:[(0,ft.jsx)("option",{value:"",className:"text-gray-800",children:"All Seasons"}),(0,ft.jsx)("option",{value:"summer",className:"text-gray-800",children:"Summer"}),(0,ft.jsx)("option",{value:"spring",className:"text-gray-800",children:"Spring"}),(0,ft.jsx)("option",{value:"monsoon",className:"text-gray-800",children:"Monsoon"}),(0,ft.jsx)("option",{value:"autumn",className:"text-gray-800",children:"Autumn"}),(0,ft.jsx)("option",{value:"winter",className:"text-gray-800",children:"Winter"})]})]})}),(0,ft.jsx)("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300",children:"Search"})]})}),(0,ft.jsx)(vc.div,{className:"absolute bottom-8 text-white",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0,repeatType:"loop"},children:(0,ft.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ft.jsx)("span",{className:"text-sm mb-2",children:"Scroll to explore"}),(0,ft.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})})]})]})},ew={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},tw={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}},exit:{opacity:0,x:-30,transition:{duration:.3}}},nw={mountains:(0,ft.jsx)(vm,{className:"mr-2"}),coastal:(0,ft.jsx)(Qm,{className:"mr-2"}),desert:(0,ft.jsx)(Vm,{className:"mr-2"}),adventure:(0,ft.jsx)(om,{className:"mr-2"}),relaxing:(0,ft.jsx)(rm,{className:"mr-2"}),cultural:(0,ft.jsx)(zm,{className:"mr-2"}),party:(0,ft.jsx)(bm,{className:"mr-2"})},rw={mountains:"Mountains",coastal:"Coastal",desert:"Desert",adventure:"Adventure",relaxing:"Relaxing",cultural:"Cultural",party:"Party"},sw=Object.keys(rw);const iw=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{r(!0),i(null);try{const e=await Iu({limit:50});t(Array.isArray(e)?e:[])}catch(e){console.error("Error fetching treks for category section:",e),i("Failed to load treks. Please try again later."),t([])}finally{r(!1)}})()}),[]);const c=(0,a.useMemo)((()=>(console.log("inside filtered treks",o,e),o?e.filter((e=>e.category===o)):e)),[o,e]),d=e=>{l((t=>t===e?"":e))};return(0,ft.jsx)("section",{className:"py-12 md:py-16 bg-gray-50",children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ft.jsxs)("div",{className:"text-center mb-8 md:mb-12",children:[(0,ft.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Explore Treks by Category"}),(0,ft.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Find your next adventure based on what you love."})]}),(0,ft.jsxs)(vc.div,{className:"flex flex-wrap justify-center gap-2 md:gap-3 mb-8 md:mb-12",variants:ew,initial:"hidden",animate:"visible",children:[(0,ft.jsx)(vc.button,{variants:tw,onClick:()=>d(""),className:"flex items-center px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ease-in-out shadow-sm hover:shadow-md "+(o?"bg-white text-gray-700 hover:bg-gray-100":"bg-emerald-600 text-white scale-105 shadow-lg"),whileHover:{y:-2},whileTap:{scale:.95},children:"\ud83c\udf0d All Treks"},"all"),sw.map((e=>(0,ft.jsxs)(vc.button,{variants:tw,onClick:()=>d(e),className:"flex items-center px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ease-in-out shadow-sm hover:shadow-md "+(o===e?"bg-emerald-600 text-white scale-105 shadow-lg":"bg-white text-gray-700 hover:bg-gray-100"),whileHover:{y:-2},whileTap:{scale:.95},children:[nw[e]," ",rw[e]]},e)))]}),n?(0,ft.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ft.jsx)(np,{})}):s?(0,ft.jsx)("div",{className:"text-center py-10 px-4 bg-red-50 border border-red-200 rounded-md",children:(0,ft.jsx)("p",{className:"text-red-700",children:s})}):(0,ft.jsx)(vc.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",variants:ew,initial:"hidden",animate:"visible",exit:"hidden",children:(0,ft.jsx)(Tt,{mode:"sync",children:c.length>0?c.map((e=>(0,ft.jsx)(vc.div,{variants:tw,layout:!0,initial:"hidden",animate:"visible",exit:"exit",children:(0,ft.jsx)(dp,{trek:e})},e._id))):(0,ft.jsx)(vc.div,{className:"col-span-full text-center py-12",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,ft.jsx)("p",{className:"text-gray-500 text-lg",children:"No treks found for the selected category."})},"no-results")})},o),(0,ft.jsx)("div",{className:"mt-12 text-center",children:(0,ft.jsx)(Me,{to:"/treks",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-colors",children:"View All Treks"})})]})})};const aw=function(e){let{trekId:t,trekName:n,onClose:r}=e;const[s,i]=(0,a.useState)({name:"",email:"",phone:"",notes:"",requestCall:!1}),[o,l]=(0,a.useState)(!1),c=e=>{i({...s,[e.target.name]:e.target.value})};return(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md mx-auto",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Get Trek Information"}),(0,ft.jsxs)("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-500",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Close"}),(0,ft.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})]}),n&&(0,ft.jsx)("div",{className:"mb-4 p-3 bg-emerald-50 rounded-md",children:(0,ft.jsxs)("p",{className:"text-emerald-800",children:[(0,ft.jsx)("span",{className:"font-medium",children:"Trek:"})," ",n]})}),(0,ft.jsx)("p",{className:"text-gray-600 mb-6",children:"Leave your details and our team will contact you with more information, special offers, and answers to any questions you may have."}),(0,ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.email){l(!0);try{await rh({...s,trekId:t,source:"Trek Detail Page"}),pt.success("Thank you for your interest! Our team will contact you soon."),r()}catch(n){console.error("Error submitting lead:",n),pt.error("Failed to submit your information. Please try again.")}finally{l(!1)}}else pt.error("Email is required")},className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),(0,ft.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,ft.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ft.jsx)(Ym,{className:"text-gray-400"})}),(0,ft.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:c,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"John Doe"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,ft.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,ft.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ft.jsx)(Qh,{className:"text-gray-400"})}),(0,ft.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:c,required:!0,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"you@example.com"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,ft.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,ft.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ft.jsx)(Nm,{className:"text-gray-400"})}),(0,ft.jsx)("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:c,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"(123) 456-7890"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Questions or Comments"}),(0,ft.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,ft.jsx)("div",{className:"absolute top-3 left-3 flex items-start pointer-events-none",children:(0,ft.jsx)(Cm,{className:"text-gray-400"})}),(0,ft.jsx)("textarea",{id:"notes",name:"notes",value:s.notes,onChange:c,rows:"3",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Any specific questions about this trek?"})]})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("input",{type:"checkbox",id:"requestCall",name:"requestCall",checked:s.requestCall,onChange:e=>i({...s,requestCall:e.target.checked}),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:"requestCall",className:"ml-2 block text-sm text-gray-700",children:"Request a call back from our team"})]}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,ft.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Cancel"}),(0,ft.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-emerald-600 text-white rounded-md text-sm font-medium hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 flex items-center",children:o?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ft.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ft.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Get Information"})]})]}),(0,ft.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:(0,ft.jsx)("p",{children:"By submitting this form, you agree to our privacy policy and terms of service."})})]})};const ow=function(){const[e,t]=(0,a.useState)(!1);return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{style:{position:"sticky",bottom:"2rem",right:"2rem",zIndex:9999,pointerEvents:"auto",float:"right",marginTop:"10px"},children:(0,ft.jsxs)("button",{onClick:()=>t(!0),className:"bg-emerald-600 text-white p-4 rounded-full shadow-lg hover:bg-emerald-700 transition-all duration-300 flex items-center space-x-2 transform hover:scale-105",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[(0,ft.jsx)(Cm,{className:"text-xl"}),(0,ft.jsx)("span",{className:"hidden sm:inline font-medium",children:"Enquire Now"})]})}),e&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9998] p-4",onClick:()=>t(!1),children:(0,ft.jsx)("div",{className:"relative w-full max-w-md",onClick:e=>e.stopPropagation(),children:(0,ft.jsx)(aw,{onClose:()=>t(!1)})})})]})};Rv.register(Uv,Cb,db,Db,Lb,ab,hb);const lw=function(){var e,t;const[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)(!0),[f,g]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{l(!0),d(null);const[e,t,n]=await Promise.all([zu(),Iu({limit:6,featured:!0}),nh()]);console.log("Featured treks data:",t),r(e),i(t),h(n)}catch(e){console.error("Error fetching data:",e),d("Failed to load data. Please try again later.")}finally{l(!1)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{p(!0);try{const e=await zu();r(e),g(null)}catch(e){console.error("Error fetching trek stats:",e),g("Failed to load statistics."),r(null)}finally{p(!1)}})()}),[]),o?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):c?(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-8",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:c})})]})})}):(0,ft.jsxs)("div",{className:"bg-gray-100 min-h-screen",children:[(0,ft.jsx)(Jb,{}),(0,ft.jsx)(iw,{}),(0,ft.jsx)(Zb,{}),(0,ft.jsx)(Wb,{}),(0,ft.jsx)(ow,{}),(0,ft.jsx)("section",{className:"py-16 bg-white",children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ft.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 text-center mb-12",children:"Our Trekking Impact"}),m?(0,ft.jsx)("div",{className:"flex justify-center",children:(0,ft.jsx)(np,{})}):f?(0,ft.jsx)("p",{className:"text-center text-red-600",children:f}):n?(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[(0,ft.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg shadow",children:[(0,ft.jsx)("p",{className:"text-5xl font-bold text-emerald-600",children:n.totalTreks||0}),(0,ft.jsx)("p",{className:"mt-2 text-lg font-medium text-gray-700",children:"Total Treks Offered"})]}),(0,ft.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg shadow",children:[(0,ft.jsx)("p",{className:"text-5xl font-bold text-emerald-600",children:(null===(e=n.regions)||void 0===e?void 0:e.length)||0}),(0,ft.jsx)("p",{className:"mt-2 text-lg font-medium text-gray-700",children:"Regions Explored"})]}),(0,ft.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg shadow",children:[(0,ft.jsx)("p",{className:"text-5xl font-bold text-emerald-600",children:(null===(t=n.difficulties)||void 0===t?void 0:t.length)||0}),(0,ft.jsx)("p",{className:"mt-2 text-lg font-medium text-gray-700",children:"Difficulty Levels"})]})]}):(0,ft.jsx)("p",{className:"text-center text-gray-500",children:"Statistics not available."})]})})]})};function cw(e){return Th({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"},child:[]},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"},child:[]}]})(e)}const dw=function(){var e;const[t,n]=(0,a.useState)(""),[r,s]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),l=se(),c=ne(),{login:d,currentUser:u,setCurrentUser:h}=yh(),m=(null===(e=c.state)||void 0===e?void 0:e.from)||"/";return(0,ft.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,ft.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,ft.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,ft.jsx)(Me,{to:"/register",className:"font-medium text-emerald-600 hover:text-emerald-500",children:"create a new account"})]})]}),(0,ft.jsx)("div",{children:(0,ft.jsx)("button",{onClick:()=>{try{o(!0);const e=500,t=600,n=window.screenX+(window.outerWidth-e)/2,r=window.screenY+(window.outerHeight-t)/2.5,s=`${"http://localhost:5000/api"}/auth/google`;console.log("Opening Google auth URL:",s);const i=window.open(s,"Google Sign In",`toolbar=no, menubar=no, width=${e}, height=${t}, left=${n}, top=${r}`);if(!i)return pt.error("Popup was blocked. Please allow popups for this site."),void o(!1);const a=setInterval((()=>{try{if(!i||i.closed)return clearInterval(a),void o(!1)}catch(e){e.message.includes("cross-origin")||(console.error("Popup error:",e),clearInterval(a),pt.error("Failed to sign in with Google"),o(!1),i&&i.close())}}),1e3),c=e=>{if(e.source===i)if("GOOGLE_AUTH_SUCCESS"===e.data.type){const{data:t,isNewUser:n}=e.data;localStorage.setItem("token",t.token),h(t.user),pt.success(n?"Registration successful! Welcome to our community!":"Successfully signed in with Google"),l(m),o(!1),i.close(),window.removeEventListener("message",c),clearInterval(a)}else if("GOOGLE_AUTH_ERROR"===e.data.type){const t=e.data.error||"Failed to sign in with Google";pt.error(t),o(!1),i.close(),window.removeEventListener("message",c),clearInterval(a)}};window.addEventListener("message",c);return()=>{window.removeEventListener("message",c),clearInterval(a),o(!1)}}catch(e){console.error("Google sign-in error:",e),pt.error("Failed to sign in with Google. Please try again or use email/password."),o(!1)}},disabled:i,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,ft.jsx)(np,{}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(cw,{className:"w-5 h-5 mr-2"}),"Sign in with Google"]})})}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,ft.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,ft.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,ft.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Or continue with"})})]}),(0,ft.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{if(e.preventDefault(),t&&r)try{o(!0);(await d(t,r)).requiresOtp?(pt.success("Login initiated! Please check your email for OTP."),l("/verify-otp",{state:{email:t,type:"login",redirectPath:m}})):l(m)}catch(i){var n,s;console.error("Login error:",i),pt.error((null===(n=i.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to login")}finally{o(!1)}else pt.error("Please fill in all fields")},children:[(0,ft.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,ft.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:e=>n(e.target.value)})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,ft.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:e=>s(e.target.value)})]})]}),(0,ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,ft.jsx)("div",{className:"text-sm",children:(0,ft.jsx)("a",{href:"#",className:"font-medium text-emerald-600 hover:text-emerald-500",children:"Forgot your password?"})})]}),(0,ft.jsx)("div",{children:(0,ft.jsx)("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,ft.jsx)(np,{}):"Sign in"})})]})]})})};const uw=function(){const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(!1),{register:f,currentUser:g,setCurrentUser:x}=yh(),y=se(),v=ne(),b=new URLSearchParams(v.search).get("redirect")||"/";return(0,ft.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,ft.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),(0,ft.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,ft.jsx)(Me,{to:"/login",className:"font-medium text-emerald-600 hover:text-emerald-500",children:"sign in to your account"})]})]}),(0,ft.jsx)("div",{children:(0,ft.jsx)("button",{onClick:()=>{try{p(!0);const e=500,t=600,n=window.screenX+(window.outerWidth-e)/2,r=window.screenY+(window.outerHeight-t)/2.5,s=`${"http://localhost:5000/api"}/auth/google`;console.log("Opening Google auth URL:",s);const i=window.open(s,"Google Sign In",`toolbar=no, menubar=no, width=${e}, height=${t}, left=${n}, top=${r}`);if(!i)return pt.error("Popup was blocked. Please allow popups for this site."),void p(!1);const a=setInterval((()=>{try{if(!i||i.closed)return clearInterval(a),void p(!1)}catch(e){e.message.includes("cross-origin")||(console.error("Popup error:",e),clearInterval(a),pt.error("Failed to sign in with Google"),p(!1),i&&i.close())}}),1e3),o=e=>{if(e.source===i)if("GOOGLE_AUTH_SUCCESS"===e.data.type){const{data:t,isNewUser:n}=e.data;localStorage.setItem("token",t.token),x(t.user),pt.success(n?"Registration successful! Welcome to our community!":"Successfully signed in with Google"),y(b),p(!1),i.close(),window.removeEventListener("message",o),clearInterval(a)}else if("GOOGLE_AUTH_ERROR"===e.data.type){const t=e.data.error||"Failed to sign in with Google";pt.error(t),p(!1),i.close(),window.removeEventListener("message",o),clearInterval(a)}};window.addEventListener("message",o);return()=>{window.removeEventListener("message",o),clearInterval(a),p(!1)}}catch(e){console.error("Google sign-in error:",e),pt.error("Failed to sign in with Google. Please try again or use email/password."),p(!1)}},disabled:m,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,ft.jsx)(np,{}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(cw,{className:"w-5 h-5 mr-2"}),"Sign up with Google"]})})}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,ft.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,ft.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,ft.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Or continue with"})})]}),(0,ft.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),e&&n&&s&&o&&c&&u)if(s===o)try{p(!0);await f({name:e,email:n,password:s,username:c,phone:u});pt.success("Registration initiated! Please check your email for OTP."),y("/verify-otp",{state:{email:n,type:"register",redirectPath:b}})}catch(r){pt.error(r.message||"Registration failed")}finally{p(!1)}else pt.error("Passwords do not match");else pt.error("Please fill in all fields")},children:[(0,ft.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),(0,ft.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Full Name"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,ft.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:e=>r(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Username"}),(0,ft.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:c,onChange:e=>d(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Username"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),(0,ft.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,value:u,onChange:e=>h(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Phone Number"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,ft.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:s,onChange:e=>i(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Password"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),(0,ft.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:o,onChange:e=>l(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password"})]})]}),(0,ft.jsx)("div",{children:(0,ft.jsx)("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,ft.jsx)(np,{}):"Sign up"})})]})]})})};const hw=function(){return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,ft.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mb-6",children:"About TrekBooker"}),(0,ft.jsxs)("div",{className:"prose prose-emerald max-w-none",children:[(0,ft.jsx)("p",{className:"text-lg text-gray-700 mb-6",children:"TrekBooker is your ultimate companion for discovering and booking unforgettable trekking adventures around the world."}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Our Mission"}),(0,ft.jsx)("p",{className:"text-gray-700 mb-6",children:"Our mission is to connect adventure enthusiasts with the most breathtaking trekking experiences while promoting sustainable tourism and supporting local communities."}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Our Story"}),(0,ft.jsx)("p",{className:"text-gray-700 mb-6",children:"Founded by a group of passionate trekkers, TrekBooker was born from the desire to simplify the process of finding and booking quality trekking experiences. We understand the challenges of planning adventure trips, from finding reliable guides to ensuring safety and environmental responsibility."}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"What We Offer"}),(0,ft.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-700 mb-6",children:[(0,ft.jsx)("li",{children:"Carefully curated trekking experiences across various difficulty levels"}),(0,ft.jsx)("li",{children:"Detailed information about each trek, including duration, difficulty, and highlights"}),(0,ft.jsx)("li",{children:"Secure and easy booking process"}),(0,ft.jsx)("li",{children:"Support from experienced trekking experts"}),(0,ft.jsx)("li",{children:"Commitment to sustainable and responsible tourism"})]}),(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Our Values"}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,ft.jsxs)("div",{className:"bg-emerald-50 p-4 rounded-lg",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-emerald-700 mb-2",children:"Adventure"}),(0,ft.jsx)("p",{className:"text-gray-700",children:"We believe in the transformative power of adventure and exploration."})]}),(0,ft.jsxs)("div",{className:"bg-emerald-50 p-4 rounded-lg",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-emerald-700 mb-2",children:"Sustainability"}),(0,ft.jsx)("p",{className:"text-gray-700",children:"We are committed to protecting the natural environments we explore."})]}),(0,ft.jsxs)("div",{className:"bg-emerald-50 p-4 rounded-lg",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-emerald-700 mb-2",children:"Community"}),(0,ft.jsx)("p",{className:"text-gray-700",children:"We support local communities and promote cultural exchange."})]})]}),(0,ft.jsx)("p",{className:"text-lg text-gray-700 mt-8",children:"Join us on this journey to explore the world's most beautiful trails and create memories that will last a lifetime."})]})]})})};const mw=function(){const[e,t]=(0,a.useState)({name:"",email:"",subject:"",message:""}),[n,r]=(0,a.useState)(!1),s=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r})))};return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,ft.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mb-6",children:"Contact Us"}),(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-8",children:(0,ft.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Get in Touch"}),(0,ft.jsx)("p",{className:"text-gray-600 mb-4",children:"Have questions about our treks or need assistance with your booking? We're here to help! Fill out the form and our team will get back to you as soon as possible."}),(0,ft.jsxs)("div",{className:"mt-6",children:[(0,ft.jsx)("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Contact Information"}),(0,ft.jsxs)("div",{className:"space-y-3",children:[(0,ft.jsxs)("p",{className:"flex items-center text-gray-700",children:[(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"123 Adventure Street, Trekville, TR 12345"]}),(0,ft.jsxs)("p",{className:"flex items-center text-gray-700",children:[(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),"+1 (555) 123-4567"]}),(0,ft.jsxs)("p",{className:"flex items-center text-gray-700",children:[(0,ft.jsxs)("svg",{className:"h-5 w-5 text-emerald-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,ft.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,ft.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"info@trekbooker.com"]})]})]}),(0,ft.jsxs)("div",{className:"mt-8",children:[(0,ft.jsx)("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Business Hours"}),(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsx)("p",{className:"text-gray-700",children:"Monday - Friday: 9:00 AM - 6:00 PM"}),(0,ft.jsx)("p",{className:"text-gray-700",children:"Saturday: 10:00 AM - 4:00 PM"}),(0,ft.jsx)("p",{className:"text-gray-700",children:"Sunday: Closed"})]})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Send us a Message"}),(0,ft.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),r(!0),setTimeout((()=>{console.log("Form submitted:",e),pt.success("Message sent successfully! We will get back to you soon."),t({name:"",email:"",subject:"",message:""}),r(!1)}),1e3)},className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,ft.jsx)("input",{type:"text",name:"name",id:"name",value:e.name,onChange:s,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,ft.jsx)("input",{type:"email",name:"email",id:"email",value:e.email,onChange:s,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),(0,ft.jsx)("input",{type:"text",name:"subject",id:"subject",value:e.subject,onChange:s,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),(0,ft.jsx)("textarea",{name:"message",id:"message",rows:"4",value:e.message,onChange:s,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsx)("div",{children:(0,ft.jsx)("button",{type:"submit",disabled:n,className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:n?"Sending...":"Send Message"})})]})]})]})})})]})})};const pw=function(e){let{trek:t,batch:n,onClose:r,onSuccess:s}=e;const{currentUser:i}=yh(),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)({name:(null===i||void 0===i?void 0:i.name)||"",email:(null===i||void 0===i?void 0:i.email)||"",phone:(null===i||void 0===i?void 0:i.phone)||"",specialRequirements:"",emergencyContact:{name:"",relationship:"",phone:""},participantDetails:[{name:(null===i||void 0===i?void 0:i.name)||"",age:"",gender:"",medicalConditions:""}]}),[m,p]=(0,a.useState)({}),[f,g]=(0,a.useState)((null===n||void 0===n?void 0:n.price)||0);(0,a.useEffect)((()=>(console.log("BookingForm mounted with batch:",n),n?n._id?void g(n.price*c):(console.error("Invalid batch data (missing _id):",n),pt.error("Invalid batch data. Please try again."),void r()):(console.error("No batch selected"),pt.error("No batch selected. Please try again."),void r()))),[n,c,r]),(0,a.useEffect)((()=>{n&&n.price&&g(n.price*c);const e=u.participantDetails||[];if(c>e.length){const t=[...e];for(let n=e.length;n<c;n++)t.push({name:"",age:"",gender:"",medicalConditions:""});h({...u,participantDetails:t})}else c<e.length&&h({...u,participantDetails:e.slice(0,c)})}),[c,n,u]);const x=e=>{const{name:t,value:n}=e.target;h({...u,[t]:n})},y=e=>{const{name:t,value:n}=e.target;h({...u,emergencyContact:{...u.emergencyContact,[t.replace("emergency_","")]:n}})},v=(e,t,n)=>{const r=[...u.participantDetails];r[e]={...r[e],[t]:n},h({...u,participantDetails:r})};if(!t||!n)return null;const b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),w=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),j=n.maxParticipants-n.currentParticipants;return(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden max-w-2xl w-full",children:[(0,ft.jsx)("div",{className:"bg-emerald-600 px-6 py-4",children:(0,ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ft.jsx)("h2",{className:"text-xl font-bold text-white",children:"Book Your Trek"}),(0,ft.jsx)("button",{onClick:r,className:"text-white hover:text-gray-200",children:(0,ft.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,ft.jsxs)("div",{className:"px-6 py-4 max-h-[80vh] overflow-y-auto",children:[(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:t.name}),(0,ft.jsxs)("div",{className:"mt-2 flex flex-col space-y-2",children:[(0,ft.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,ft.jsx)(Ih,{className:"mr-2 text-emerald-500"}),(0,ft.jsxs)("span",{children:[b(n.startDate)," - ",b(n.endDate)]})]}),(0,ft.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,ft.jsx)(Gm,{className:"mr-2 text-emerald-500"}),(0,ft.jsxs)("span",{children:[j," ",1===j?"spot":"spots"," left"]})]}),(0,ft.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,ft.jsx)(ym,{className:"mr-2 text-emerald-500"}),(0,ft.jsxs)("span",{children:[w(n.price)," per person"]})]})]})]}),(0,ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return u.name.trim()||(e.name="Name is required"),u.email.trim()?/\S+@\S+\.\S+/.test(u.email)||(e.email="Email is invalid"):e.email="Email is required",u.phone.trim()||(e.phone="Phone number is required"),u.emergencyContact.name.trim()||(e.emergency_name="Emergency contact name is required"),u.emergencyContact.phone.trim()||(e.emergency_phone="Emergency contact phone is required"),u.emergencyContact.relationship.trim()||(e.emergency_relationship="Relationship is required"),u.participantDetails.forEach(((t,n)=>{t.name.trim()||(e[`participant_${n}_name`]="Name is required"),t.age.trim()?(isNaN(t.age)||parseInt(t.age)<=0)&&(e[`participant_${n}_age`]="Please enter a valid age"):e[`participant_${n}_age`]="Age is required",t.gender.trim()||(e[`participant_${n}_gender`]="Gender is required")})),p(e),0===Object.keys(e).length})()){l(!0);try{const e={trekId:t._id,batchId:n._id,participants:c,contactInfo:{name:u.name,email:u.email,phone:u.phone},emergencyContact:u.emergencyContact,participantDetails:u.participantDetails,specialRequirements:u.specialRequirements,totalPrice:f},r=await Vu(e);r&&r._id?(pt.success("Booking created successfully!"),s(r._id)):pt.error("Something went wrong with your booking")}catch(a){var r,i;console.error("Error creating booking:",a),pt.error((null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||"Failed to create booking")}finally{l(!1)}}},children:[(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsxs)("h4",{className:"text-md font-medium text-gray-900 mb-3 flex items-center",children:[(0,ft.jsx)(Wm,{className:"mr-2 text-emerald-500"}),"Main Contact Information"]}),(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,ft.jsx)("input",{type:"text",id:"name",name:"name",value:u.name,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(m.name?"border-red-300":"")}),m.name&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,ft.jsx)("input",{type:"email",id:"email",name:"email",value:u.email,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(m.email?"border-red-300":"")}),m.email&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,ft.jsx)("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(m.phone?"border-red-300":"")}),m.phone&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.phone})]})]})]}),(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsxs)("h4",{className:"text-md font-medium text-gray-900 mb-3 flex items-center",children:[(0,ft.jsx)(jm,{className:"mr-2 text-emerald-500"}),"Emergency Contact"]}),(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"emergency_name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,ft.jsx)("input",{type:"text",id:"emergency_name",name:"emergency_name",value:u.emergencyContact.name,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(m.emergency_name?"border-red-300":"")}),m.emergency_name&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.emergency_name})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"emergency_relationship",className:"block text-sm font-medium text-gray-700",children:"Relationship"}),(0,ft.jsx)("input",{type:"text",id:"emergency_relationship",name:"emergency_relationship",value:u.emergencyContact.relationship,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(m.emergency_relationship?"border-red-300":""),placeholder:"e.g. Spouse, Parent, Friend"}),m.emergency_relationship&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.emergency_relationship})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"emergency_phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,ft.jsx)("input",{type:"tel",id:"emergency_phone",name:"emergency_phone",value:u.emergencyContact.phone,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(m.emergency_phone?"border-red-300":"")}),m.emergency_phone&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.emergency_phone})]})]})]}),(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("label",{htmlFor:"participants",className:"block text-sm font-medium text-gray-700",children:"Number of Participants"}),(0,ft.jsx)("select",{id:"participants",name:"participants",value:c,onChange:e=>{const t=parseInt(e.target.value);t>0&&t<=n.maxParticipants-n.currentParticipants&&d(t)},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",children:[...Array(Math.min(10,j)).keys()].map((e=>(0,ft.jsx)("option",{value:e+1,children:e+1},e+1)))})]}),(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsxs)("h4",{className:"text-md font-medium text-gray-900 mb-3 flex items-center",children:[(0,ft.jsx)(Hm,{className:"mr-2 text-emerald-500"}),"Participant Details"]}),u.participantDetails.map(((e,t)=>(0,ft.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-md",children:[(0,ft.jsxs)("h5",{className:"text-sm font-medium text-gray-900 mb-3",children:["Participant ",t+1]}),(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:`participant_${t}_name`,className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,ft.jsx)("input",{type:"text",id:`participant_${t}_name`,value:e.name,onChange:e=>v(t,"name",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(m[`participant_${t}_name`]?"border-red-300":"")}),m[`participant_${t}_name`]&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m[`participant_${t}_name`]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:`participant_${t}_age`,className:"block text-sm font-medium text-gray-700",children:"Age"}),(0,ft.jsx)("input",{type:"number",id:`participant_${t}_age`,value:e.age,onChange:e=>v(t,"age",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(m[`participant_${t}_age`]?"border-red-300":""),min:"1"}),m[`participant_${t}_age`]&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m[`participant_${t}_age`]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:`participant_${t}_gender`,className:"block text-sm font-medium text-gray-700",children:"Gender"}),(0,ft.jsxs)("select",{id:`participant_${t}_gender`,value:e.gender,onChange:e=>v(t,"gender",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(m[`participant_${t}_gender`]?"border-red-300":""),children:[(0,ft.jsx)("option",{value:"",children:"Select"}),(0,ft.jsx)("option",{value:"Male",children:"Male"}),(0,ft.jsx)("option",{value:"Female",children:"Female"}),(0,ft.jsx)("option",{value:"Other",children:"Other"}),(0,ft.jsx)("option",{value:"Prefer not to say",children:"Prefer not to say"})]}),m[`participant_${t}_gender`]&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m[`participant_${t}_gender`]})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:`participant_${t}_medical`,className:"block text-sm font-medium text-gray-700",children:"Medical Conditions/Allergies"}),(0,ft.jsx)("textarea",{id:`participant_${t}_medical`,value:e.medicalConditions,onChange:e=>v(t,"medicalConditions",e.target.value),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"List any medical conditions, allergies, or dietary restrictions"})]})]})]},t)))]}),(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("label",{htmlFor:"specialRequirements",className:"block text-sm font-medium text-gray-700",children:"Additional Special Requirements"}),(0,ft.jsx)("textarea",{id:"specialRequirements",name:"specialRequirements",rows:3,value:u.specialRequirements,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:"Any other special requirements for your group"})]}),(0,ft.jsxs)("div",{className:"mt-6 bg-gray-50 p-4 rounded-md",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Price:"}),(0,ft.jsx)("span",{className:"text-lg font-bold text-emerald-600",children:w(f)})]}),(0,ft.jsxs)("div",{className:"mt-2 text-xs text-gray-500 flex items-start",children:[(0,ft.jsx)(hm,{className:"mr-1 mt-0.5 flex-shrink-0"}),(0,ft.jsx)("span",{children:"A 20% deposit will be required to confirm your booking. The remaining balance can be paid 30 days before the trek start date."})]})]}),(0,ft.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Cancel"}),(0,ft.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 flex items-center",children:o?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ft.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ft.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Confirm Booking"})]})]})]})]})},fw=e=>{let{itinerary:t}=e;const[n,r]=(0,a.useState)([0]);if(!t||0===t.length)return(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Itinerary"}),(0,ft.jsx)("p",{className:"text-gray-600",children:"Detailed itinerary information is not available for this trek."})]});return(0,ft.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:(0,ft.jsx)("div",{className:"space-y-4",children:t.map(((e,t)=>(0,ft.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,ft.jsxs)("button",{onClick:()=>{return e=t,void r((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]));var e},className:"w-full px-4 py-3 flex justify-between items-center text-left transition-colors "+(n.includes(t)?"bg-emerald-50 text-emerald-800":"bg-gray-50 text-gray-700 hover:bg-gray-100"),children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("span",{className:"inline-flex items-center justify-center h-7 w-7 rounded-full bg-emerald-100 text-emerald-800 text-sm font-medium mr-3",children:t+1}),(0,ft.jsx)("span",{className:"font-medium",children:e.title||`Day ${t+1}`})]}),(0,ft.jsx)("svg",{className:"h-5 w-5 transform transition-transform "+(n.includes(t)?"rotate-180":""),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),n.includes(t)&&(0,ft.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,ft.jsxs)("div",{className:"space-y-6",children:[(0,ft.jsx)("div",{children:(0,ft.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:e.description||"No description available for this day."})}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ft.jsxs)("h4",{className:"text-md font-semibold text-gray-700 mb-2 flex items-center",children:[(0,ft.jsx)("svg",{className:"w-5 h-5 mr-2 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Accommodation"]}),(0,ft.jsx)("p",{className:"text-gray-600",children:e.accommodation||"Not specified"})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ft.jsxs)("h4",{className:"text-md font-semibold text-gray-700 mb-2 flex items-center",children:[(0,ft.jsx)("svg",{className:"w-5 h-5 mr-2 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Meals"]}),(0,ft.jsx)("p",{className:"text-gray-600",children:e.meals||"Not specified"})]})]}),e.activities&&e.activities.length>0&&(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("h4",{className:"text-md font-semibold text-gray-700 mb-3 flex items-center",children:[(0,ft.jsx)("svg",{className:"w-5 h-5 mr-2 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Key Activities"]}),(0,ft.jsx)("ul",{className:"space-y-2",children:e.activities.map(((e,t)=>(0,ft.jsxs)("li",{className:"flex items-start",children:[(0,ft.jsx)("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-emerald-100 text-emerald-800 text-sm font-medium mr-3 flex-shrink-0",children:t+1}),(0,ft.jsx)("span",{className:"text-gray-700",children:e})]},t)))})]})]})})]},t)))})})},gw=e=>{let{includes:t,excludes:n}=e;const[r,s]=(0,a.useState)(!1),i=r?Math.max((null===t||void 0===t?void 0:t.length)||0,(null===n||void 0===n?void 0:n.length)||0):4;return t&&0!==t.length||n&&0!==n.length?(0,ft.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-gray-200",children:[t&&t.length>0&&(0,ft.jsxs)("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-white",children:[(0,ft.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[(0,ft.jsx)("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center mr-3",children:(0,ft.jsx)("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),"Inclusions"]}),(0,ft.jsxs)("ul",{className:"space-y-3 pl-11",children:[t.slice(0,i).map(((e,t)=>(0,ft.jsxs)("li",{className:"flex items-start",children:[(0,ft.jsx)("span",{className:"flex-shrink-0 h-5 w-5 text-emerald-500 mr-2",children:(0,ft.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,ft.jsx)("span",{className:"text-gray-700",children:e})]},t))),t.length>4&&!r&&(0,ft.jsxs)("li",{className:"text-emerald-600 text-sm font-medium pl-7",children:[t.length-4," more items..."]})]})]}),n&&n.length>0&&(0,ft.jsxs)("div",{className:"p-6 bg-gradient-to-br from-red-50 to-white",children:[(0,ft.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[(0,ft.jsx)("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-red-100 flex items-center justify-center mr-3",children:(0,ft.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),"Exclusions"]}),(0,ft.jsxs)("ul",{className:"space-y-3 pl-11",children:[n.slice(0,i).map(((e,t)=>(0,ft.jsxs)("li",{className:"flex items-start",children:[(0,ft.jsx)("span",{className:"flex-shrink-0 h-5 w-5 text-red-500 mr-2",children:(0,ft.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("span",{className:"text-gray-700",children:e})]},t))),n.length>4&&!r&&(0,ft.jsxs)("li",{className:"text-red-600 text-sm font-medium pl-7",children:[n.length-4," more items..."]})]})]})]}),((null===t||void 0===t?void 0:t.length)>4||(null===n||void 0===n?void 0:n.length)>4)&&(0,ft.jsx)("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200 flex justify-center",children:(0,ft.jsxs)("button",{onClick:()=>s(!r),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-emerald-700 bg-emerald-100 hover:bg-emerald-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-colors",children:[r?"Show Less":"View All Details",(0,ft.jsx)(qh,{className:"ml-2 h-4 w-4 transition-transform "+(r?"transform rotate-180":"")})]})})]}):null},xw=e=>{let{items:t}=e;const[n,r]=(0,a.useState)(!1);if(!t||0===t.length)return null;const s=n?t:t.slice(0,6);return(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Things To Pack"}),(0,ft.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[s.map(((e,t)=>(0,ft.jsxs)("div",{className:"mb-8 flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,ft.jsx)("div",{className:"bg-blue-50 rounded-full p-4 w-16 h-16 flex items-center justify-center",children:(0,ft.jsx)("img",{src:e.icon||`/icons/${e.title.toLowerCase().replace(/\s+/g,"-")}.svg`,alt:e.title,className:"w-8 h-8 text-blue-500"})})}),(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:[e.title,":"]}),(0,ft.jsx)("p",{className:"text-gray-700",children:e.description})]})]},t))),t.length>6&&(0,ft.jsx)("div",{className:"mt-4 text-center",children:(0,ft.jsx)("button",{onClick:()=>r(!n),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:n?"Show Less":"View More"})})]})]})},yw=e=>{let{faqs:t}=e;const[n,r]=(0,a.useState)(null);if(!t||0===t.length)return null;return(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"FAQs"}),(0,ft.jsx)("p",{className:"text-gray-600 mb-8",children:"Frequently asked questions about this trek"}),(0,ft.jsx)("div",{className:"space-y-5",children:t.map(((e,t)=>(0,ft.jsxs)("div",{className:"border-b border-gray-200 last:border-b-0 overflow-hidden",children:[(0,ft.jsxs)("button",{className:"w-full py-5 text-left flex justify-between items-center group focus:outline-none",onClick:()=>(e=>{r(n===e?null:e)})(t),"aria-expanded":n===t,children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-800 group-hover:text-emerald-600 transition-colors duration-200",children:e.question}),(0,ft.jsx)("div",{className:"flex-shrink-0 ml-4 bg-emerald-50 rounded-full p-1 text-emerald-600 transform transition-transform duration-300 "+(n===t?"rotate-180":""),children:(0,ft.jsx)(qh,{className:"h-4 w-4"})})]}),(0,ft.jsx)("div",{className:"transition-all duration-300 ease-in-out overflow-hidden "+(n===t?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:(0,ft.jsx)("div",{className:"pb-5 pr-10 text-gray-600 leading-relaxed",children:(0,ft.jsx)("p",{children:e.answer})})})]},t)))})]})},vw=(Math.pow(10,8),6048e5),bw=6e4,ww=36e5,jw=Symbol.for("constructDateFrom");function Nw(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&jw in e?e[jw](t):e instanceof Date?new e.constructor(t):new Date(t)}function kw(e,t){return Nw(t||e,e)}function Sw(e,t){const n=()=>Nw(t?.in,NaN),r=t?.additionalDigits??2,s=function(e){const t={},n=e.split(_w.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],_w.timeZoneDelimiter.test(t.date)&&(t.date=e.split(_w.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=_w.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let i;if(s.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?s:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(s.date,r);i=function(e,t){if(null===t)return new Date(NaN);const n=e.match(Cw);if(!n)return new Date(NaN);const r=!!n[4],s=Dw(n[1]),i=Dw(n[2])-1,a=Dw(n[3]),o=Dw(n[4]),l=Dw(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=7*(t-1)+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Pw[t]||(Mw(e)?29:28))}(t,i,a)&&function(e,t){return t>=1&&t<=(Mw(e)?366:365)}(t,s)?(e.setUTCFullYear(t,i,Math.max(s,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!i||isNaN(+i))return n();const a=+i;let o,l=0;if(s.time&&(l=function(e){const t=e.match(Ew);if(!t)return NaN;const n=Aw(t[1]),r=Aw(t[2]),s=Aw(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,s))return NaN;return n*ww+r*bw+1e3*s}(s.time),isNaN(l)))return n();if(!s.timezone){const e=new Date(a+l),n=kw(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return o=function(e){if("Z"===e)return 0;const t=e.match(Tw);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,s))return NaN;return n*(r*ww+s*bw)}(s.timezone),isNaN(o)?n():kw(a+l+o,t?.in)}const _w={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Cw=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ew=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Tw=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dw(e){return e?parseInt(e):1}function Aw(e){return e&&parseFloat(e.replace(",","."))||0}const Pw=[31,null,31,30,31,30,31,31,30,31,30,31];function Mw(e){return e%400===0||e%4===0&&e%100!==0}const Lw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ow(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Rw={date:Ow({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ow({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ow({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Iw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Fw(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):t;r=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const zw={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Fw({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Fw({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fw({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Fw({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Fw({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Bw(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(a)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}const qw={ordinalNumber:(Uw={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Uw.matchPattern);if(!n)return null;const r=n[0],s=e.match(Uw.parsePattern);if(!s)return null;let i=Uw.valueCallback?Uw.valueCallback(s[0]):s[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:Bw({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Bw({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bw({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Bw({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Bw({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Uw;const Vw={code:"en-US",formatDistance:(e,t,n)=>{let r;const s=Lw[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Rw,formatRelative:(e,t,n,r)=>Iw[e],localize:zw,match:qw,options:{weekStartsOn:0,firstWeekContainsDate:1}};let $w={};function Hw(){return $w}function Ww(e){const t=kw(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Yw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=Nw.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(s)}function Kw(e,t){const n=kw(e,t?.in);return n.setHours(0,0,0,0),n}function Gw(e,t,n){const[r,s]=Yw(n?.in,e,t),i=Kw(r),a=Kw(s),o=+i-Ww(i),l=+a-Ww(a);return Math.round((o-l)/864e5)}function Qw(e,t){const n=kw(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Xw(e,t){const n=kw(e,t?.in);return Gw(n,Qw(n))+1}function Zw(e,t){const n=Hw(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=kw(e,t?.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Jw(e,t){return Zw(e,{...t,weekStartsOn:1})}function ej(e,t){const n=kw(e,t?.in),r=n.getFullYear(),s=Nw(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Jw(s),a=Nw(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Jw(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function tj(e,t){const n=ej(e,t),r=Nw(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Jw(r)}function nj(e,t){const n=kw(e,t?.in),r=+Jw(n)-+tj(n);return Math.round(r/vw)+1}function rj(e,t){const n=kw(e,t?.in),r=n.getFullYear(),s=Hw(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=Nw(t?.in||e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=Zw(a,t),l=Nw(t?.in||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Zw(l,t);return+n>=+o?r+1:+n>=+c?r:r-1}function sj(e,t){const n=Hw(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=rj(e,t),i=Nw(t?.in||e,0);i.setFullYear(s,0,r),i.setHours(0,0,0,0);return Zw(i,t)}function ij(e,t){const n=kw(e,t?.in),r=+Zw(n,t)-+sj(n,t);return Math.round(r/vw)+1}function aj(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const oj={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return aj("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):aj(n+1,2)},d:(e,t)=>aj(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>aj(e.getHours()%12||12,t.length),H:(e,t)=>aj(e.getHours(),t.length),m:(e,t)=>aj(e.getMinutes(),t.length),s:(e,t)=>aj(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return aj(Math.trunc(r*Math.pow(10,n-3)),t.length)}},lj="midnight",cj="noon",dj="morning",uj="afternoon",hj="evening",mj="night",pj={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return oj.y(e,t)},Y:function(e,t,n,r){const s=rj(e,r),i=s>0?s:1-s;if("YY"===t){return aj(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):aj(i,t.length)},R:function(e,t){return aj(ej(e),t.length)},u:function(e,t){return aj(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return aj(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return aj(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return oj.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return aj(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=ij(e,r);return"wo"===t?n.ordinalNumber(s,{unit:"week"}):aj(s,t.length)},I:function(e,t,n){const r=nj(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):aj(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):oj.d(e,t)},D:function(e,t,n){const r=Xw(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):aj(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return aj(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return aj(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=0===r?7:r;switch(t){case"i":return String(s);case"ii":return aj(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(s=12===r?cj:0===r?lj:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(s=r>=17?hj:r>=12?uj:r>=4?dj:mj,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return oj.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):oj.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):aj(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):aj(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):oj.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):oj.s(e,t)},S:function(e,t){return oj.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return gj(r);case"XXXX":case"XX":return xj(r);default:return xj(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return gj(r);case"xxxx":case"xx":return xj(r);default:return xj(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fj(r,":");default:return"GMT"+xj(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fj(r,":");default:return"GMT"+xj(r,":")}},t:function(e,t,n){return aj(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return aj(+e,t.length)}};function fj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return 0===i?n+String(s):n+String(s)+t+aj(i,2)}function gj(e,t){if(e%60===0){return(e>0?"-":"+")+aj(Math.abs(e)/60,2)}return xj(e,t)}function xj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+aj(Math.trunc(r/60),2)+t+aj(r%60,2)}const yj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},vj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},bj={p:vj,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return yj(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",yj(r,t)).replace("{{time}}",vj(s,t))}},wj=/^D+$/,jj=/^Y+$/,Nj=["D","DD","YY","YYYY"];function kj(e){return wj.test(e)}function Sj(e){return jj.test(e)}function _j(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),Nj.includes(e))throw new RangeError(r)}function Cj(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Ej(e){return!(!Cj(e)&&"number"!==typeof e||isNaN(+kw(e)))}const Tj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Aj=/^'([^]*?)'?$/,Pj=/''/g,Mj=/[a-zA-Z]/;function Lj(e,t,n){const r=Hw(),s=n?.locale??r.locale??Vw,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=kw(e,n?.in);if(!Ej(o))throw new RangeError("Invalid time value");let l=t.match(Dj).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,bj[t])(e,s.formatLong)}return e})).join("").match(Tj).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Oj(e)};if(pj[t])return{isToken:!0,value:e};if(t.match(Mj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map((r=>{if(!r.isToken)return r.value;const i=r.value;(!n?.useAdditionalWeekYearTokens&&Sj(i)||!n?.useAdditionalDayOfYearTokens&&kj(i))&&_j(i,t,String(e));return(0,pj[i[0]])(o,i,s.localize,c)})).join("")}function Oj(e){const t=e.match(Aj);return t?t[1].replace(Pj,"'"):e}function Rj(e,t,n){const[r,s]=Yw(n?.in,e,t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}const Ij=e=>{var t;let{batches:n,onBatchSelect:r,isTrekDisabled:s,currentUser:i,navigate:o,trekId:l}=e;const c=n.reduce(((e,t)=>{const n=Lj(Sw(t.startDate),"yyyy-MM");return e[n]||(e[n]=[]),e[n].push(t),e}),{}),d=Object.keys(c).map((e=>Sw(e+"-01"))).sort(((e,t)=>e-t)).filter((e=>c[Lj(e,"yyyy-MM")].length>0)),[u,h]=(0,a.useState)(d[0]||new Date),[m,p]=(0,a.useState)(null),[f,g]=(0,a.useState)(!1),x=d.slice(0,3),y=d.slice(3);return 0===d.length?(0,ft.jsx)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg text-center",children:(0,ft.jsx)("p",{className:"text-gray-600",children:"No trek dates are currently available."})}):(0,ft.jsxs)("div",{className:"mt-8",children:[(0,ft.jsx)("div",{className:"border-b border-gray-200",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("nav",{className:"flex -mb-px space-x-4 flex-grow",children:x.map((e=>(0,ft.jsx)("button",{onClick:()=>h(e),className:`\n                  py-4 px-6 text-sm font-medium border-b-2 whitespace-nowrap\n                  ${Rj(e,u)?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}\n                `,children:Lj(e,"MMMM yyyy")},Lj(e,"yyyy-MM"))))}),y.length>0&&(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsxs)("button",{onClick:()=>g(!f),className:"py-4 px-6 text-sm font-medium text-gray-500 hover:text-gray-700 flex items-center",children:["More Months",(0,ft.jsx)("svg",{className:"ml-2 h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),f&&(0,ft.jsx)("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:(0,ft.jsx)("div",{className:"py-1",role:"menu",children:y.map((e=>(0,ft.jsx)("button",{onClick:()=>{h(e),g(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:Lj(e,"MMMM yyyy")},Lj(e,"yyyy-MM"))))})})]})]})}),(0,ft.jsxs)("div",{className:"mt-4",children:[null===(t=c[Lj(u,"yyyy-MM")])||void 0===t?void 0:t.map((e=>{const t=e.currentParticipants>=e.maxParticipants,n=s||t,r=e.maxParticipants-e.currentParticipants,i=(null===m||void 0===m?void 0:m._id)===e._id;return(0,ft.jsx)("div",{onClick:()=>!n&&(e=>{p(e._id===(null===m||void 0===m?void 0:m._id)?null:e)})(e),className:`\n                p-4 mb-4 rounded-lg border-2 cursor-pointer transition-all\n                ${n?"bg-gray-50 cursor-not-allowed":"hover:border-emerald-200"}\n                ${i?"border-emerald-500 bg-emerald-50":"border-gray-200"}\n              `,children:(0,ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[Lj(Sw(e.startDate),"dd MMM")," - ",Lj(Sw(e.endDate),"dd MMM yyyy")]}),(0,ft.jsx)("div",{className:"mt-1",children:t?(0,ft.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Full"}):(0,ft.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \n                        "+(r<=3?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[r," ",1===r?"spot":"spots"," left"]})})]}),(0,ft.jsx)("div",{className:"text-right",children:(0,ft.jsx)("div",{className:"text-lg font-bold text-emerald-600",children:(a=e.price,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a))})})]})},e._id);var a})),(0,ft.jsx)("div",{className:"mt-6 sticky bottom-4",children:(0,ft.jsx)("button",{disabled:!m,onClick:()=>{if(!i)return pt.info("Please log in to book this trek"),void o("/login",{state:{from:`/treks/${l}/book`}});m&&r(m)},className:"w-full py-3 px-4 rounded-lg font-medium shadow-lg transition-colors "+(m?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:m?"Book Now":"Select a batch to book"})})]})]})};const Fj=function(){var e,t;const{id:n}=ie(),r=se(),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),{currentUser:m}=yh(),[p,f]=(0,a.useState)(null),[g,x]=(0,a.useState)(!1),[y,v]=(0,a.useState)([]),[b,w]=(0,a.useState)(null),[j,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(!1),[_,C]=(0,a.useState)(""),[E,T]=(0,a.useState)(!1),[D,A]=(0,a.useState)(!1),[P,M]=(0,a.useState)(0),L=(0,a.useRef)(null),O=(e,t)=>{e.preventDefault();const n=document.getElementById(t);if(n){const e=120,t=n.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:t,behavior:"smooth"})}},R=(0,a.useRef)(null),I=e=>{R.current=e.touches[0].clientX},F=e=>{if(null===R.current)return;const t=e.touches[0].clientX-R.current;Math.abs(t)>50&&(t>0?G():Q(),R.current=null)},z=()=>{R.current=null},B=s&&!s.isEnabled;s&&s.batches&&s.batches.length>0&&s.batches.some((e=>e.currentParticipants<e.maxParticipants)),(0,a.useEffect)((()=>{(async()=>{try{d(!0);const e=await Fu(n);i(e);const t=await nh();v(t);const r=t.find((e=>e.applicableTreks.some((e=>e._id===n))));if(r){let t;N(r);const n=U(e);t="percentage"===r.discountType?n-n*r.discountValue/100:Math.max(0,n-r.discountValue),w(t)}if(m&&q(),e.region){const t=(await hh(e.region)).filter((t=>t._id!==e._id));l(t.slice(0,3))}h(null)}catch(u){console.error("Error fetching trek details:",u),h("Failed to load trek details. Please try again later.")}finally{d(!1)}})()}),[n,m]),(0,a.useEffect)((()=>{s&&(async()=>{var e;if(null!==s&&void 0!==s&&s.region&&"string"===typeof s.region&&s.region.match(/^[0-9a-fA-F]{24}$/))try{const e=await uh(s.region);C(e.name)}catch(u){console.error("Error fetching region:",u),C("Unknown Region")}else"object"===typeof(null===s||void 0===s?void 0:s.region)&&null!==s&&void 0!==s&&null!==(e=s.region)&&void 0!==e&&e.name&&C(s.region.name)})()}),[s]);const q=async()=>{try{(await ah()).some((e=>e._id===n))}catch(e){console.error("Error checking wishlist status:",e)}},U=e=>{const t=e||{};return void 0!==t.price&&null!==t.price?Number(t.price):void 0!==t.displayPrice&&null!==t.displayPrice?Number(t.displayPrice):t.batches&&t.batches.length>0&&t.batches[0].price?Number(t.batches[0].price):0},V=e=>void 0===e||null===e||isNaN(e)?"\u20b90.00":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),$=()=>{S(!0)},H=()=>{navigator.share?navigator.share({title:s.name,text:`Check out this amazing trek: ${s.name}`,url:window.location.href}).then((()=>console.log("Successful share"))).catch((e=>console.log("Error sharing:",e))):navigator.clipboard.writeText(window.location.href).then((()=>{pt.success("Link copied to clipboard!")})).catch((e=>{console.error("Could not copy text: ",e),pt.error("Failed to copy link")}))},W=async()=>{if(s)try{if(T(!0),!s.itineraryPdfUrl)return void pt.error("Itinerary PDF is not available for this trek.");window.open(s.itineraryPdfUrl,"_blank"),pt.success("Itinerary downloaded successfully!")}catch(u){console.error("Error downloading itinerary:",u),pt.error("Failed to download itinerary. Please try again.")}finally{T(!1)}},Y=e=>{M(e),A(!0)},K=()=>A(!1),G=()=>M((e=>0===e?s.images.length-1:e-1)),Q=()=>M((e=>e===s.images.length-1?0:e+1));return(0,a.useEffect)((()=>{D&&L.current&&L.current.focus()}),[D]),c?(0,ft.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,ft.jsx)(np,{})}):u?(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:u})})]})})}):s?(0,ft.jsxs)(ft.Fragment,{children:[k&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50 overflow-y-auto",children:(0,ft.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,ft.jsx)("div",{className:"flex  items-center justify-center p-4 text-center",children:(0,ft.jsx)("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:(0,ft.jsx)(aw,{trekId:s._id,trekName:s.name,onClose:()=>{S(!1)}})})})})}),(0,ft.jsxs)("div",{className:"bg-white",children:[B&&(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 bg-yellow-50",children:(0,ft.jsxs)("div",{className:"flex items-center justify-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"This trek is currently not available for booking."})})]})}),(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8",children:[(()=>{if(null===s||void 0===s||!s.images||0===s.images.length)return null;const e=s.images,t=s.name||"Trek",n=()=>{if(1===e.length)return(0,ft.jsx)("div",{className:"w-full aspect-w-16 aspect-h-9 rounded-xl overflow-hidden shadow-lg cursor-pointer",onClick:()=>Y(0),children:(0,ft.jsx)("img",{src:e[0],alt:`${t} - Image 1`,className:"object-cover w-full h-full transition-transform duration-300 hover:scale-105"})});const n=e[0],r=e[1],s=e[2],i=e[3],a=e.length-4;return(0,ft.jsx)("div",{className:"rounded-xl overflow-hidden shadow-lg",children:(0,ft.jsxs)("div",{className:"flex h-[400px] gap-1",children:[(0,ft.jsx)("div",{className:"w-3/5 cursor-pointer bg-gray-100",onClick:()=>Y(0),children:n?(0,ft.jsx)("img",{src:n,alt:`${t} - Image 1`,className:"object-cover w-full h-full transition-transform duration-300 hover:scale-105"}):(0,ft.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Image not available"})}),(0,ft.jsxs)("div",{className:"w-2/5 flex flex-col gap-1",children:[(0,ft.jsxs)("div",{className:"flex-1 h-[50%] flex gap-1",children:[(0,ft.jsx)("div",{className:"flex-1 cursor-pointer bg-gray-100",onClick:()=>r&&Y(1),children:r?(0,ft.jsx)("img",{src:r,alt:`${t} - Image 2`,className:"object-cover w-full h-full transition-transform duration-300 hover:scale-105"}):(0,ft.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400"})}),(0,ft.jsx)("div",{className:"flex-1 cursor-pointer bg-gray-100",onClick:()=>s&&Y(2),children:s?(0,ft.jsx)("img",{src:s,alt:`${t} - Image 3`,className:"object-cover w-full h-full transition-transform duration-300 hover:scale-105"}):(0,ft.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400"})})]}),(0,ft.jsxs)("div",{className:"flex-1 relative cursor-pointer bg-gray-100",onClick:()=>i&&Y(3),children:[i?(0,ft.jsx)("img",{src:i,alt:`${t} - Image 4`,className:"object-cover w-full h-full transition-transform duration-300 hover:scale-105"}):(0,ft.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400"}),e.length>4&&(0,ft.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",onClick:e=>{e.stopPropagation(),Y(4)},children:(0,ft.jsxs)("button",{className:"text-white text-sm font-semibold bg-blue-600 px-4 py-2 rounded-lg shadow-md hover:bg-blue-700 transition",children:["+",a," Photos"]})})]})]})]})})},r=()=>{const n=e.slice(1,5);return(0,ft.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ft.jsx)("div",{className:"w-full aspect-w-16 aspect-h-9 rounded-xl overflow-hidden shadow-lg cursor-pointer bg-gray-100",onClick:()=>e[0]&&Y(0),children:e[0]?(0,ft.jsx)("img",{src:e[0],alt:`${t} - Image 1`,className:"object-cover w-full h-full transition-transform duration-300 hover:scale-105"}):(0,ft.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Image not available"})}),n.length>0&&(0,ft.jsx)("div",{className:"flex gap-2 mt-2 overflow-x-auto pb-2",children:n.map(((n,r)=>{const s=r+1;return e.length>4&&4===s?(0,ft.jsxs)("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden shadow cursor-pointer flex-shrink-0 bg-gray-100",onClick:()=>Y(s),children:[(0,ft.jsx)("img",{src:n,alt:`${t} - Image ${s+1}`,className:"object-cover w-full h-full"}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",onClick:e=>{e.stopPropagation(),Y(4)},children:(0,ft.jsxs)("button",{className:"text-white text-xs font-semibold bg-blue-600 px-2 py-1 rounded-md shadow hover:bg-blue-700 transition",children:["+",e.length-4]})})]},s):(0,ft.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow cursor-pointer flex-shrink-0 bg-gray-100",onClick:()=>Y(s),children:(0,ft.jsx)("img",{src:n,alt:`${t} - Image ${s+1}`,className:"object-cover w-full h-full"})},s)}))})]})};return(0,ft.jsxs)("div",{className:"w-full",children:[(0,ft.jsx)("div",{className:"hidden md:block",children:(0,ft.jsx)(n,{})}),(0,ft.jsx)("div",{className:"md:hidden",children:(0,ft.jsx)(r,{})})]})})(),D&&null!==s&&void 0!==s&&s.images?(0,ft.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity",tabIndex:-1,ref:L,onClick:K,children:(0,ft.jsxs)("div",{className:"relative max-w-3xl w-full mx-4 bg-white rounded-xl shadow-lg flex flex-col items-center p-4",onClick:e=>e.stopPropagation(),onTouchStart:I,onTouchMove:F,onTouchEnd:z,children:[(0,ft.jsx)("button",{className:"absolute top-2 right-2 text-gray-700 bg-white bg-opacity-80 rounded-full p-2 shadow hover:bg-gray-200 z-10",onClick:K,"aria-label":"Close gallery",children:(0,ft.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,ft.jsx)("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white bg-opacity-80 rounded-full p-2 shadow hover:bg-gray-200 z-10",onClick:G,"aria-label":"Previous image",children:(0,ft.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,ft.jsx)("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white bg-opacity-80 rounded-full p-2 shadow hover:bg-gray-200 z-10",onClick:Q,"aria-label":"Next image",children:(0,ft.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,ft.jsx)("img",{src:s.images[P],alt:`Trek gallery ${P+1}`,className:"max-h-[70vh] w-auto rounded-xl object-contain shadow-lg transition-all duration-300"}),(0,ft.jsxs)("div",{className:"mt-4 text-gray-700 text-sm",children:[P+1," / ",s.images.length]})]})}):null]}),(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsx)("div",{className:"sticky top-[64px] z-30 bg-white border-b border-gray-200 mb-4",children:(0,ft.jsxs)("nav",{className:"flex space-x-6 overflow-x-auto py-2 px-2 scrollbar-hide",children:[(0,ft.jsx)("a",{href:"#overview",onClick:e=>O(e,"overview"),className:"text-gray-600 hover:text-emerald-600 whitespace-nowrap text-sm font-medium transition-colors duration-200",children:"Overview"}),(0,ft.jsx)("a",{href:"#itinerary",onClick:e=>O(e,"itinerary"),className:"text-gray-600 hover:text-emerald-600 whitespace-nowrap text-sm font-medium transition-colors duration-200",children:"Trek Itinerary"}),(0,ft.jsx)("a",{href:"#inclusions",onClick:e=>O(e,"inclusions"),className:"text-gray-600 hover:text-emerald-600 whitespace-nowrap text-sm font-medium transition-colors duration-200",children:"Inclusions & Exclusions"}),(0,ft.jsx)("a",{href:"#thingsToPack",onClick:e=>O(e,"thingsToPack"),className:"text-gray-600 hover:text-emerald-600 whitespace-nowrap text-sm font-medium transition-colors duration-200",children:"Things To Pack"}),(0,ft.jsx)("a",{href:"#faqs",onClick:e=>O(e,"faqs"),className:"text-gray-600 hover:text-emerald-600 whitespace-nowrap text-sm font-medium transition-colors duration-200",children:"FAQs"})]})}),(0,ft.jsxs)("div",{className:"lg:grid  lg:grid-cols-[4fr_1fr] lg:gap-8",children:[(0,ft.jsxs)("div",{className:"relative lg:col-span-1",children:[(0,ft.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.difficulty&&(0,ft.jsx)("span",{className:`inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium ${(e=>{switch(e){case"Easy":return"bg-green-100 text-green-800";case"Moderate":return"bg-blue-100 text-blue-800";case"Difficult":return"bg-orange-100 text-orange-800";case"Challenging":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(s.difficulty)}`,children:s.difficulty}),s.season&&(0,ft.jsx)("span",{className:`inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium ${(e=>{switch(e){case"Spring":return"bg-pink-100 text-pink-800";case"Summer":return"bg-yellow-100 text-yellow-800";case"Monsoon":case"Winter":return"bg-blue-100 text-blue-800";case"Autumn":return"bg-amber-100 text-amber-800";case"All Year":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(s.season)}`,children:s.season}),_&&(0,ft.jsx)("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:_}),s.duration&&(0,ft.jsxs)("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:[s.duration," days"]})]}),(0,ft.jsxs)("div",{className:"lg:mt-0 lg:col-span-1",children:[(0,ft.jsx)("div",{className:"flex justify-between",children:(0,ft.jsx)("h1",{className:"mt-8 text-3xl font-extrabold text-gray-900",children:s.name})}),(0,ft.jsxs)("div",{className:"mt-4 space-y-4",children:[s.location&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)(gm,{className:"flex-shrink-0 h-5 w-5 text-emerald-600 mt-0.5"}),(0,ft.jsx)("p",{className:"ml-3 text-base text-gray-700",children:s.location})]}),s.duration&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)(Hh,{className:"flex-shrink-0 h-5 w-5 text-emerald-600 mt-0.5"}),(0,ft.jsxs)("p",{className:"ml-3 text-base text-gray-700",children:[s.duration," days"]})]}),s.maxGroupSize&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)(Gm,{className:"flex-shrink-0 h-5 w-5 text-emerald-600 mt-0.5"}),(0,ft.jsxs)("p",{className:"ml-3 text-base text-gray-700",children:["Max group size: ",s.maxGroupSize," people"]})]}),s.maxAltitude&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)(vm,{className:"flex-shrink-0 h-5 w-5 text-emerald-600 mt-0.5"}),(0,ft.jsxs)("p",{className:"ml-3 text-base text-gray-700",children:["Max altitude: ",s.maxAltitude," meters"]})]}),s.distance&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 h-5 w-5 text-emerald-600 mt-0.5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M12 1.586l-4 4v12.828l4-4V1.586zM3.707 3.293A1 1 0 002 4v10a1 1 0 00.293.707L6 18.414V5.586L3.707 3.293zM17.707 5.293L14 1.586v12.828l2.293 2.293A1 1 0 0018 16V6a1 1 0 00-.293-.707z",clipRule:"evenodd"})}),(0,ft.jsxs)("p",{className:"ml-3 text-base text-gray-700",children:["Total distance: ",s.distance," km"]})]})]}),(0,ft.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-6",children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Trek Details"}),(0,ft.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.region&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Region"}),(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:_})]})]}),s.bestTimeToVisit&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.414-1.414L11 9.586V6z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Best Time to Visit"}),(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:s.bestTimeToVisit})]})]}),s.startingPoint&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Starting Point"}),(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:s.startingPoint})]})]}),s.endingPoint&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Ending Point"}),(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:s.endingPoint})]})]}),s.altitude&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Maximum Altitude"}),(0,ft.jsxs)("p",{className:"text-sm text-gray-500",children:[s.altitude," meters"]})]})]}),s.difficulty&&(0,ft.jsxs)("div",{className:"flex items-start",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Difficulty Level"}),(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:s.difficulty})]})]})]})]}),s.highlights&&s.highlights.length>0&&(0,ft.jsxs)("div",{className:"mt-6",children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Highlights"}),(0,ft.jsx)("div",{className:"bg-emerald-50 rounded-lg p-4",children:(0,ft.jsx)("ul",{className:"space-y-3",children:s.highlights.map(((e,t)=>(0,ft.jsxs)("li",{className:"flex items-start",children:[(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-500 mt-0.5 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586V6h5a1 1 0 100-2h-5v4.586z",clipRule:"evenodd"})}),(0,ft.jsx)("span",{className:"ml-3 text-gray-700",children:e})]},t)))})})]}),(()=>{if(!s)return null;const e=U(s);return(0,ft.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-6",children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Pricing"}),b?(0,ft.jsxs)("div",{className:"mt-2",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("span",{className:"text-3xl font-bold text-emerald-600 mr-3",children:V(b)}),(0,ft.jsx)("span",{className:"text-xl text-gray-500 line-through",children:V(e)}),(0,ft.jsxs)("span",{className:"ml-3 bg-gradient-to-r from-amber-600 to-orange-400 text-white text-sm px-3 py-1 rounded-md flex items-center shadow-sm",children:[(0,ft.jsx)(Fm,{className:"mr-1"}),"percentage"===j.discountType?`${j.discountValue}% OFF`:`${V(j.discountValue)} OFF`]})]}),(0,ft.jsx)("div",{className:"mt-2 flex items-center text-sm",children:(0,ft.jsxs)("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 px-3 py-2 rounded-md w-full",children:[(0,ft.jsx)("p",{className:"font-medium",children:"Limited Time Offer"}),(0,ft.jsxs)("p",{className:"text-amber-700 mt-1",children:["Valid until"," ",new Date(j.endDate).toLocaleDateString()]}),j.description&&(0,ft.jsx)("p",{className:"text-amber-700 mt-1 italic",children:j.description})]})})]}):e>0?(0,ft.jsxs)("div",{className:"mt-2",children:[(0,ft.jsx)("span",{className:"text-3xl font-bold text-emerald-600",children:V(e)}),s.strikedPrice&&s.strikedPrice>e&&(0,ft.jsx)("span",{className:"ml-2 text-xl text-gray-500 line-through",children:V(s.strikedPrice)}),(0,ft.jsx)("span",{className:"ml-2 text-gray-500",children:"per person"})]}):(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)("span",{className:"text-xl font-medium text-gray-900",children:"Contact for pricing"})}),(0,ft.jsxs)("p",{className:"mt-4 text-sm text-gray-500",children:["Price includes all activities, accommodations, and guided tours as described.",s.priceIncludes&&(0,ft.jsx)("span",{className:"block mt-1",children:s.priceIncludes})]})]})})(),(0,ft.jsxs)("div",{className:"mt-6 flex flex-col space-y-3",children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"}),(0,ft.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ft.jsxs)("button",{onClick:H,className:"flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:[(0,ft.jsx)(Dm,{className:"mr-2"}),"Share"]}),(0,ft.jsxs)("button",{onClick:W,disabled:E,className:"flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:[E?(0,ft.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ft.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ft.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,ft.jsx)(Kh,{className:"mr-2"}),E?"Downloading...":"Download Itinerary"]}),(0,ft.jsxs)("button",{onClick:$,className:"flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:[(0,ft.jsx)(hm,{className:"mr-2"}),"Get More Info"]})]})]})]}),(0,ft.jsxs)("div",{id:"overview",className:"mt-12 scroll-mt-20",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Overview"}),(0,ft.jsx)("div",{className:"mt-4 prose prose-emerald prose-lg text-gray-500 max-w-none",children:(0,ft.jsx)("p",{children:s.description})})]})]}),s.batches&&s.batches.length>0&&(0,ft.jsxs)("div",{className:"mt-12",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Available Dates"}),(0,ft.jsx)(Ij,{batches:s.batches,onBatchSelect:e=>{e?e.currentParticipants>=e.maxParticipants?pt.error("This batch is already full"):(console.log("Selected batch:",e),r(`/treks/${n}/book`,{state:{selectedBatchId:e._id,trekName:s.name,batchDates:{startDate:e.startDate,endDate:e.endDate}}})):pt.error("Please select a valid batch")},isTrekDisabled:B,currentUser:m,navigate:r,trekId:n})]})]}),s.itinerary&&s.itinerary.length>0&&(0,ft.jsxs)("div",{id:"itinerary",className:"mt-12 scroll-mt-20",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Trek Itinerary"}),(0,ft.jsx)(fw,{itinerary:s.itinerary})," "]}),((null===(e=s.includes)||void 0===e?void 0:e.length)>0||(null===(t=s.excludes)||void 0===t?void 0:t.length)>0)&&(0,ft.jsxs)("div",{id:"inclusions",className:"mt-12 scroll-mt-20",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Inclusions & Exclusions"}),(0,ft.jsx)(gw,{includes:s.includes,excludes:s.excludes})]}),s.thingsToPack&&s.thingsToPack.length>0&&(0,ft.jsx)("div",{id:"thingsToPack",className:"mt-12 scroll-mt-20",children:(0,ft.jsx)(xw,{items:s.thingsToPack})}),s.faqs&&s.faqs.length>0&&(0,ft.jsx)("div",{id:"faqs",className:"mt-12 scroll-mt-20",children:(0,ft.jsx)(yw,{faqs:s.faqs})})]}),g&&p&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,ft.jsx)("div",{className:"max-w-2xl w-full mx-4",children:(0,ft.jsx)(pw,{trek:s,batch:p,onClose:()=>{x(!1)},onSuccess:e=>{x(!1),pt.success("Booking successful!"),r(`/booking-detail/${e}`)}})})}),!c&&!u&&s&&(o&&0!==o.length?(0,ft.jsx)("div",{className:"bg-gray-50 py-16",children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ft.jsxs)("div",{className:"text-center mb-8",children:[(0,ft.jsxs)("h2",{className:"text-3xl font-bold text-gray-900",children:["More Treks in ",_]}),(0,ft.jsx)("p",{className:"mt-2 text-lg text-gray-600",children:"Discover other amazing adventures in this region"})]}),(0,ft.jsx)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:o.map((e=>(0,ft.jsx)(dp,{trek:e},e._id)))}),(0,ft.jsx)("div",{className:"mt-10 text-center",children:(0,ft.jsxs)(Me,{to:`/regions/${s.region}`,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:["Explore All Treks in ",_]})})]})}):null)]})]}):(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-yellow-700",children:"Trek not found. It may have been removed or is no longer available."})})]})})})};const zj=function(){const{currentUser:e,refreshUser:t}=yh(),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)({name:"",email:"",phone:"",address:""});(0,a.useEffect)((()=>{e&&i({name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||""})}),[e]);const o=e=>{const{name:t,value:n}=e.target;i((e=>({...e,[t]:n})))};return e?(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,ft.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mb-6",children:"Your Profile"}),(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,ft.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{await(async e=>(await Ru.put("/auth/profile",e)).data)(s),await t(),pt.success("Profile updated successfully!")}catch(a){var n,i;console.error("Error updating profile:",a),pt.error((null===(n=a.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Failed to update profile")}finally{r(!1)}},className:"space-y-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,ft.jsx)("input",{type:"text",name:"name",id:"name",value:s.name,onChange:o,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,ft.jsx)("input",{type:"email",name:"email",id:"email",value:s.email,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-50 text-gray-500 sm:text-sm"}),(0,ft.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,ft.jsx)("input",{type:"tel",name:"phone",id:"phone",value:s.phone,onChange:o,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,ft.jsx)("textarea",{name:"address",id:"address",rows:"3",value:s.address,onChange:o,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsx)("div",{className:"flex justify-end",children:(0,ft.jsx)("button",{type:"submit",disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:n?"Saving...":"Save Changes"})})]})})}),(0,ft.jsxs)("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,ft.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Account Information"}),(0,ft.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Details about your account status."})]}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsxs)("dl",{children:[(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.isAdmin?"Administrator":"Standard User"})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(e.createdAt).toLocaleDateString()})]})]})})]})]})}):(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})})};const Bj=function(){var e;const{trekId:t,batchId:n}=ie(),r=se(),{currentUser:s}=yh(),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)(null),[p,f]=(0,a.useState)({participants:1,specialRequirements:""});(0,a.useEffect)((()=>{(async()=>{try{u(!0);const e=await Fu(t);o(e);const r=e.batches.find((e=>e._id===n));if(!r)throw new Error("Selected batch not found");c(r)}catch(e){console.error("Error fetching trek details:",e),m("Failed to load trek details. Please try again later.")}finally{u(!1)}})()}),[t,n]);const g=e=>{const{name:t,value:n}=e.target;f((e=>({...e,[t]:n})))};if(d)return(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})});if(h)return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:h})})]})})});if(!i||!l)return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-yellow-700",children:"Trek or batch not found. Please go back and try again."})})]})})});const x=l.maxParticipants-l.currentParticipants;return(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,ft.jsxs)("div",{className:"mb-8",children:[(0,ft.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Book Your Trek"}),(0,ft.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Complete the form below to book your spot on ",i.name]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,ft.jsx)("div",{className:"md:col-span-1",children:(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Trek Details"})}),(0,ft.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:(0,ft.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200",children:[(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Trek Name"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:i.name})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Region"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(null===(e=i.region)||void 0===e?void 0:e.name)||"N/A"})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Difficulty"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:i.difficulty})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Duration"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[i.duration," days"]})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Batch Dates"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[new Date(l.startDate).toLocaleDateString()," - ",new Date(l.endDate).toLocaleDateString()]})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Price per Person"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["$",l.price]})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Available Spots"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:x})]})]})})]})}),(0,ft.jsx)("div",{className:"md:col-span-2",children:(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,ft.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Booking Information"}),(0,ft.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Please fill in the details for your booking"})]}),(0,ft.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:(0,ft.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),p.participants<1)pt.error("Number of participants must be at least 1");else if(p.participants>l.maxParticipants-l.currentParticipants)pt.error(`Only ${l.maxParticipants-l.currentParticipants} spots available for this batch`);else try{u(!0);const e={trek:t,batch:n,participants:parseInt(p.participants),specialRequirements:p.specialRequirements,totalAmount:l.price*parseInt(p.participants)},s=await Vu(e);pt.success("Booking created successfully!"),r(`/booking-confirmation/${s._id}`)}catch(h){var s,i;console.error("Error creating booking:",h),pt.error((null===(s=h.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Failed to create booking")}finally{u(!1)}},children:(0,ft.jsxs)("div",{className:"space-y-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"participants",className:"block text-sm font-medium text-gray-700",children:"Number of Participants *"}),(0,ft.jsx)("div",{className:"mt-1",children:(0,ft.jsx)("input",{type:"number",name:"participants",id:"participants",min:"1",max:x,required:!0,value:p.participants,onChange:g,className:"shadow-sm focus:ring-emerald-500 focus:border-emerald-500 block w-full sm:text-sm border-gray-300 rounded-md"})}),(0,ft.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:x<=3?(0,ft.jsxs)("span",{className:"text-red-500",children:["Only ",x," spots left!"]}):`Maximum ${x} participants allowed`})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"specialRequirements",className:"block text-sm font-medium text-gray-700",children:"Special Requirements"}),(0,ft.jsx)("div",{className:"mt-1",children:(0,ft.jsx)("textarea",{id:"specialRequirements",name:"specialRequirements",rows:"4",value:p.specialRequirements,onChange:g,className:"shadow-sm focus:ring-emerald-500 focus:border-emerald-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Any dietary restrictions, medical conditions, or other special requirements"})})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Booking Summary"}),(0,ft.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Price per person"}),(0,ft.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["$",l.price]})]}),(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Number of participants"}),(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900",children:p.participants})]}),(0,ft.jsxs)("div",{className:"border-t border-gray-200 pt-2 flex justify-between",children:[(0,ft.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Total Amount"}),(0,ft.jsxs)("p",{className:"text-base font-medium text-gray-900",children:["$",l.price*p.participants]})]})]})]}),(0,ft.jsxs)("div",{className:"flex justify-end",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>r(`/treks/${t}`),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Cancel"}),(0,ft.jsx)("button",{type:"submit",disabled:d||0===x,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:d?"Processing...":"Confirm Booking"})]})]})})})]})})]})]})};const qj=function(){var e;const{bookingId:t}=ie(),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null);if((0,a.useEffect)((()=>{(async()=>{try{i(!0);const e=await $u(t);r(e)}catch(e){console.error("Error fetching booking details:",e),l("Failed to load booking details. Please try again later.")}finally{i(!1)}})()}),[t]),s)return(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})});if(o)return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:o})})]})})});if(!n)return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-yellow-700",children:"Booking not found. Please check your booking ID."})})]})})});const c="pending"===n.status;return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6 bg-emerald-50",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-12 w-12 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Confirmed!"}),(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Your booking has been successfully processed."})]})]})}),(0,ft.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:(0,ft.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200",children:[(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Booking ID"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n._id})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Trek"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(null===(e=n.trek)||void 0===e?void 0:e.name)||"N/A"})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Dates"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[new Date(n.startDate).toLocaleDateString()," - ",new Date(n.endDate).toLocaleDateString()]})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Number of Participants"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.participants})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Amount (INR)"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["\u20b9",n.totalAmount||n.totalPrice]})]}),(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,ft.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:(0,ft.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("confirmed"===n.status?"bg-green-100 text-green-800":"cancelled"===n.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:n.status})})]}),n.specialRequirements&&(0,ft.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Special Requirements"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.specialRequirements})]})]})}),(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6 bg-gray-50",children:[(0,ft.jsxs)("div",{className:"text-sm",children:[(0,ft.jsx)("p",{className:"font-medium text-gray-700 mb-2",children:"What's Next?"}),(0,ft.jsxs)("ul",{className:"list-disc pl-5 text-gray-500 space-y-1",children:[(0,ft.jsx)("li",{children:"You will receive a confirmation email with all the details."}),(0,ft.jsx)("li",{children:"Our team will contact you with further instructions."}),(0,ft.jsx)("li",{children:"You can view all your bookings in your profile."}),c&&(0,ft.jsx)("li",{className:"text-indigo-600 font-medium",children:"Please complete your payment to confirm your booking."})]})]}),(0,ft.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[c&&(0,ft.jsx)(Me,{to:`/payment/${n._id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Proceed to Payment"}),(0,ft.jsx)(Me,{to:"/my-bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"View My Bookings"}),(0,ft.jsx)(Me,{to:"/",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Return to Home"})]})]})]})})};const Uj=function(e){let{title:t,children:n,onClose:r,size:s="default",isOpen:i=!0}=e;return(0,a.useEffect)((()=>{if(i)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}}),[i]),(0,a.useEffect)((()=>{if(!i)return;const e=e=>{27===e.keyCode&&r()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[i,r]),i?(0,ft.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,ft.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-3 pt-4 pb-20 text-center sm:block sm:p-0 mobile-safe-area",children:[(0,ft.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:r,"aria-hidden":"true"}),(0,ft.jsxs)("div",{className:`inline-block w-full ${(()=>{switch(s){case"small":return"max-w-sm sm:max-w-md";case"large":return"max-w-2xl sm:max-w-4xl";case"xl":return"max-w-4xl sm:max-w-6xl";default:return"max-w-lg sm:max-w-2xl"}})()} my-4 sm:my-8 overflow-hidden text-left align-middle transition-all transform bg-white rounded-lg shadow-xl`,children:[(0,ft.jsxs)("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:[(0,ft.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 truncate flex-1 mr-2",children:t}),(0,ft.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full p-1 touch-target","aria-label":"Close modal",children:(0,ft.jsx)(qm,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),(0,ft.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 max-h-[60vh] sm:max-h-[70vh] overflow-y-auto",children:n})]})]})}):null};const Vj=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)({isOpen:!1,bookingId:null});(0,a.useEffect)((()=>{(async()=>{try{r(!0);const e=await Hu();t(Array.isArray(e)?e:[])}catch(e){console.error("Error fetching bookings:",e),i("Failed to load your bookings. Please try again later.")}finally{r(!1)}})()}),[]);const c=()=>{l({isOpen:!1,bookingId:null})},d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=e=>{switch(e.toLowerCase()){case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return n?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):s?(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:s})})]})})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,ft.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Bookings"}),(0,ft.jsxs)(Me,{to:"/tickets",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700",children:[(0,ft.jsx)("svg",{className:"mr-2 -ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"View Support Tickets"]})]}),(0,ft.jsx)("div",{className:"sm:flex sm:items-center",children:(0,ft.jsx)("div",{className:"sm:flex-auto",children:(0,ft.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"View and manage all your trek bookings."})})}),0===e.length?(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md p-6 text-center",children:[(0,ft.jsx)("p",{className:"text-gray-500 mb-4",children:"You don't have any bookings yet."}),(0,ft.jsx)(Me,{to:"/treks",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Browse Treks"})]}):(0,ft.jsx)("div",{className:"mt-8 flex flex-col",children:(0,ft.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,ft.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,ft.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Trek"}),(0,ft.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Booking Date"}),(0,ft.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Participants"}),(0,ft.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Total Amount (INR)"}),(0,ft.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,ft.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Created At"}),(0,ft.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,ft.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,ft.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.map((e=>(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:e.trek?e.trek.name:"N/A"}),(0,ft.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.batch&&e.batch.startDate?d(e.batch.startDate):"N/A"}),(0,ft.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.participants||0}),(0,ft.jsxs)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["\u20b9",e.totalPrice?e.totalPrice.toFixed(2):"0.00"]}),(0,ft.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,ft.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(e.status)}`,children:e.status})}),(0,ft.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:d(e.createdAt)}),(0,ft.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[(0,ft.jsx)(Me,{to:`/booking-detail/${e._id}`,className:"text-emerald-600 hover:text-emerald-900 mr-4",children:"View"}),"cancelled"!==e.status.toLowerCase()&&(0,ft.jsx)("button",{onClick:()=>{return t=e._id,void l({isOpen:!0,bookingId:t});var t},className:"text-red-600 hover:text-red-900",children:"Cancel"})]})]},e._id)))})]})})})})}),o.isOpen&&(0,ft.jsxs)(Uj,{title:"Cancel Booking",onClose:c,children:[(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to cancel this booking? This action cannot be undone."})}),(0,ft.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[(0,ft.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:async()=>{try{await Wu(o.bookingId),t(e.map((e=>e._id===o.bookingId?{...e,status:"cancelled"}:e))),pt.success("Booking cancelled successfully"),c()}catch(s){var n,r;console.error("Error cancelling booking:",s),pt.error((null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to cancel booking")}},children:"Yes, Cancel Booking"}),(0,ft.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:c,children:"No, Keep Booking"})]})]})]})};const $j=function(e){let{bookingId:t,onClose:n,onSuccess:r}=e;const[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)("medium"),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),f=async e=>{if(e.preventDefault(),s.trim()&&o.trim())try{h(!0),p(null),await(async e=>{try{return(await Ru.post("/tickets",e)).data}catch(m){throw console.error("Error creating ticket:",m),m}})({bookingId:t,subject:s,description:o,priority:c}),pt.success("Support ticket created successfully"),r&&r(),n()}catch(i){console.error("Error creating ticket:",i),p("Failed to create ticket. Please try again later."),pt.error("Failed to create ticket")}finally{h(!1)}else p("Please fill in all required fields")};return(0,ft.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,ft.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:n}),(0,ft.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,ft.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,ft.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,ft.jsx)("div",{className:"sm:flex sm:items-start",children:(0,ft.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Create Support Ticket"}),(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Please provide details about your issue and our support team will assist you."})}),m&&(0,ft.jsx)("div",{className:"mt-2 bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:m})})]})}),(0,ft.jsxs)("form",{onSubmit:f,className:"mt-4",children:[(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsxs)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:["Subject ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("input",{type:"text",id:"subject",name:"subject",className:"mt-1 focus:ring-emerald-500 focus:border-emerald-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:s,onChange:e=>i(e.target.value),required:!0})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),(0,ft.jsxs)("select",{id:"priority",name:"priority",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md",value:c,onChange:e=>d(e.target.value),children:[(0,ft.jsx)("option",{value:"low",children:"Low"}),(0,ft.jsx)("option",{value:"medium",children:"Medium"}),(0,ft.jsx)("option",{value:"high",children:"High"})]})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsxs)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:["Description ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("textarea",{id:"description",name:"description",rows:4,className:"mt-1 focus:ring-emerald-500 focus:border-emerald-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:o,onChange:e=>l(e.target.value),required:!0})]})]})]})})}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,ft.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-emerald-600 text-base font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:f,disabled:u,children:u?"Creating...":"Create Ticket"}),(0,ft.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:n,disabled:u,children:"Cancel"})]})]})]})})};const Hj=function(){var e,t;const{id:n}=ie(),r=(se(),null===(e=ne().state)||void 0===e?void 0:e.paymentStatus),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{l(!0);const e=await $u(n);if(console.log("Booking data:",e),!e)throw new Error("Booking not found");const t={...e,trek:e.trek||{},batch:e.batch||{},participants:e.participants||0,totalPrice:e.totalPrice||0,status:e.status||"unknown",createdAt:e.createdAt||new Date,cancelledAt:e.cancelledAt||null,participantDetails:Array.isArray(e.participantDetails)?e.participantDetails:[]};i(t)}catch(r){var e,t;console.error("Error fetching booking:",r),d((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load booking details. Please try again later.")}finally{l(!1)}})()}),[n]);const x=()=>{g(null),h(!1)},y=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";if(o)return(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})});if(c)return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:c})})]})})});if(!s)return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-yellow-700",children:"Booking not found."})})]})})});const v=e=>{let{participants:t,onCancelParticipant:n}=e;return(0,ft.jsx)("div",{className:"space-y-4",children:t.map((e=>(0,ft.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"font-medium",children:e.name}),(0,ft.jsxs)("p",{className:"text-sm text-gray-600",children:["Age: ",e.age]}),(0,ft.jsxs)("p",{className:"text-sm text-gray-600",children:["Gender: ",e.gender]})]}),e.isCancelled?(0,ft.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Cancelled"}):t.length>1?(0,ft.jsx)(ft.Fragment,{}):null]}),e.isCancelled&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Cancelled on: ",e.cancelledAt?new Date(e.cancelledAt).toLocaleDateString():"N/A"]}),(0,ft.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Refund Status: ",e.refundStatus&&"not_applicable"!==e.refundStatus?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("span",{className:"capitalize",children:e.refundStatus}),e.refundAmount>0&&(0,ft.jsxs)("span",{children:[" \u2014 Amount: ",(0,ft.jsxs)("span",{className:"font-semibold",children:["\u20b9",e.refundAmount]})]}),e.refundDate&&(0,ft.jsxs)("span",{children:[" \u2014 Date: ",y(e.refundDate)]})]}):(0,ft.jsx)("span",{children:"No refund"})]})]})]},e._id)))})};return(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:["success"===r&&(0,ft.jsx)("div",{className:"mb-6 bg-green-50 border-l-4 border-green-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-green-700",children:"Payment completed successfully!"})})]})}),"failure"===r&&(0,ft.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:"Payment failed. Please try again or contact support."})})]})}),(0,ft.jsx)("div",{className:"mb-8",children:(0,ft.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,ft.jsxs)("ol",{className:"flex items-center space-x-4",children:[(0,ft.jsx)("li",{children:(0,ft.jsx)("div",{children:(0,ft.jsxs)(Me,{to:"/",className:"text-gray-400 hover:text-gray-500",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),(0,ft.jsx)("span",{className:"sr-only",children:"Home"})]})})}),(0,ft.jsx)("li",{children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,ft.jsx)("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})}),(0,ft.jsx)(Me,{to:"/bookings",className:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700",children:"My Bookings"})]})}),(0,ft.jsx)("li",{children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,ft.jsx)("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})}),(0,ft.jsx)("span",{className:"ml-4 text-sm font-medium text-gray-500",children:"Booking Details"})]})})]})})}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Booking Details"}),(0,ft.jsxs)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Booking ID: ",s._id]})]}),(0,ft.jsx)("span",{className:`inline-flex rounded-full px-3 py-1 text-sm font-semibold ${(e=>{switch(e){case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(s.status)}`,children:s.status})]}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsxs)("dl",{children:[(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Trek"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.trek&&(0,ft.jsx)(Me,{to:`/treks/${s.trek._id}`,className:"text-emerald-600 hover:text-emerald-900",children:s.trek.name})})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:y(s.createdAt)})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Batch Information"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.batch&&(0,ft.jsxs)(ft.Fragment,{children:[s.batch.name&&(0,ft.jsxs)("div",{children:[(0,ft.jsx)("strong",{children:"Name:"})," ",s.batch.name]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("strong",{children:"Start Date:"})," ",s.batch.startDate?y(s.batch.startDate):"N/A"]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("strong",{children:"End Date:"})," ",s.batch.endDate?y(s.batch.endDate):"N/A"]}),s.batch.price&&(0,ft.jsxs)("div",{children:[(0,ft.jsx)("strong",{children:"Price:"})," \u20b9",s.batch.price]})]})})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Number of Participants"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.participants||0})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Amount (INR)"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["\u20b9",(null===(t=s.totalPrice)||void 0===t?void 0:t.toFixed(2))||"0.00"]})]}),"cancelled"===s.status&&s.cancelledAt&&(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Cancelled Date"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:y(s.cancelledAt)})]}),"cancelled"===s.status&&(0,ft.jsx)(ft.Fragment,{children:(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Refund Status"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.refundStatus&&"not_applicable"!==s.refundStatus?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("span",{className:"capitalize",children:s.refundStatus}),s.refundAmount>0&&(0,ft.jsxs)("span",{children:[" \u2014 Amount: ",(0,ft.jsxs)("span",{className:"font-semibold",children:["\u20b9",s.refundAmount]})]}),s.refundDate&&(0,ft.jsxs)("span",{children:[" \u2014 Date: ",y(s.refundDate)]})]}):(0,ft.jsx)("span",{children:"No refund"})})]})})]})})]}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Participants"})}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsx)("div",{className:"divide-y divide-gray-200",children:(0,ft.jsx)(v,{participants:s.participantDetails,onCancelParticipant:async e=>{try{if(await Yu(n,e)){const e=await $u(n);i(e),pt.success("Participant cancelled successfully")}}catch(c){pt.error(c.message)}}})})})]})]}),"cancelled"!==s.status&&(0,ft.jsx)("div",{className:"mt-6 space-x-4",children:(0,ft.jsxs)("button",{type:"button",onClick:()=>{p(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)("svg",{className:"mr-2 -ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Need Help? Create Support Ticket"]})}),u&&(0,ft.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,ft.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),(0,ft.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,ft.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,ft.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,ft.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:f?"Cancel Participant":"Cancel Booking"}),(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:f?`Are you sure you want to cancel ${f.name}'s participation? This action cannot be undone.`:"Are you sure you want to cancel this booking? This action cannot be undone."})})]})]}),(0,ft.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,ft.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm",onClick:async()=>{try{f?(await Yu(n,f._id),pt.success("Participant cancelled successfully"),i((e=>({...e,participantDetails:e.participantDetails.filter((e=>e._id!==f._id)),participants:e.participants-1})))):(await Wu(n),i((e=>({...e,status:"cancelled"}))),pt.success("Booking cancelled successfully")),x()}catch(c){var e,t;console.error("Error cancelling:",c),pt.error((null===(e=c.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to cancel")}},children:f?"Cancel Participant":"Cancel Booking"}),(0,ft.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:x,children:"Go Back"})]})]})]})}),m&&(0,ft.jsx)($j,{bookingId:s._id,onClose:()=>p(!1),onSuccess:()=>{pt.success("Support ticket created successfully")}})]})};let Wj={data:""},Yj=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Wj,Kj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Gj=/\/\*[^]*?\*\/|  +/g,Qj=/\n+/g,Xj=(e,t)=>{let n="",r="",s="";for(let i in e){let a=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+a+";":r+="f"==i[1]?Xj(a,i):i+"{"+Xj(a,"k"==i[1]?"":t)+"}":"object"==typeof a?r+=Xj(a,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=a&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Xj.p?Xj.p(i,a):i+":"+a+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Zj={},Jj=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Jj(e[n]);return t}return e},eN=(e,t,n,r,s)=>{let i=Jj(e),a=Zj[i]||(Zj[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!Zj[a]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=Kj.exec(e.replace(Gj,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Qj," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Qj," ").trim();return r[0]})(e);Zj[a]=Xj(s?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&Zj.g?Zj.g:null;return n&&(Zj.g=Zj[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Zj[a],t,r,o),a};function tN(e){let t=this||{},n=e.call?e(t.p):e;return eN(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,s)=>{let i=t[s];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":Xj(e,""):!1===e?"":e}return e+r+(null==i?"":i)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,Yj(t.target),t.g,t.o,t.k)}tN.bind({g:1});let nN,rN,sN,iN=tN.bind({k:1});function aN(e,t){let n=this||{};return function(){let r=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;n.p=Object.assign({theme:rN&&rN()},o),n.o=/ *go\d+/.test(l),o.className=tN.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),sN&&c[0]&&sN(o),nN(c,o)}return t?t(s):s}}var oN=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,lN=(()=>{let e=0;return()=>(++e).toString()})(),cN=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),dN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return dN(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+s})))}}},uN=[],hN={toasts:[],pausedAt:void 0},mN=e=>{hN=dN(hN,e),uN.forEach((e=>{e(hN)}))},pN=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||lN()}}(t,e,n);return mN({type:2,toast:r}),r.id},fN=(e,t)=>pN("blank")(e,t);fN.error=pN("error"),fN.success=pN("success"),fN.loading=pN("loading"),fN.custom=pN("custom"),fN.dismiss=e=>{mN({type:3,toastId:e})},fN.remove=e=>mN({type:4,toastId:e}),fN.promise=(e,t,n)=>{let r=fN.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let s=t.success?oN(t.success,e):void 0;return s?fN.success(s,{id:r,...n,...null==n?void 0:n.success}):fN.dismiss(r),e})).catch((e=>{let s=t.error?oN(t.error,e):void 0;s?fN.error(s,{id:r,...n,...null==n?void 0:n.error}):fN.dismiss(r)})),e};new Map;var gN=iN`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xN=iN`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yN=iN`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vN=aN("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bN=iN`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wN=aN("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${bN} 1s linear infinite;
`,jN=iN`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,NN=iN`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kN=aN("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${NN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SN=aN("div")`
  position: absolute;
`,_N=aN("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CN=iN`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EN=aN("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,TN=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:s}=t;return void 0!==n?"string"==typeof n?a.createElement(EN,null,n):n:"blank"===r?null:a.createElement(_N,null,a.createElement(wN,{...s}),"loading"!==r&&a.createElement(SN,null,"error"===r?a.createElement(vN,{...s}):a.createElement(kN,{...s})))},DN=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,AN=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,PN=aN("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,MN=aN("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`;a.memo((e=>{let{toast:t,position:n,style:r,children:s}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,s]=cN()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[DN(n),AN(n)];return{animation:t?`${iN(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${iN(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},o=a.createElement(TN,{toast:t}),l=a.createElement(MN,{...t.ariaProps},oN(t.message,t));return a.createElement(PN,{className:t.className,style:{...i,...r,...t.style}},"function"==typeof s?s({icon:o,message:l}):a.createElement(a.Fragment,null,o,l))}));!function(e,t,n,r){Xj.p=t,nN=e,rN=n,sN=r}(a.createElement);tN`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const LN=(0,a.forwardRef)(((e,t)=>{let{showModal:n,setShowModal:r,onSectionChange:s}=e;const[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),[g,x]=(0,a.useState)({title:"",treks:[],isActive:!0,displayOrder:0}),[y,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)(null);(0,a.useImperativeHandle)(t,(()=>({handleEdit:e=>{S(e)},confirmDelete:e=>{w(e)}}))),(0,a.useEffect)((()=>{void 0!==n&&f(n)}),[n]),(0,a.useEffect)((()=>{r&&p!==n&&r(p)}),[p,n,r]),(0,a.useEffect)((()=>{j()}),[]);const j=async()=>{try{u(!0);const[e,t]=await Promise.all([ch(),Iu({limit:100})]);o(e),c(t),m(null)}catch(e){console.error("Error fetching data:",e),m("Failed to load data. Please try again."),pt.error("Failed to load data")}finally{u(!1)}},N=e=>{const{name:t,value:n}=e.target;x((e=>({...e,[t]:n})))},k=async e=>{try{u(!0),await(async e=>{try{return(await Ru.delete(`/trek-sections/${e}`)).data}catch(h){throw console.error("Error deleting trek section:",h),h}})(e),w(null),pt.success("Section deleted successfully"),j(),s&&s()}catch(t){console.error("Error deleting section:",t),pt.error("Failed to delete section")}finally{u(!1)}},S=e=>{x({...e,treks:e.treks.map((e=>e._id||e))}),v(!0),f(!0)},_=()=>{x({title:"",treks:[],isActive:!0,displayOrder:0}),v(!1)},C=()=>{f(!1),_(),r&&r(!1)};return(0,ft.jsxs)("div",{className:"py-4 sm:py-6 max-w-7xl mx-auto px-3 sm:px-4 md:px-8",children:[!n&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3",children:[(0,ft.jsx)("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Trek Sections"}),(0,ft.jsx)("button",{onClick:()=>{_(),f(!0)},className:"inline-flex items-center justify-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 touch-target",children:"Add Section"})]}),d?(0,ft.jsx)("div",{className:"text-center py-4",children:"Loading..."}):h?(0,ft.jsx)("div",{className:"text-red-500 py-4",children:h}):0===i.length?(0,ft.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No sections found. Create your first section."}):(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,ft.jsx)("ul",{className:"divide-y divide-gray-200",children:i.map((e=>(0,ft.jsx)("li",{children:(0,ft.jsxs)("div",{className:"px-3 py-3 sm:px-4 sm:py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,ft.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ft.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 truncate",children:e.title}),(0,ft.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:[e.treks.length," treks | Order:"," ",e.displayOrder]})]}),(0,ft.jsxs)("div",{className:"flex space-x-2 self-end sm:self-auto",children:[(0,ft.jsx)("button",{onClick:()=>(async e=>{try{u(!0);const t={...e,isActive:!e.isActive};await dh(e._id,t),pt.success(`Section ${t.isActive?"activated":"deactivated"} successfully`),j(),s&&s()}catch(t){console.error("Error updating section status:",t),pt.error("Failed to update section status")}finally{u(!1)}})(e),className:"p-2 rounded-full touch-target "+(e.isActive?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"),title:e.isActive?"Deactivate":"Activate",children:e.isActive?(0,ft.jsx)(tm,{className:"h-4 w-4"}):(0,ft.jsx)(em,{className:"h-4 w-4"})}),(0,ft.jsx)("button",{onClick:()=>S(e),className:"p-2 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 touch-target",title:"Edit",children:(0,ft.jsx)(Gh,{className:"h-4 w-4"})}),(0,ft.jsx)("button",{onClick:()=>w(e._id),className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 touch-target",title:"Delete",children:(0,ft.jsx)(Um,{className:"h-4 w-4"})})]})]})},e._id)))})})]}),p&&(0,ft.jsx)(Uj,{isOpen:p,onClose:C,title:y?"Edit Trek Section":"Create Trek Section",children:(0,ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{u(!0),y?(await dh(g._id,g),pt.success("Section updated successfully")):(await(async e=>{try{return(await Ru.post("/trek-sections",e)).data}catch(h){throw console.error("Error creating trek section:",h),h}})(g),pt.success("Section created successfully")),_(),j(),s&&s()}catch(t){console.error("Error saving section:",t),pt.error("Failed to save section")}finally{u(!1),f(!1)}},children:[(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Section Title *"}),(0,ft.jsx)("input",{type:"text",id:"title",name:"title",required:!0,value:g.title,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Treks *"}),(0,ft.jsx)("div",{className:"max-h-48 sm:max-h-60 overflow-y-auto border border-gray-300 rounded-md p-2",children:l.map((e=>(0,ft.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ft.jsx)("input",{type:"checkbox",id:`trek-${e._id}`,checked:g.treks.includes(e._id),onChange:()=>{return t=e._id,void x((e=>{const n=[...e.treks];return n.includes(t)?{...e,treks:n.filter((e=>e!==t))}:{...e,treks:[...n,t]}}));var t},className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsxs)("label",{htmlFor:`trek-${e._id}`,className:"ml-2 block text-sm text-gray-900 cursor-pointer",children:[(0,ft.jsx)("span",{className:"font-medium",children:e.name}),(0,ft.jsxs)("span",{className:"text-gray-500 ml-1",children:["- ",e.region]})]})]},e._id)))})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"displayOrder",className:"block text-sm font-medium text-gray-700",children:"Display Order"}),(0,ft.jsx)("input",{type:"number",id:"displayOrder",name:"displayOrder",value:g.displayOrder,onChange:N,min:"1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("input",{type:"checkbox",id:"isActive",name:"isActive",checked:g.isActive,onChange:e=>x((t=>({...t,isActive:e.target.checked}))),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900 cursor-pointer",children:"Active"})]})]}),(0,ft.jsxs)("div",{className:"mt-5 sm:mt-6 flex flex-col-reverse sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense gap-3",children:[(0,ft.jsx)("button",{type:"submit",disabled:d,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-3 sm:py-2 bg-emerald-600 text-base font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:col-start-2 sm:text-sm touch-target",children:d?"Saving...":y?"Update":"Create"}),(0,ft.jsx)("button",{type:"button",onClick:C,className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-3 sm:py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:col-start-1 sm:text-sm touch-target",children:"Cancel"})]})]})}),b&&(0,ft.jsxs)(Uj,{isOpen:!!b,onClose:()=>w(null),title:"Confirm Deletion",children:[(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this section? This action cannot be undone."})}),(0,ft.jsxs)("div",{className:"mt-5 sm:mt-4 flex flex-col-reverse sm:flex-row sm:flex-row-reverse gap-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>k(b),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-3 sm:py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm touch-target",children:"Delete"}),(0,ft.jsx)("button",{type:"button",onClick:()=>w(null),className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-3 sm:py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm touch-target",children:"Cancel"})]})]})]})})),ON=LN;const RN=function(){this.__data__=[],this.size=0};const IN=function(e,t){return e===t||e!==e&&t!==t};const FN=function(e,t){for(var n=e.length;n--;)if(IN(e[n][0],t))return n;return-1};var zN=Array.prototype.splice;const BN=function(e){var t=this.__data__,n=FN(t,e);return!(n<0)&&(n==t.length-1?t.pop():zN.call(t,n,1),--this.size,!0)};const qN=function(e){var t=this.__data__,n=FN(t,e);return n<0?void 0:t[n][1]};const UN=function(e){return FN(this.__data__,e)>-1};const VN=function(e,t){var n=this.__data__,r=FN(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function $N(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$N.prototype.clear=RN,$N.prototype.delete=BN,$N.prototype.get=qN,$N.prototype.has=UN,$N.prototype.set=VN;const HN=$N;const WN=function(){this.__data__=new HN,this.size=0};const YN=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const KN=function(e){return this.__data__.get(e)};const GN=function(e){return this.__data__.has(e)};const QN="object"==typeof global&&global&&global.Object===Object&&global;var XN="object"==typeof self&&self&&self.Object===Object&&self;const ZN=QN||XN||Function("return this")();const JN=ZN.Symbol;var ek=Object.prototype,tk=ek.hasOwnProperty,nk=ek.toString,rk=JN?JN.toStringTag:void 0;const sk=function(e){var t=tk.call(e,rk),n=e[rk];try{e[rk]=void 0;var r=!0}catch(Wj){}var s=nk.call(e);return r&&(t?e[rk]=n:delete e[rk]),s};var ik=Object.prototype.toString;const ak=function(e){return ik.call(e)};var ok=JN?JN.toStringTag:void 0;const lk=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ok&&ok in Object(e)?sk(e):ak(e)};const ck=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const dk=function(e){if(!ck(e))return!1;var t=lk(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const uk=ZN["__core-js_shared__"];var hk=function(){var e=/[^.]+$/.exec(uk&&uk.keys&&uk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const mk=function(e){return!!hk&&hk in e};var pk=Function.prototype.toString;const fk=function(e){if(null!=e){try{return pk.call(e)}catch(Wj){}try{return e+""}catch(Wj){}}return""};var gk=/^\[object .+?Constructor\]$/,xk=Function.prototype,yk=Object.prototype,vk=xk.toString,bk=yk.hasOwnProperty,wk=RegExp("^"+vk.call(bk).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const jk=function(e){return!(!ck(e)||mk(e))&&(dk(e)?wk:gk).test(fk(e))};const Nk=function(e,t){return null==e?void 0:e[t]};const kk=function(e,t){var n=Nk(e,t);return jk(n)?n:void 0};const Sk=kk(ZN,"Map");const _k=kk(Object,"create");const Ck=function(){this.__data__=_k?_k(null):{},this.size=0};const Ek=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Tk=Object.prototype.hasOwnProperty;const Dk=function(e){var t=this.__data__;if(_k){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Tk.call(t,e)?t[e]:void 0};var Ak=Object.prototype.hasOwnProperty;const Pk=function(e){var t=this.__data__;return _k?void 0!==t[e]:Ak.call(t,e)};const Mk=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_k&&void 0===t?"__lodash_hash_undefined__":t,this};function Lk(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Lk.prototype.clear=Ck,Lk.prototype.delete=Ek,Lk.prototype.get=Dk,Lk.prototype.has=Pk,Lk.prototype.set=Mk;const Ok=Lk;const Rk=function(){this.size=0,this.__data__={hash:new Ok,map:new(Sk||HN),string:new Ok}};const Ik=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Fk=function(e,t){var n=e.__data__;return Ik(t)?n["string"==typeof t?"string":"hash"]:n.map};const zk=function(e){var t=Fk(this,e).delete(e);return this.size-=t?1:0,t};const Bk=function(e){return Fk(this,e).get(e)};const qk=function(e){return Fk(this,e).has(e)};const Uk=function(e,t){var n=Fk(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Vk(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vk.prototype.clear=Rk,Vk.prototype.delete=zk,Vk.prototype.get=Bk,Vk.prototype.has=qk,Vk.prototype.set=Uk;const $k=Vk;const Hk=function(e,t){var n=this.__data__;if(n instanceof HN){var r=n.__data__;if(!Sk||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $k(r)}return n.set(e,t),this.size=n.size,this};function Wk(e){var t=this.__data__=new HN(e);this.size=t.size}Wk.prototype.clear=WN,Wk.prototype.delete=YN,Wk.prototype.get=KN,Wk.prototype.has=GN,Wk.prototype.set=Hk;const Yk=Wk;const Kk=function(){try{var e=kk(Object,"defineProperty");return e({},"",{}),e}catch(Wj){}}();const Gk=function(e,t,n){"__proto__"==t&&Kk?Kk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};const Qk=function(e,t,n){(void 0!==n&&!IN(e[t],n)||void 0===n&&!(t in e))&&Gk(e,t,n)};const Xk=function(e){return function(t,n,r){for(var s=-1,i=Object(t),a=r(t),o=a.length;o--;){var l=a[e?o:++s];if(!1===n(i[l],l,i))break}return t}};const Zk=Xk();var Jk="object"==typeof exports&&exports&&!exports.nodeType&&exports,eS=Jk&&"object"==typeof module&&module&&!module.nodeType&&module,tS=eS&&eS.exports===Jk?ZN.Buffer:void 0,nS=tS?tS.allocUnsafe:void 0;const rS=function(e,t){if(t)return e.slice();var n=e.length,r=nS?nS(n):new e.constructor(n);return e.copy(r),r};const sS=ZN.Uint8Array;const iS=function(e){var t=new e.constructor(e.byteLength);return new sS(t).set(new sS(e)),t};const aS=function(e,t){var n=t?iS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const oS=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var lS=Object.create;const cS=function(){function e(){}return function(t){if(!ck(t))return{};if(lS)return lS(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const dS=function(e,t){return function(n){return e(t(n))}};const uS=dS(Object.getPrototypeOf,Object);var hS=Object.prototype;const mS=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||hS)};const pS=function(e){return"function"!=typeof e.constructor||mS(e)?{}:cS(uS(e))};const fS=function(e){return null!=e&&"object"==typeof e};const gS=function(e){return fS(e)&&"[object Arguments]"==lk(e)};var xS=Object.prototype,yS=xS.hasOwnProperty,vS=xS.propertyIsEnumerable;const bS=gS(function(){return arguments}())?gS:function(e){return fS(e)&&yS.call(e,"callee")&&!vS.call(e,"callee")};const wS=Array.isArray;const jS=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const NS=function(e){return null!=e&&jS(e.length)&&!dk(e)};const kS=function(e){return fS(e)&&NS(e)};const SS=function(){return!1};var _S="object"==typeof exports&&exports&&!exports.nodeType&&exports,CS=_S&&"object"==typeof module&&module&&!module.nodeType&&module,ES=CS&&CS.exports===_S?ZN.Buffer:void 0;const TS=(ES?ES.isBuffer:void 0)||SS;var DS=Function.prototype,AS=Object.prototype,PS=DS.toString,MS=AS.hasOwnProperty,LS=PS.call(Object);const OS=function(e){if(!fS(e)||"[object Object]"!=lk(e))return!1;var t=uS(e);if(null===t)return!0;var n=MS.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&PS.call(n)==LS};var RS={};RS["[object Float32Array]"]=RS["[object Float64Array]"]=RS["[object Int8Array]"]=RS["[object Int16Array]"]=RS["[object Int32Array]"]=RS["[object Uint8Array]"]=RS["[object Uint8ClampedArray]"]=RS["[object Uint16Array]"]=RS["[object Uint32Array]"]=!0,RS["[object Arguments]"]=RS["[object Array]"]=RS["[object ArrayBuffer]"]=RS["[object Boolean]"]=RS["[object DataView]"]=RS["[object Date]"]=RS["[object Error]"]=RS["[object Function]"]=RS["[object Map]"]=RS["[object Number]"]=RS["[object Object]"]=RS["[object RegExp]"]=RS["[object Set]"]=RS["[object String]"]=RS["[object WeakMap]"]=!1;const IS=function(e){return fS(e)&&jS(e.length)&&!!RS[lk(e)]};const FS=function(e){return function(t){return e(t)}};var zS="object"==typeof exports&&exports&&!exports.nodeType&&exports,BS=zS&&"object"==typeof module&&module&&!module.nodeType&&module,qS=BS&&BS.exports===zS&&QN.process;const US=function(){try{var e=BS&&BS.require&&BS.require("util").types;return e||qS&&qS.binding&&qS.binding("util")}catch(Wj){}}();var VS=US&&US.isTypedArray;const $S=VS?FS(VS):IS;const HS=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var WS=Object.prototype.hasOwnProperty;const YS=function(e,t,n){var r=e[t];WS.call(e,t)&&IN(r,n)&&(void 0!==n||t in e)||Gk(e,t,n)};const KS=function(e,t,n,r){var s=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var o=t[i],l=r?r(n[o],e[o],o,n,e):void 0;void 0===l&&(l=e[o]),s?Gk(n,o,l):YS(n,o,l)}return n};const GS=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var QS=/^(?:0|[1-9]\d*)$/;const XS=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&QS.test(e))&&e>-1&&e%1==0&&e<t};var ZS=Object.prototype.hasOwnProperty;const JS=function(e,t){var n=wS(e),r=!n&&bS(e),s=!n&&!r&&TS(e),i=!n&&!r&&!s&&$S(e),a=n||r||s||i,o=a?GS(e.length,String):[],l=o.length;for(var c in e)!t&&!ZS.call(e,c)||a&&("length"==c||s&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||XS(c,l))||o.push(c);return o};const e_=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var t_=Object.prototype.hasOwnProperty;const n_=function(e){if(!ck(e))return e_(e);var t=mS(e),n=[];for(var r in e)("constructor"!=r||!t&&t_.call(e,r))&&n.push(r);return n};const r_=function(e){return NS(e)?JS(e,!0):n_(e)};const s_=function(e){return KS(e,r_(e))};const i_=function(e,t,n,r,s,i,a){var o=HS(e,n),l=HS(t,n),c=a.get(l);if(c)Qk(e,n,c);else{var d=i?i(o,l,n+"",e,t,a):void 0,u=void 0===d;if(u){var h=wS(l),m=!h&&TS(l),p=!h&&!m&&$S(l);d=l,h||m||p?wS(o)?d=o:kS(o)?d=oS(o):m?(u=!1,d=rS(l,!0)):p?(u=!1,d=aS(l,!0)):d=[]:OS(l)||bS(l)?(d=o,bS(o)?d=s_(o):ck(o)&&!dk(o)||(d=pS(l))):u=!1}u&&(a.set(l,d),s(d,l,r,i,a),a.delete(l)),Qk(e,n,d)}};const a_=function e(t,n,r,s,i){t!==n&&Zk(n,(function(a,o){if(i||(i=new Yk),ck(a))i_(t,n,o,r,e,s,i);else{var l=s?s(HS(t,o),a,o+"",t,n,i):void 0;void 0===l&&(l=a),Qk(t,o,l)}}),r_)};const o_=function(e){return e};const l_=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var c_=Math.max;const d_=function(e,t,n){return t=c_(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=c_(r.length-t,0),a=Array(i);++s<i;)a[s]=r[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=r[s];return o[t]=n(a),l_(e,this,o)}};const u_=function(e){return function(){return e}};var h_=Kk?function(e,t){return Kk(e,"toString",{configurable:!0,enumerable:!1,value:u_(t),writable:!0})}:o_;const m_=h_;var p_=Date.now;const f_=function(e){var t=0,n=0;return function(){var r=p_(),s=16-(r-n);if(n=r,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const g_=f_(m_);const x_=function(e,t){return g_(d_(e,t,o_),e+"")};const y_=function(e,t,n){if(!ck(n))return!1;var r=typeof t;return!!("number"==r?NS(n)&&XS(t,n.length):"string"==r&&t in n)&&IN(n[t],e)};const v_=function(e){return x_((function(t,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(s--,i):void 0,a&&y_(n[0],n[1],a)&&(i=s<3?void 0:i,s=1),t=Object(t);++r<s;){var o=n[r];o&&e(t,o,r,i)}return t}))};const b_=v_((function(e,t,n){a_(e,t,n)}));var w_=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(w_||{});class j_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.attrName=e,this.keyName=t;const r=w_.TYPE&w_.ATTRIBUTE;this.scope=null!=n.scope?n.scope&w_.LEVEL|r:w_.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map((e=>e.name))}add(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)}canAdd(e,t){return null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class N_ extends Error{constructor(e){super(e="[Parchment] "+e),this.message=e,this.name=this.constructor.name}}const k_=class e{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let n=null;try{n=e.parentNode}catch{return null}return this.find(n,t)}return null}create(t,n,r){const s=this.query(n);if(null==s)throw new N_(`Unable to create ${n} blot`);const i=s,a=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:i.create(r),o=new i(t,a,r);return e.blots.set(o.domNode,o),o}find(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.find(t,n)}query(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w_.ANY;return"string"==typeof e?t=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?t=this.types.text:"number"==typeof e?e&w_.LEVEL&w_.BLOCK?t=this.types.block:e&w_.LEVEL&w_.INLINE&&(t=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some((e=>(t=this.classes[e],!!t))),t=t||this.tags[e.tagName]),null==t?null:"scope"in t&&n&w_.LEVEL&t.scope&&n&w_.TYPE&t.scope?t:null}register(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((e=>{const t="blotName"in e,n="attrName"in e;if(!t&&!n)throw new N_("Invalid definition");if(t&&"abstract"===e.blotName)throw new N_("Cannot register abstract class");const r=t?e.blotName:n?e.attrName:void 0;return this.types[r]=e,n?"string"==typeof e.keyName&&(this.attributes[e.keyName]=e):t&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map((e=>e.toUpperCase())):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach((t=>{(null==this.tags[t]||null==e.className)&&(this.tags[t]=e)})))),e}))}};k_.blots=new WeakMap;let S_=k_;function __(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((e=>0===e.indexOf(`${t}-`)))}const C_=class extends j_{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map((e=>e.split("-").slice(0,-1).join("-")))}add(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0)}remove(e){__(e,this.keyName).forEach((t=>{e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")}value(e){const t=(__(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}};function E_(e){const t=e.split("-"),n=t.slice(1).map((e=>e[0].toUpperCase()+e.slice(1))).join("");return t[0]+n}const T_=class extends j_{static keys(e){return(e.getAttribute("style")||"").split(";").map((e=>e.split(":")[0].trim()))}add(e,t){return!!this.canAdd(e,t)&&(e.style[E_(this.keyName)]=t,!0)}remove(e){e.style[E_(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[E_(this.keyName)];return this.canAdd(e,t)?t:""}};const D_=class{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=S_.find(this.domNode);if(null==e)return;const t=j_.keys(this.domNode),n=C_.keys(this.domNode),r=T_.keys(this.domNode);t.concat(n).concat(r).forEach((t=>{const n=e.scroll.query(t,w_.ATTRIBUTE);n instanceof j_&&(this.attributes[n.attrName]=n)}))}copy(e){Object.keys(this.attributes).forEach((t=>{const n=this.attributes[t].value(this.domNode);e.format(t,n)}))}move(e){this.copy(e),Object.keys(this.attributes).forEach((e=>{this.attributes[e].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e)),{})}},A_=class{constructor(e,t){this.scroll=e,this.domNode=t,S_.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(null==this.tagName)throw new N_("Blot definition missing tagName");let t,n;return Array.isArray(this.tagName)?("string"==typeof e?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):"number"==typeof e&&(n=e),t="number"==typeof n?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){null!=this.parent&&this.parent.removeChild(this),S_.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,n,r){const s=this.isolate(e,t);if(null!=this.scroll.query(n,w_.BLOT)&&r)s.wrap(n,r);else if(null!=this.scroll.query(n,w_.ATTRIBUTE)){const e=this.scroll.create(this.statics.scope);s.wrap(e),e.format(n,r)}}insertAt(e,t,n){const r=null==n?this.scroll.create("text",t):this.scroll.create(t,n),s=this.split(e);this.parent.insertBefore(r,s||void 0)}isolate(e,t){const n=this.split(e);if(null==n)throw new Error("Attempt to isolate at end");return n.split(t),n}length(){return 1}offset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;return null==this.parent||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const n="string"==typeof e?this.scroll.create(e,t):e;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(e,t){return 0===e?this:this.next}update(e,t){}wrap(e,t){const n="string"==typeof e?this.scroll.create(e,t):e;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new N_(`Cannot wrap ${e}`);return n.appendChild(this),n}};A_.blotName="abstract";let P_=A_;const M_=class extends P_{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};M_.scope=w_.INLINE_BLOT;const L_=M_;class O_{constructor(){this.head=null,this.tail=null,this.length=0}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(e){const t=this.iterator();let n=t();for(;n&&e>0;)e-=1,n=t();return n}contains(e){const t=this.iterator();let n=t();for(;n;){if(n===e)return!0;n=t()}return!1}indexOf(e){const t=this.iterator();let n=t(),r=0;for(;n;){if(n===e)return r;r+=1,n=t()}return-1}insertBefore(e,t){null!=e&&(this.remove(e),e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,n=this.head;for(;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.head;return()=>{const t=e;return null!=e&&(e=e.next),t}}find(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.iterator();let r=n();for(;r;){const s=r.length();if(e<s||t&&e===s&&(null==r.next||0!==r.next.length()))return[r,e];e-=s,r=n()}return[null,0]}forEach(e){const t=this.iterator();let n=t();for(;n;)e(n),n=t()}forEachAt(e,t,n){if(t<=0)return;const[r,s]=this.find(e);let i=e-s;const a=this.iterator(r);let o=a();for(;o&&i<e+t;){const r=o.length();e>i?n(o,e-i,Math.min(t,i+r-e)):n(o,0,Math.min(r,e+t-i)),i+=r,o=a()}}map(e){return this.reduce(((t,n)=>(t.push(e(n)),t)),[])}reduce(e,t){const n=this.iterator();let r=n();for(;r;)t=e(t,r),r=n();return t}}function R_(e,t){const n=t.find(e);if(n)return n;try{return t.create(e)}catch{const n=t.create(w_.INLINE);return Array.from(e.childNodes).forEach((e=>{n.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach(),n}}const I_=class e extends P_{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach((e=>{e.attach()}))}attachUI(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,e.uiClass&&this.uiNode.classList.add(e.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new O_,Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)).reverse().forEach((e=>{try{const t=R_(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof N_)return;throw t}}))}deleteAt(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,((e,t,n)=>{e.deleteAt(t,n)}))}descendant(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[r,s]=this.children.find(n);return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,s]:r instanceof e?r.descendant(t,s):[null,-1]}descendants(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE,s=[],i=r;return this.children.forEachAt(n,r,((n,r,a)=>{(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&s.push(n),n instanceof e&&(s=s.concat(n.descendants(t,r,i))),i-=a})),s}detach(){this.children.forEach((e=>{e.detach()})),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach((n=>{t||this.statics.allowedChildren.some((e=>n instanceof e))||(n.statics.scope===w_.BLOCK_BLOT?(null!=n.next&&this.splitAfter(n),null!=n.prev&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof e?n.unwrap():n.remove())}))}formatAt(e,t,n,r){this.children.forEachAt(e,t,((e,t,s)=>{e.formatAt(t,s,n,r)}))}insertAt(e,t,n){const[r,s]=this.children.find(e);if(r)r.insertAt(s,t,n);else{const e=null==n?this.scroll.create("text",t):this.scroll.create(t,n);this.appendChild(e)}}insertBefore(e,t){null!=e.parent&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,t||null),e.parent=this,null!=t&&(n=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce(((e,t)=>e+t.length()),0)}moveChildren(e,t){this.children.forEach((n=>{e.insertBefore(n,t)}))}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[r,s]=this.children.find(t,n),i=[[this,t]];return r instanceof e?i.concat(r.path(s,n)):(null!=r&&i.push([r,s]),i)}removeChild(e){this.children.remove(e)}replaceWith(t,n){const r="string"==typeof t?this.scroll.create(t,n):t;return r instanceof e&&this.moveChildren(r),super.replaceWith(r)}split(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){if(0===e)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),((e,r,s)=>{const i=e.split(r,t);null!=i&&n.appendChild(i)})),n}splitAfter(e){const t=this.clone();for(;null!=e.next;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const n=[],r=[];e.forEach((e=>{e.target===this.domNode&&"childList"===e.type&&(n.push(...e.addedNodes),r.push(...e.removedNodes))})),r.forEach((e=>{if(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const t=this.scroll.find(e);null!=t&&(null==t.domNode.parentNode||t.domNode.parentNode===this.domNode)&&t.detach()})),n.filter((e=>e.parentNode===this.domNode&&e!==this.uiNode)).sort(((e,t)=>e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((e=>{let t=null;null!=e.nextSibling&&(t=this.scroll.find(e.nextSibling));const n=R_(e,this.scroll);(n.next!==t||null==n.next)&&(null!=n.parent&&n.parent.removeChild(this),this.insertBefore(n,t||void 0))})),this.enforceAllowedChildren()}};I_.uiClass="";const F_=I_;const z_=class e extends F_{static create(e){return super.create(e)}static formats(t,n){const r=n.query(e.blotName);if(null==r||t.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new D_(this.domNode)}format(t,n){if(t!==this.statics.blotName||n){const e=this.scroll.query(t,w_.INLINE);if(null==e)return;e instanceof j_?this.attributes.attribute(e,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}else this.children.forEach((t=>{t instanceof e||(t=t.wrap(e.blotName,!0)),this.attributes.copy(t)})),this.unwrap()}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,r){null!=this.formats()[n]||this.scroll.query(n,w_.ATTRIBUTE)?this.isolate(e,t).format(n,r):super.formatAt(e,t,n,r)}optimize(t){super.optimize(t);const n=this.formats();if(0===Object.keys(n).length)return this.unwrap();const r=this.next;r instanceof e&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}wrap(t,n){const r=super.wrap(t,n);return r instanceof e&&this.attributes.move(r),r}};z_.allowedChildren=[z_,L_],z_.blotName="inline",z_.scope=w_.INLINE_BLOT,z_.tagName="SPAN";const B_=z_,q_=class e extends F_{static create(e){return super.create(e)}static formats(t,n){const r=n.query(e.blotName);if(null==r||t.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new D_(this.domNode)}format(t,n){const r=this.scroll.query(t,w_.BLOCK);null!=r&&(r instanceof j_?this.attributes.attribute(r,n):t!==this.statics.blotName||n?n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n):this.replaceWith(e.blotName))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,r){null!=this.scroll.query(n,w_.BLOCK)?this.format(n,r):super.formatAt(e,t,n,r)}insertAt(e,t,n){if(null==n||null!=this.scroll.query(t,w_.INLINE))super.insertAt(e,t,n);else{const r=this.split(e);if(null==r)throw new Error("Attempt to insertAt after block boundaries");{const e=this.scroll.create(t,n);r.parent.insertBefore(e,r)}}}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}};q_.blotName="block",q_.scope=w_.BLOCK_BLOT,q_.tagName="P",q_.allowedChildren=[B_,q_,L_];const U_=q_,V_=class extends F_{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,n,r){super.formatAt(e,t,n,r),this.enforceAllowedChildren()}insertAt(e,t,n){super.insertAt(e,t,n),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};V_.blotName="container",V_.scope=w_.BLOCK_BLOT;const $_=V_;const H_=class extends L_{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,n,r){0===e&&t===this.length()?this.format(n,r):super.formatAt(e,t,n,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}},W_={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Y_=class extends F_{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver((e=>{this.update(e)})),this.observer.observe(this.domNode,W_),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.registry.find(e,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null}query(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w_.ANY;return this.registry.query(e,t)}register(){return this.registry.register(...arguments)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),0===e&&t===this.length()?this.children.forEach((e=>{e.remove()})):super.deleteAt(e,t)}formatAt(e,t,n,r){this.update(),super.formatAt(e,t,n,r)}insertAt(e,t,n){this.update(),super.insertAt(e,t,n)}optimize(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super.optimize(n);const r=n.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)t.push(s.pop());const i=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null==t||t===e||null!=t.domNode.parentNode&&(r.has(t.domNode)||r.set(t.domNode,[]),n&&i(t.parent))},a=e=>{r.has(e.domNode)&&(e instanceof F_&&e.children.forEach(a),r.delete(e.domNode),e.optimize(n))};let o=t;for(let l=0;o.length>0;l+=1){if(l>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach((e=>{const t=this.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(i(this.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach((e=>{const t=this.find(e,!1);i(t,!1),t instanceof F_&&t.children.forEach((e=>{i(e,!1)}))}))):"attributes"===e.type&&i(t.prev)),i(t))})),this.children.forEach(a),o=Array.from(this.observer.takeRecords()),s=o.slice();s.length>0;)t.push(s.pop())}}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||this.observer.takeRecords();const n=new WeakMap;e.map((e=>{const t=this.find(e.target,!0);return null==t?null:n.has(t.domNode)?(n.get(t.domNode).push(e),null):(n.set(t.domNode,[e]),t)})).forEach((e=>{null!=e&&e!==this&&n.has(e.domNode)&&e.update(n.get(e.domNode)||[],t)})),t.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),t),this.optimize(e,t)}};Y_.blotName="scroll",Y_.defaultChild=U_,Y_.allowedChildren=[U_,$_],Y_.scope=w_.BLOCK_BLOT,Y_.tagName="DIV";const K_=Y_,G_=class e extends L_{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,n){null==n?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e){return[this.domNode,e]}split(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){if(0===e)return this;if(e===this.length())return this.next}const t=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(t,this.next||void 0),this.text=this.statics.value(this.domNode),t}update(e,t){e.some((e=>"characterData"===e.type&&e.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};G_.blotName="text",G_.scope=w_.INLINE_BLOT;const Q_=G_;var X_=n(249);const Z_=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const J_=dS(Object.keys,Object);var eC=Object.prototype.hasOwnProperty;const tC=function(e){if(!mS(e))return J_(e);var t=[];for(var n in Object(e))eC.call(e,n)&&"constructor"!=n&&t.push(n);return t};const nC=function(e){return NS(e)?JS(e):tC(e)};const rC=function(e,t){return e&&KS(t,nC(t),e)};const sC=function(e,t){return e&&KS(t,r_(t),e)};const iC=function(e,t){for(var n=-1,r=null==e?0:e.length,s=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[s++]=a)}return i};const aC=function(){return[]};var oC=Object.prototype.propertyIsEnumerable,lC=Object.getOwnPropertySymbols;const cC=lC?function(e){return null==e?[]:(e=Object(e),iC(lC(e),(function(t){return oC.call(e,t)})))}:aC;const dC=function(e,t){return KS(e,cC(e),t)};const uC=function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e};const hC=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)uC(t,cC(e)),e=uS(e);return t}:aC;const mC=function(e,t){return KS(e,hC(e),t)};const pC=function(e,t,n){var r=t(e);return wS(e)?r:uC(r,n(e))};const fC=function(e){return pC(e,nC,cC)};const gC=function(e){return pC(e,r_,hC)};const xC=kk(ZN,"DataView");const yC=kk(ZN,"Promise");const vC=kk(ZN,"Set");const bC=kk(ZN,"WeakMap");var wC="[object Map]",jC="[object Promise]",NC="[object Set]",kC="[object WeakMap]",SC="[object DataView]",_C=fk(xC),CC=fk(Sk),EC=fk(yC),TC=fk(vC),DC=fk(bC),AC=lk;(xC&&AC(new xC(new ArrayBuffer(1)))!=SC||Sk&&AC(new Sk)!=wC||yC&&AC(yC.resolve())!=jC||vC&&AC(new vC)!=NC||bC&&AC(new bC)!=kC)&&(AC=function(e){var t=lk(e),n="[object Object]"==t?e.constructor:void 0,r=n?fk(n):"";if(r)switch(r){case _C:return SC;case CC:return wC;case EC:return jC;case TC:return NC;case DC:return kC}return t});const PC=AC;var MC=Object.prototype.hasOwnProperty;const LC=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&MC.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const OC=function(e,t){var n=t?iS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var RC=/\w*$/;const IC=function(e){var t=new e.constructor(e.source,RC.exec(e));return t.lastIndex=e.lastIndex,t};var FC=JN?JN.prototype:void 0,zC=FC?FC.valueOf:void 0;const BC=function(e){return zC?Object(zC.call(e)):{}};const qC=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return iS(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return OC(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return aS(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return IC(e);case"[object Symbol]":return BC(e)}};const UC=function(e){return fS(e)&&"[object Map]"==PC(e)};var VC=US&&US.isMap;const $C=VC?FS(VC):UC;const HC=function(e){return fS(e)&&"[object Set]"==PC(e)};var WC=US&&US.isSet;const YC=WC?FS(WC):HC;var KC="[object Arguments]",GC="[object Function]",QC="[object Object]",XC={};XC[KC]=XC["[object Array]"]=XC["[object ArrayBuffer]"]=XC["[object DataView]"]=XC["[object Boolean]"]=XC["[object Date]"]=XC["[object Float32Array]"]=XC["[object Float64Array]"]=XC["[object Int8Array]"]=XC["[object Int16Array]"]=XC["[object Int32Array]"]=XC["[object Map]"]=XC["[object Number]"]=XC[QC]=XC["[object RegExp]"]=XC["[object Set]"]=XC["[object String]"]=XC["[object Symbol]"]=XC["[object Uint8Array]"]=XC["[object Uint8ClampedArray]"]=XC["[object Uint16Array]"]=XC["[object Uint32Array]"]=!0,XC["[object Error]"]=XC[GC]=XC["[object WeakMap]"]=!1;const ZC=function e(t,n,r,s,i,a){var o,l=1&n,c=2&n,d=4&n;if(r&&(o=i?r(t,s,i,a):r(t)),void 0!==o)return o;if(!ck(t))return t;var u=wS(t);if(u){if(o=LC(t),!l)return oS(t,o)}else{var h=PC(t),m=h==GC||"[object GeneratorFunction]"==h;if(TS(t))return rS(t,l);if(h==QC||h==KC||m&&!i){if(o=c||m?{}:pS(t),!l)return c?mC(t,sC(o,t)):dC(t,rC(o,t))}else{if(!XC[h])return i?t:{};o=qC(t,h,l)}}a||(a=new Yk);var p=a.get(t);if(p)return p;a.set(t,o),YC(t)?t.forEach((function(s){o.add(e(s,n,r,s,t,a))})):$C(t)&&t.forEach((function(s,i){o.set(i,e(s,n,r,i,t,a))}));var f=u?void 0:(d?c?gC:fC:c?r_:nC)(t);return Z_(f||t,(function(s,i){f&&(s=t[i=s]),YS(o,i,e(s,n,r,i,t,a))})),o};const JC=function(e){return ZC(e,5)};const eE=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const tE=function(e){return this.__data__.has(e)};function nE(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $k;++t<n;)this.add(e[t])}nE.prototype.add=nE.prototype.push=eE,nE.prototype.has=tE;const rE=nE;const sE=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const iE=function(e,t){return e.has(t)};const aE=function(e,t,n,r,s,i){var a=1&n,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var u=-1,h=!0,m=2&n?new rE:void 0;for(i.set(e,t),i.set(t,e);++u<o;){var p=e[u],f=t[u];if(r)var g=a?r(f,p,u,t,e,i):r(p,f,u,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(m){if(!sE(t,(function(e,t){if(!iE(m,t)&&(p===e||s(p,e,n,r,i)))return m.push(t)}))){h=!1;break}}else if(p!==f&&!s(p,f,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h};const oE=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const lE=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var cE=JN?JN.prototype:void 0,dE=cE?cE.valueOf:void 0;const uE=function(e,t,n,r,s,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new sS(e),new sS(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return IN(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=oE;case"[object Set]":var l=1&r;if(o||(o=lE),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var d=aE(o(e),o(t),r,s,i,a);return a.delete(e),d;case"[object Symbol]":if(dE)return dE.call(e)==dE.call(t)}return!1};var hE=Object.prototype.hasOwnProperty;const mE=function(e,t,n,r,s,i){var a=1&n,o=fC(e),l=o.length;if(l!=fC(t).length&&!a)return!1;for(var c=l;c--;){var d=o[c];if(!(a?d in t:hE.call(t,d)))return!1}var u=i.get(e),h=i.get(t);if(u&&h)return u==t&&h==e;var m=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<l;){var f=e[d=o[c]],g=t[d];if(r)var x=a?r(g,f,d,t,e,i):r(f,g,d,e,t,i);if(!(void 0===x?f===g||s(f,g,n,r,i):x)){m=!1;break}p||(p="constructor"==d)}if(m&&!p){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(m=!1)}return i.delete(e),i.delete(t),m};var pE="[object Arguments]",fE="[object Array]",gE="[object Object]",xE=Object.prototype.hasOwnProperty;const yE=function(e,t,n,r,s,i){var a=wS(e),o=wS(t),l=a?fE:PC(e),c=o?fE:PC(t),d=(l=l==pE?gE:l)==gE,u=(c=c==pE?gE:c)==gE,h=l==c;if(h&&TS(e)){if(!TS(t))return!1;a=!0,d=!1}if(h&&!d)return i||(i=new Yk),a||$S(e)?aE(e,t,n,r,s,i):uE(e,t,l,n,r,s,i);if(!(1&n)){var m=d&&xE.call(e,"__wrapped__"),p=u&&xE.call(t,"__wrapped__");if(m||p){var f=m?e.value():e,g=p?t.value():t;return i||(i=new Yk),s(f,g,n,r,i)}}return!!h&&(i||(i=new Yk),mE(e,t,n,r,s,i))};const vE=function e(t,n,r,s,i){return t===n||(null==t||null==n||!fS(t)&&!fS(n)?t!==t&&n!==n:yE(t,n,r,s,e,i))};const bE=function(e,t){return vE(e,t)};class wE extends H_{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}wE.blotName="break",wE.tagName="BR";const jE=wE;class NE extends Q_{}const kE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function SE(e){return e.replace(/[&<>"']/g,(e=>kE[e]))}class _E extends B_{static allowedChildren=(()=>[_E,jE,H_,NE])();static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const n=_E.order.indexOf(e),r=_E.order.indexOf(t);return n>=0||r>=0?n-r:e===t?0:e<t?-1:1}formatAt(e,t,n,r){if(_E.compare(this.statics.blotName,n)<0&&this.scroll.query(n,w_.BLOT)){const s=this.isolate(e,t);r&&s.wrap(n,r)}else super.formatAt(e,t,n,r)}optimize(e){if(super.optimize(e),this.parent instanceof _E&&_E.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}const CE=_E;class EE extends U_{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=DE(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,n,r){t<=0||(this.scroll.query(n,w_.BLOCK)?e+t===this.length()&&this.format(n,r):super.formatAt(e,Math.min(t,this.length()-e-1),n,r),this.cache={})}insertAt(e,t,n){if(null!=n)return super.insertAt(e,t,n),void(this.cache={});if(0===t.length)return;const r=t.split("\n"),s=r.shift();s.length>0&&(e<this.length()-1||null==this.children.tail?super.insertAt(Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let i=this;r.reduce(((e,t)=>(i=i.split(e,!0),i.insertAt(0,t),t.length)),e+s.length)}insertBefore(e,t){const{head:n}=this.children;super.insertBefore(e,t),n instanceof jE&&n.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){const t=this.clone();return 0===e?(this.parent.insertBefore(t,this),this):(this.parent.insertBefore(t,this.next),t)}const n=super.split(e,t);return this.cache={},n}}EE.blotName="block",EE.tagName="P",EE.defaultChild=jE,EE.allowedChildren=[jE,CE,H_,NE];class TE extends H_{attach(){super.attach(),this.attributes=new D_(this.domNode)}delta(){return(new X_).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const n=this.scroll.query(e,w_.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}formatAt(e,t,n,r){this.format(n,r)}insertAt(e,t,n){if(null!=n)return void super.insertAt(e,t,n);const r=t.split("\n"),s=r.pop(),i=r.map((e=>{const t=this.scroll.create(EE.blotName);return t.insertAt(0,e),t})),a=this.split(e);i.forEach((e=>{this.parent.insertBefore(e,a)})),s&&this.parent.insertBefore(this.scroll.create("text",s),a)}}function DE(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.descendants(L_).reduce(((e,n)=>0===n.length()?e:e.insert(n.value(),AE(n,{},t))),new X_).insert("\n",AE(e))}function AE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==e?t:("formats"in e&&"function"===typeof e.formats&&(t={...t,...e.formats()},n&&delete t["code-token"]),null==e.parent||"scroll"===e.parent.statics.blotName||e.parent.statics.scope!==e.statics.scope?t:AE(e.parent,t,n))}TE.scope=w_.BLOCK_BLOT;class PE extends H_{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(e,t,n){super(e,t),this.selection=n,this.textNode=document.createTextNode(PE.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(e,t){if(0!==this.savedLength)return void super.format(e,t);let n=this,r=0;for(;null!=n&&n.statics.scope!==w_.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=PE.CONTENTS.length,n.optimize(),n.formatAt(r,PE.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const e=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof NE?this.prev:null,n=t?t.length():0,r=this.next instanceof NE?this.next:null,s=r?r.text:"",{textNode:i}=this,a=i.data.split(PE.CONTENTS).join("");let o;if(i.data=PE.CONTENTS,t)o=t,(a||r)&&(t.insertAt(t.length(),a+s),r&&r.remove());else if(r)o=r,r.insertAt(0,a);else{const e=document.createTextNode(a);o=this.scroll.create(e),this.parent.insertBefore(o,this)}if(this.remove(),e){const s=(e,s)=>t&&e===t.domNode?s:e===i?n+s-1:r&&e===r.domNode?n+a.length+s:null,l=s(e.start.node,e.start.offset),c=s(e.end.node,e.end.offset);if(null!==l&&null!==c)return{startNode:o.domNode,startOffset:l,endNode:o.domNode,endOffset:c}}return null}update(e,t){if(e.some((e=>"characterData"===e.type&&e.target===this.textNode))){const e=this.restore();e&&(t.range=e)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if("A"===t.domNode.tagName){this.savedLength=PE.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}const ME=PE;var LE=n(752);const OE=new WeakMap,RE=["error","warn","log","info"];let IE="warn";function FE(e){if(IE&&RE.indexOf(e)<=RE.indexOf(IE)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e](...n)}}function zE(e){return RE.reduce(((t,n)=>(t[n]=FE.bind(console,n,e),t)),{})}zE.level=e=>{IE=e},FE.level=zE.level;const BE=zE,qE=BE("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((e=>{document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((e=>{const n=OE.get(e);n&&n.emitter&&n.emitter.handleDOM(...t)}))}))}));const UE=class extends LE{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",qE.error)}emit(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qE.log.call(qE,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.domListeners[e.type]||[]).forEach((t=>{let{node:r,handler:s}=t;(e.target===r||r.contains(e.target))&&s(e,...n)}))}listenDOM(e,t,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:n})}},VE=BE("quill:selection");class $E{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=e,this.length=t}}function HE(e,t){try{t.parentNode}catch(Wj){return!1}return e.contains(t)}const WE=class{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new $E(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,UE.sources.USER),1)})),this.emitter.on(UE.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const e=this.getNativeRange();null!=e&&e.start.node!==this.cursor.textNode&&this.emitter.once(UE.events.SCROLL_UPDATE,((t,n)=>{try{this.root.contains(e.start.node)&&this.root.contains(e.end.node)&&this.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset);const r=n.some((e=>"characterData"===e.type||"childList"===e.type||"attributes"===e.type&&e.target===this.root));this.update(r?UE.sources.SILENT:t)}catch(r){}}))})),this.emitter.on(UE.events.SCROLL_OPTIMIZE,((e,t)=>{if(t.range){const{startNode:e,startOffset:n,endNode:r,endOffset:s}=t.range;this.setNativeRange(e,n,r,s),this.update(UE.sources.SILENT)}})),this.update(UE.sources.SILENT)}handleComposition(){this.emitter.on(UE.events.COMPOSITION_BEFORE_START,(()=>{this.composing=!0})),this.emitter.on(UE.events.COMPOSITION_END,(()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout((()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(UE.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(e,w_.BLOCK)){if(n.start.node!==this.cursor.textNode){const e=this.scroll.find(n.start.node,!1);if(null==e)return;if(e instanceof L_){const t=e.split(n.start.offset);e.parent.insertBefore(this.cursor,t)}else e.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.scroll.length();let r;e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;let[s,i]=this.scroll.leaf(e);if(null==s)return null;if(t>0&&i===s.length()){const[t]=this.scroll.leaf(e+1);if(t){const[n]=this.scroll.line(e),[r]=this.scroll.line(e+1);n===r&&(s=t,i=0)}}[r,i]=s.position(i,!0);const a=document.createRange();if(t>0)return a.setStart(r,i),[s,i]=this.scroll.leaf(e+t),null==s?null:([r,i]=s.position(i,!0),a.setEnd(r,i),a.getBoundingClientRect());let o,l="left";if(r instanceof Text){if(!r.data.length)return null;i<r.data.length?(a.setStart(r,i),a.setEnd(r,i+1)):(a.setStart(r,i-1),a.setEnd(r,i),l="right"),o=a.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;o=s.domNode.getBoundingClientRect(),i>0&&(l="right")}return{bottom:o.top+o.height,height:o.height,left:o[l],right:o[l],top:o.top,width:0}}getNativeRange(){const e=document.getSelection();if(null==e||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(null==t)return null;const n=this.normalizeNative(t);return VE.info("getNativeRange",n),n}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();if(null==t)return[null,null];return[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&HE(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const n=t.map((e=>{const[t,n]=e,r=this.scroll.find(t,!0),s=r.offset(this.scroll);return 0===n?s:r instanceof L_?s+r.index(t,n):s+r.length()})),r=Math.min(Math.max(...n),this.scroll.length()-1),s=Math.min(r,...n);return new $E(s,r-s)}normalizeNative(e){if(!HE(this.root,e.startContainer)||!e.collapsed&&!HE(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((e=>{let{node:t,offset:n}=e;for(;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;t=t.lastChild,n=t instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}rangeToNative(e){const t=this.scroll.length(),n=(e,n)=>{e=Math.min(t-1,e);const[r,s]=this.scroll.leaf(e);return r?r.position(s,n):[null,-1]};return[...n(e.index,!1),...n(e.index+e.length,!0)]}setNativeRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(VE.info("setNativeRange",e,t,n,r),null!=e&&(null==this.root.parentNode||null==e.parentNode||null==n.parentNode))return;const i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(null==a||s||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){e instanceof Element&&"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&"BR"===n.tagName&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const s=document.createRange();s.setStart(e,t),s.setEnd(n,r),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:UE.sources.API;if("string"===typeof t&&(n=t,t=!1),VE.info("setRange",e),null!=e){const n=this.rangeToNative(e);this.setNativeRange(...n,t)}else this.setNativeRange(null);this.update(n)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UE.sources.USER;const t=this.lastRange,[n,r]=this.getRange();if(this.lastRange=n,this.lastNative=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!bE(t,this.lastRange)){if(!this.composing&&null!=r&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const e=this.cursor.restore();e&&this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}const n=[UE.events.SELECTION_CHANGE,JC(this.lastRange),JC(t),e];this.emitter.emit(UE.events.EDITOR_CHANGE,...n),e!==UE.sources.SILENT&&this.emitter.emit(...n)}}},YE=/^[ -~]*$/;function KE(e,t,n){if(0===e.length){const[e]=XE(n.pop());return t<=0?`</li></${e}>`:`</li></${e}>${KE([],t-1,n)}`}const[{child:r,offset:s,length:i,indent:a,type:o},...l]=e,[c,d]=XE(o);if(a>t)return n.push(o),a===t+1?`<${c}><li${d}>${GE(r,s,i)}${KE(l,a,n)}`:`<${c}><li>${KE(e,t+1,n)}`;const u=n[n.length-1];if(a===t&&o===u)return`</li><li${d}>${GE(r,s,i)}${KE(l,a,n)}`;const[h]=XE(n.pop());return`</li></${h}>${KE(e,t-1,n)}`}function GE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in e&&"function"===typeof e.html)return e.html(t,n);if(e instanceof NE){return SE(e.value().slice(t,t+n)).replaceAll(" ","&nbsp;")}if(e instanceof F_){if("list-container"===e.statics.blotName){const r=[];return e.children.forEachAt(t,n,((e,t,n)=>{const s="formats"in e&&"function"===typeof e.formats?e.formats():{};r.push({child:e,offset:t,length:n,indent:s.indent||0,type:s.list})})),KE(r,-1,[])}const s=[];if(e.children.forEachAt(t,n,((e,t,n)=>{s.push(GE(e,t,n))})),r||"list"===e.statics.blotName)return s.join("");const{outerHTML:i,innerHTML:a}=e.domNode,[o,l]=i.split(`>${a}<`);return"<table"===o?`<table style="border: 1px solid #000;">${s.join("")}<${l}`:`${o}>${s.join("")}<${l}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function QE(e,t){return Object.keys(t).reduce(((n,r)=>{if(null==e[r])return n;const s=t[r];return s===e[r]?n[r]=s:Array.isArray(s)?s.indexOf(e[r])<0?n[r]=s.concat([e[r]]):n[r]=s:n[r]=[s,e[r]],n}),{})}function XE(e){const t="ordered"===e?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function ZE(e){return e.reduce(((e,t)=>{if("string"===typeof t.insert){const n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new X_)}function JE(e,t){let{index:n,length:r}=e;return new $E(n+t,r)}const eT=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const n=ZE(e),r=new X_,s=function(e){const t=[];return e.forEach((e=>{if("string"===typeof e.insert){e.insert.split("\n").forEach(((n,r)=>{r&&t.push({insert:"\n",attributes:e.attributes}),n&&t.push({insert:n,attributes:e.attributes})}))}else t.push(e)})),t}(n.ops.slice());return s.reduce(((e,n)=>{const s=X_.Op.length(n);let i=n.attributes||{},a=!1,o=!1;if(null!=n.insert){if(r.retain(s),"string"===typeof n.insert){const r=n.insert;o=!r.endsWith("\n")&&(t<=e||!!this.scroll.descendant(TE,e)[0]),this.scroll.insertAt(e,r);const[s,a]=this.scroll.line(e);let l=b_({},AE(s));if(s instanceof EE){const[e]=s.descendant(L_,a);e&&(l=b_(l,AE(e)))}i=X_.AttributeMap.diff(l,i)||{}}else if("object"===typeof n.insert){const r=Object.keys(n.insert)[0];if(null==r)return e;const s=null!=this.scroll.query(r,w_.INLINE);if(s)(t<=e||this.scroll.descendant(TE,e)[0])&&(o=!0);else if(e>0){const[t,n]=this.scroll.descendant(L_,e-1);if(t instanceof NE){"\n"!==t.value()[n]&&(a=!0)}else t instanceof H_&&t.statics.scope===w_.INLINE_BLOT&&(a=!0)}if(this.scroll.insertAt(e,r,n.insert[r]),s){const[t]=this.scroll.descendant(L_,e);if(t){const e=b_({},AE(t));i=X_.AttributeMap.diff(e,i)||{}}}}t+=s}else if(r.push(n),null!==n.retain&&"object"===typeof n.retain){const t=Object.keys(n.retain)[0];if(null==t)return e;this.scroll.updateEmbedAt(e,t,n.retain[t])}Object.keys(i).forEach((t=>{this.scroll.formatAt(e,s,t,i[t])}));const l=a?1:0,c=o?1:0;return t+=l+c,r.retain(l),r.delete(c),e+s+l+c}),0),r.reduce(((e,t)=>"number"===typeof t.delete?(this.scroll.deleteAt(e,t.delete),e):e+X_.Op.length(t)),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update((new X_).retain(e).delete(t))}formatLine(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach((r=>{this.scroll.lines(e,Math.max(t,1)).forEach((e=>{e.format(r,n[r])}))})),this.scroll.optimize();const r=(new X_).retain(e).retain(t,JC(n));return this.update(r)}formatText(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(n).forEach((r=>{this.scroll.formatAt(e,t,r,n[r])}));const r=(new X_).retain(e).retain(t,JC(n));return this.update(r)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce(((e,t)=>e.concat(t.delta())),new X_)}getFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((e=>{const[t]=e;t instanceof EE?n.push(t):t instanceof L_&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(L_,e,t));const[s,i]=[n,r].map((e=>{const t=e.shift();if(null==t)return{};let n=AE(t);for(;Object.keys(n).length>0;){const t=e.shift();if(null==t)return n;n=QE(AE(t),n)}return n}));return{...s,...i}}getHTML(e,t){const[n,r]=this.scroll.line(e);if(n){const s=n.length();return!(n.length()>=r+t)||0===r&&t===s?GE(this.scroll,e,t,!0):GE(n,r,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter((e=>"string"===typeof e.insert)).map((e=>e.insert)).join("")}insertContents(e,t){const n=ZE(t),r=(new X_).retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(r)}insertEmbed(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new X_).retain(e).insert({[t]:n}))}insertText(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((r=>{this.scroll.formatAt(e,t.length,r,n[r])})),this.update((new X_).retain(e).insert(t,JC(n)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==EE.blotName)return!1;const t=e;return!(t.children.length>1)&&t.children.head instanceof jE}removeFormat(e,t){const n=this.getText(e,t),[r,s]=this.scroll.line(e+t);let i=0,a=new X_;null!=r&&(i=r.length()-s,a=r.delta().slice(s,s+i-1).insert("\n"));const o=this.getContents(e,t+i).diff((new X_).insert(n).concat(a)),l=(new X_).retain(e).concat(o);return this.applyDelta(l)}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(YE)&&this.scroll.find(t[0].target)){const s=this.scroll.find(t[0].target),i=AE(s),a=s.offset(this.scroll),o=t[0].oldValue.replace(ME.CONTENTS,""),l=(new X_).insert(o),c=(new X_).insert(s.value()),d=n&&{oldRange:JE(n.oldRange,-a),newRange:JE(n.newRange,-a)};e=(new X_).retain(a).concat(l.diff(c,d)).reduce(((e,t)=>t.insert?e.insert(t.insert,i):e.push(t)),new X_),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&bE(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}};const tT=class{static DEFAULTS={};constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=e,this.options=t}},nT="\ufeff";const rT=class extends H_{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((e=>{this.contentNode.appendChild(e)})),this.leftGuard=document.createTextNode(nT),this.rightGuard=document.createTextNode(nT),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t,n=null;const r=e.data.split(nT).join("");if(e===this.leftGuard)if(this.prev instanceof NE){const e=this.prev.length();this.prev.insertAt(e,r),n={startNode:this.prev.domNode,startOffset:e+r.length}}else t=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(t),this),n={startNode:t,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof NE?(this.next.insertAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(t=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(t),this.next),n={startNode:t,startOffset:r.length}));return e.data=nT,n}update(e,t){e.forEach((e=>{if("characterData"===e.type&&(e.target===this.leftGuard||e.target===this.rightGuard)){const n=this.restore(e.target);n&&(t.range=n)}}))}};const sT=class{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(e=>{this.isComposing||this.handleCompositionStart(e)})),this.scroll.domNode.addEventListener("compositionend",(e=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(e)}))}))}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;!t||t instanceof rT||(this.emitter.emit(UE.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(UE.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(UE.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(UE.events.COMPOSITION_END,e),this.isComposing=!1}};class iT{static DEFAULTS={modules:{}};static themes=(()=>({default:iT}))();modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach((e=>{null==this.modules[e]&&this.addModule(e)}))}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const aT=iT,oT=e=>{const t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*r,left:t.left}},lT=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},cT=(e,t,n,r,s,i)=>e<n&&t>r?0:e<n?-(n-e+s):t>r?t-e>r-n?e+s-n:t-r+i:0,dT=(e,t)=>{const n=e.ownerDocument;let r=t,s=e;for(;s;){const e=s===n.body,t=e?{top:0,right:window.visualViewport?.width??n.documentElement.clientWidth,bottom:window.visualViewport?.height??n.documentElement.clientHeight,left:0}:oT(s),a=getComputedStyle(s),o=cT(r.left,r.right,t.left,t.right,lT(a.scrollPaddingLeft),lT(a.scrollPaddingRight)),l=cT(r.top,r.bottom,t.top,t.bottom,lT(a.scrollPaddingTop),lT(a.scrollPaddingBottom));if(o||l)if(e)n.defaultView?.scrollBy(o,l);else{const{scrollLeft:e,scrollTop:t}=s;l&&(s.scrollTop+=l),o&&(s.scrollLeft+=o);const n=s.scrollLeft-e,i=s.scrollTop-t;r={left:r.left-n,top:r.top-i,right:r.right-n,bottom:r.bottom-i}}s=e||"fixed"===a.position?null:(i=s).parentElement||i.getRootNode().host||null}var i},uT=["block","break","cursor","inline","scroll","text"],hT=(e,t,n)=>{const r=new S_;return uT.forEach((e=>{const n=t.query(e);n&&r.register(n)})),e.forEach((e=>{let s=t.query(e);s||n.error(`Cannot register "${e}" specified in "formats" config. Are you sure it was registered?`);let i=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,i+=1,i>100){n.error(`Cycle detected in registering blot requiredContainer: "${e}"`);break}})),r},mT=BE("quill"),pT=new S_;F_.uiClass="ql-ui";class fT{static DEFAULTS=(()=>({bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:pT,theme:"default"}))();static events=(()=>UE.events)();static sources=(()=>UE.sources)();static version="2.0.3";static imports=(()=>({delta:X_,parchment:t,"core/module":tT,"core/theme":aT}))();static debug(e){!0===e&&(e="log"),BE.level(e)}static find(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return OE.get(e)||pT.find(e,t)}static import(e){return null==this.imports[e]&&mT.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if("string"!==typeof(arguments.length<=0?void 0:arguments[0])){const e=arguments.length<=0?void 0:arguments[0],t=!!(arguments.length<=1?void 0:arguments[1]),n="attrName"in e?e.attrName:e.blotName;"string"===typeof n?this.register(`formats/${n}`,e,t):Object.keys(e).forEach((n=>{this.register(n,e[n],t)}))}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[e]||n||mT.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&"boolean"!==typeof t&&"abstract"!==t.blotName&&pT.register(t),"function"===typeof t.register&&t.register(pT)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(e,t){const n=gT(e);if(!n)throw new Error("Invalid Quill container");const r=!t.theme||t.theme===fT.DEFAULTS.theme,s=r?aT:fT.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...a}=fT.DEFAULTS,{modules:o,...l}=s.DEFAULTS;let c=xT(t.modules);null!=c&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const d=b_({},xT(i),xT(o),c),u={...a,...yT(l),...yT(t)};let h=t.registry;h?t.formats&&mT.warn('Ignoring "formats" option because "registry" is specified'):h=t.formats?hT(t.formats,u.registry,mT):u.registry;return{...u,registry:h,container:n,theme:s,modules:Object.entries(d).reduce(((e,t)=>{let[n,r]=t;if(!r)return e;const s=fT.import(`modules/${n}`);return null==s?(mT.error(`Cannot load ${n} module. Are you sure you registered it?`),e):{...e,[n]:b_({},s.DEFAULTS||{},r)}}),{}),bounds:gT(u.bounds)}}(e,t),this.container=this.options.container,null==this.container)return void mT.error("Invalid Quill container",e);this.options.debug&&fT.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",OE.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new UE;const r=K_.blotName,s=this.options.registry.query(r);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new eT(this.scroll),this.selection=new WE(this.scroll,this.emitter),this.composition=new sT(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(UE.events.EDITOR_CHANGE,(e=>{e===UE.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(UE.events.SCROLL_UPDATE,((e,t)=>{const n=this.selection.lastRange,[r]=this.selection.getRange(),s=n&&r?{oldRange:n,newRange:r}:void 0;vT.call(this,(()=>this.editor.update(null,t,s)),e)})),this.emitter.on(UE.events.SCROLL_EMBED_UPDATE,((e,t)=>{const n=this.selection.lastRange,[r]=this.selection.getRange(),s=n&&r?{oldRange:n,newRange:r}:void 0;vT.call(this,(()=>{const n=(new X_).retain(e.offset(this)).retain({[e.statics.blotName]:t});return this.editor.update(n,[],s)}),fT.sources.USER)})),n){const e=this.clipboard.convert({html:`${n}<p><br></p>`,text:"\n"});this.setContents(e)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){const t=e;(e=document.createElement("div")).classList.add(t)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,n){return[e,t,,n]=bT(e,t,n),vT.call(this,(()=>this.editor.deleteText(e,t)),n,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:UE.sources.API;return vT.call(this,(()=>{const n=this.getSelection(!0);let r=new X_;if(null==n)return r;if(this.scroll.query(e,w_.BLOCK))r=this.editor.formatLine(n.index,n.length,{[e]:t});else{if(0===n.length)return this.selection.format(e,t),r;r=this.editor.formatText(n.index,n.length,{[e]:t})}return this.setSelection(n,UE.sources.SILENT),r}),n)}formatLine(e,t,n,r,s){let i;return[e,t,i,s]=bT(e,t,n,r,s),vT.call(this,(()=>this.editor.formatLine(e,t,i)),s,e,0)}formatText(e,t,n,r,s){let i;return[e,t,i,s]=bT(e,t,n,r,s),vT.call(this,(()=>this.editor.formatText(e,t,i)),s,e,0)}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null;if(n="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length),!n)return null;const r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}getContents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e;return[e,t]=bT(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"===typeof e&&(t=t??this.getLength()-e),[e,t]=bT(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"===typeof e&&(t=t??this.getLength()-e),[e,t]=bT(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fT.sources.API;return vT.call(this,(()=>this.editor.insertEmbed(e,t,n)),r,e)}insertText(e,t,n,r,s){let i;return[e,,i,s]=bT(e,0,n,r,s),vT.call(this,(()=>this.editor.insertText(e,t,i)),s,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,n){return[e,t,,n]=bT(e,t,n),vT.call(this,(()=>this.editor.removeFormat(e,t)),n,e)}scrollRectIntoView(e){dT(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UE.sources.API;return vT.call(this,(()=>{e=new X_(e);const t=this.getLength(),n=this.editor.deleteText(0,t),r=this.editor.insertContents(0,e),s=this.editor.deleteText(this.getLength()-1,1);return n.compose(r).compose(s)}),t)}setSelection(e,t,n){null==e?this.selection.setRange(null,t||fT.sources.API):([e,t,,n]=bT(e,t,n),this.selection.setRange(new $E(Math.max(0,e),t),n),n!==UE.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UE.sources.API;const n=(new X_).insert(e);return this.setContents(n,t)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UE.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UE.sources.API;return vT.call(this,(()=>(e=new X_(e),this.editor.applyDelta(e))),t,!0)}}function gT(e){return"string"===typeof e?document.querySelector(e):e}function xT(e){return Object.entries(e??{}).reduce(((e,t)=>{let[n,r]=t;return{...e,[n]:!0===r?{}:r}}),{})}function yT(e){return Object.fromEntries(Object.entries(e).filter((e=>void 0!==e[1])))}function vT(e,t,n,r){if(!this.isEnabled()&&t===UE.sources.USER&&!this.allowReadOnlyEdits)return new X_;let s=null==n?null:this.getSelection();const i=this.editor.delta,a=e();if(null!=s&&(!0===n&&(n=s.index),null==r?s=wT(s,a,t):0!==r&&(s=wT(s,n,r,t)),this.setSelection(s,UE.sources.SILENT)),a.length()>0){const e=[UE.events.TEXT_CHANGE,a,i,t];this.emitter.emit(UE.events.EDITOR_CHANGE,...e),t!==UE.sources.SILENT&&this.emitter.emit(...e)}return a}function bT(e,t,n,r,s){let i={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(s=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(s=r,r=n,n=t,t=0),"object"===typeof n?(i=n,s=r):"string"===typeof n&&(null!=r?i[n]=r:s=n),[e,t,i,s=s||UE.sources.API]}function wT(e,t,n,r){const s="number"===typeof n?n:0;if(null==e)return null;let i,a;return t&&"function"===typeof t.transformPosition?[i,a]=[e.index,e.index+e.length].map((e=>t.transformPosition(e,r!==UE.sources.USER))):[i,a]=[e.index,e.index+e.length].map((e=>e<t||e===t&&r===UE.sources.USER?e:s>=0?e+s:Math.max(t,e+s))),new $E(i,a-i)}const jT=class extends $_{};function NT(e){return e instanceof EE||e instanceof TE}function kT(e){return"function"===typeof e.updateContent}class ST extends K_{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=(()=>EE)();static allowedChildren=(()=>[EE,TE,jT])();constructor(e,t,n){let{emitter:r}=n;super(e,t),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(e=>this.handleDragStart(e)))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(UE.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(UE.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(UE.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[n,r]=this.line(e),[s]=this.line(e+t);if(super.deleteAt(e,t),null!=s&&n!==s&&r>0){if(n instanceof TE||s instanceof TE)return void this.optimize();const e=s.children.head instanceof jE?null:s.children.head;n.moveChildren(s,e),n.remove()}this.optimize()}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,n,r){super.formatAt(e,t,n,r),this.optimize()}insertAt(e,t,n){if(e>=this.length())if(null==n||null==this.scroll.query(t,w_.BLOCK)){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e),null==n&&t.endsWith("\n")?e.insertAt(0,t.slice(0,-1),n):e.insertAt(0,t,n)}else{const e=this.scroll.create(t,n);this.appendChild(e)}else super.insertAt(e,t,n);this.optimize()}insertBefore(e,t){if(e.statics.scope===w_.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),super.insertBefore(n,t)}else super.insertBefore(e,t)}insertContents(e,t){const n=this.deltaToRenderBlocks(t.concat((new X_).insert("\n"))),r=n.pop();if(null==r)return;this.batchStart();const s=n.shift();if(s){const t="block"===s.type&&(0===s.delta.length()||!this.descendant(TE,e)[0]&&e<this.length()),n="block"===s.type?s.delta:(new X_).insert({[s.key]:s.value});_T(this,e,n);const r="block"===s.type?1:0,i=e+n.length()+r;t&&this.insertAt(i-1,"\n");const a=AE(this.line(e)[0]),o=X_.AttributeMap.diff(a,s.attributes)||{};Object.keys(o).forEach((e=>{this.formatAt(i-1,1,e,o[e])})),e=i}let[i,a]=this.children.find(e);if(n.length&&(i&&(i=i.split(a),a=0),n.forEach((e=>{if("block"===e.type){_T(this.createBlock(e.attributes,i||void 0),0,e.delta)}else{const t=this.create(e.key,e.value);this.insertBefore(t,i||void 0),Object.keys(e.attributes).forEach((n=>{t.format(n,e.attributes[n])}))}}))),"block"===r.type&&r.delta.length()){_T(this,i?i.offset(i.scroll)+a:this.length(),r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[n,r]=t;return n instanceof L_?[n,r]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(NT,e)}lines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;const n=(e,t,r)=>{let s=[],i=r;return e.children.forEachAt(t,r,((e,t,r)=>{NT(e)?s.push(e):e instanceof $_&&(s=s.concat(n(e,t,i))),i-=r})),s};return n(this,e,t)}optimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(UE.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch)return void(Array.isArray(e)&&(this.batch=this.batch.concat(e)));let t=UE.sources.USER;"string"===typeof e&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),(e=e.filter((e=>{let{target:t}=e;const n=this.find(t,!0);return n&&!kT(n)}))).length>0&&this.emitter.emit(UE.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(UE.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,n){const[r]=this.descendant((e=>e instanceof TE),e);r&&r.statics.blotName===t&&kT(r)&&r.updateContent(n)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let n=new X_;return e.forEach((e=>{const r=e?.insert;if(r)if("string"===typeof r){const s=r.split("\n");s.slice(0,-1).forEach((r=>{n.insert(r,e.attributes),t.push({type:"block",delta:n,attributes:e.attributes??{}}),n=new X_}));const i=s[s.length-1];i&&n.insert(i,e.attributes)}else{const s=Object.keys(r)[0];if(!s)return;this.query(s,w_.INLINE)?n.push(e):(n.length()&&t.push({type:"block",delta:n,attributes:{}}),n=new X_,t.push({type:"blockEmbed",key:s,value:r[s],attributes:e.attributes??{}}))}})),n.length()&&t.push({type:"block",delta:n,attributes:{}}),t}createBlock(e,t){let n;const r={};Object.entries(e).forEach((e=>{let[t,s]=e;null!=this.query(t,w_.BLOCK&w_.BLOT)?n=t:r[t]=s}));const s=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(s,t||void 0);const i=s.length();return Object.entries(r).forEach((e=>{let[t,n]=e;s.formatAt(0,i,t,n)})),s}}function _T(e,t,n){n.reduce(((t,n)=>{const r=X_.Op.length(n);let s=n.attributes||{};if(null!=n.insert)if("string"===typeof n.insert){const r=n.insert;e.insertAt(t,r);const[i]=e.descendant(L_,t),a=AE(i);s=X_.AttributeMap.diff(a,s)||{}}else if("object"===typeof n.insert){const r=Object.keys(n.insert)[0];if(null==r)return t;e.insertAt(t,r,n.insert[r]);if(null!=e.scroll.query(r,w_.INLINE)){const[n]=e.descendant(L_,t),r=AE(n);s=X_.AttributeMap.diff(r,s)||{}}}return Object.keys(s).forEach((n=>{e.formatAt(t,r,n,s[n])})),t+r}),t)}const CT=ST,ET={scope:w_.BLOCK,whitelist:["right","center","justify"]},TT=new j_("align","align",ET),DT=new C_("align","ql-align",ET),AT=new T_("align","text-align",ET);class PT extends T_{value(e){let t=super.value(e);if(!t.startsWith("rgb("))return t;t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");return`#${t.split(",").map((e=>`00${parseInt(e,10).toString(16)}`.slice(-2))).join("")}`}}const MT=new C_("color","ql-color",{scope:w_.INLINE}),LT=new PT("color","color",{scope:w_.INLINE}),OT=new C_("background","ql-bg",{scope:w_.INLINE}),RT=new PT("background","background-color",{scope:w_.INLINE});class IT extends jT{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map((e=>e.length()<=1?"":e.domNode.innerText)).join("\n").slice(e,e+t)}html(e,t){return`<pre>\n${SE(this.code(e,t))}\n</pre>`}}class FT extends EE{static TAB="  ";static register(){fT.register(IT)}}class zT extends CE{}zT.blotName="code",zT.tagName="CODE",FT.blotName="code-block",FT.className="ql-code-block",FT.tagName="DIV",IT.blotName="code-block-container",IT.className="ql-code-block-container",IT.tagName="DIV",IT.allowedChildren=[FT],FT.allowedChildren=[NE,jE,ME],FT.requiredContainer=IT;const BT={scope:w_.BLOCK,whitelist:["rtl"]},qT=new j_("direction","dir",BT),UT=new C_("direction","ql-direction",BT),VT=new T_("direction","direction",BT),$T={scope:w_.INLINE,whitelist:["serif","monospace"]},HT=new C_("font","ql-font",$T);const WT=new class extends T_{value(e){return super.value(e).replace(/["']/g,"")}}("font","font-family",$T),YT=new C_("size","ql-size",{scope:w_.INLINE,whitelist:["small","large","huge"]}),KT=new T_("size","font-size",{scope:w_.INLINE,whitelist:["10px","18px","32px"]}),GT=BE("quill:keyboard"),QT=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class XT extends tT{static match(e,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some((n=>!!t[n]!==e[n]&&null!==t[n]))&&(t.key===e.key||t.key===e.which)}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach((e=>{this.options.bindings[e]&&this.addBinding(this.options.bindings[e])})),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(e){if("string"===typeof e||"number"===typeof e)e={key:e};else{if("object"!==typeof e)return null;e=JC(e)}e.shortKey&&(e[QT]=e.shortKey,delete e.shortKey);return e}(e);if(null==r)return void GT.warn("Attempted to add invalid keyboard binding",r);"function"===typeof t&&(t={handler:t}),"function"===typeof n&&(n={handler:n});(Array.isArray(r.key)?r.key:[r.key]).forEach((e=>{const s={...r,key:e,...t,...n};this.bindings[s.key]=this.bindings[s.key]||[],this.bindings[s.key].push(s)}))}listen(){this.quill.root.addEventListener("keydown",(e=>{if(e.defaultPrevented||e.isComposing)return;if(229===e.keyCode&&("Enter"===e.key||"Backspace"===e.key))return;const t=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter((t=>XT.match(e,t)));if(0===t.length)return;const n=fT.find(e.target,!0);if(n&&n.scroll!==this.quill.scroll)return;const r=this.quill.getSelection();if(null==r||!this.quill.hasFocus())return;const[s,i]=this.quill.getLine(r.index),[a,o]=this.quill.getLeaf(r.index),[l,c]=0===r.length?[a,o]:this.quill.getLeaf(r.index+r.length),d=a instanceof Q_?a.value().slice(0,o):"",u=l instanceof Q_?l.value().slice(c):"",h={collapsed:0===r.length,empty:0===r.length&&s.length()<=1,format:this.quill.getFormat(r),line:s,offset:i,prefix:d,suffix:u,event:e};t.some((e=>{if(null!=e.collapsed&&e.collapsed!==h.collapsed)return!1;if(null!=e.empty&&e.empty!==h.empty)return!1;if(null!=e.offset&&e.offset!==h.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((e=>null==h.format[e])))return!1}else if("object"===typeof e.format&&!Object.keys(e.format).every((t=>!0===e.format[t]?null!=h.format[t]:!1===e.format[t]?null==h.format[t]:bE(e.format[t],h.format[t]))))return!1;return!(null!=e.prefix&&!e.prefix.test(h.prefix))&&(!(null!=e.suffix&&!e.suffix.test(h.suffix))&&!0!==e.handler.call(this,r,h,e))}))&&e.preventDefault()}))}handleBackspace(e,t){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(0===e.index||this.quill.getLength()<=1)return;let r={};const[s]=this.quill.getLine(e.index);let i=(new X_).retain(e.index-n).delete(n);if(0===t.offset){const[t]=this.quill.getLine(e.index-1);if(t){if(!("block"===t.statics.blotName&&t.length()<=1)){const t=s.formats(),n=this.quill.getFormat(e.index-1,1);if(r=X_.AttributeMap.diff(t,n)||{},Object.keys(r).length>0){const t=(new X_).retain(e.index+s.length()-2).retain(1,r);i=i.compose(t)}}}}this.quill.updateContents(i,fT.sources.USER),this.quill.focus()}handleDelete(e,t){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-n)return;let r={};const[s]=this.quill.getLine(e.index);let i=(new X_).retain(e.index).delete(n);if(t.offset>=s.length()-1){const[t]=this.quill.getLine(e.index+1);if(t){const n=s.formats(),a=this.quill.getFormat(e.index,1);r=X_.AttributeMap.diff(n,a)||{},Object.keys(r).length>0&&(i=i.retain(t.length()-1).retain(1,r))}}this.quill.updateContents(i,fT.sources.USER),this.quill.focus()}handleDeleteRange(e){rD({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const n=Object.keys(t.format).reduce(((e,n)=>(this.quill.scroll.query(n,w_.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e)),{}),r=(new X_).retain(e.index).delete(e.length).insert("\n",n);this.quill.updateContents(r,fT.sources.USER),this.quill.setSelection(e.index+1,fT.sources.SILENT),this.quill.focus()}}const ZT={bindings:{bold:tD("bold"),italic:tD("italic"),underline:tD("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",fT.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",fT.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){null!=t.format.indent?this.quill.format("indent","-1",fT.sources.USER):null!=t.format.list&&this.quill.format("list",!1,fT.sources.USER)}},"indent code-block":JT(!0),"outdent code-block":JT(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,fT.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=(new X_).retain(e.index).delete(e.length).insert("\t");return this.quill.updateContents(n,fT.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,fT.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,fT.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,fT.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,n]=this.quill.getLine(e.index),r={...t.formats(),list:"checked"},s=(new X_).retain(e.index).insert("\n",r).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,fT.sources.USER),this.quill.setSelection(e.index+1,fT.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[n,r]=this.quill.getLine(e.index),s=(new X_).retain(e.index).insert("\n",t.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(s,fT.sources.USER),this.quill.setSelection(e.index+1,fT.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[n,r,s,i]=t.getTable(e),a=function(e,t,n,r){if(null==t.prev&&null==t.next)return null==n.prev&&null==n.next?0===r?-1:1:null==n.prev?-1:1;if(null==t.prev)return-1;if(null==t.next)return 1;return null}(0,r,s,i);if(null==a)return;let o=n.offset();if(a<0){const t=(new X_).retain(o).insert("\n");this.quill.updateContents(t,fT.sources.USER),this.quill.setSelection(e.index+1,e.length,fT.sources.SILENT)}else if(a>0){o+=n.length();const e=(new X_).retain(o).insert("\n");this.quill.updateContents(e,fT.sources.USER),this.quill.setSelection(o,fT.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:n,line:r}=t,s=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(s-1,fT.sources.USER):this.quill.setSelection(s+r.length(),fT.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(null==this.quill.scroll.query("list"))return!0;const{length:n}=t.prefix,[r,s]=this.quill.getLine(e.index);if(s>n)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(e.index," ",fT.sources.USER),this.quill.history.cutoff();const a=(new X_).retain(e.index-s).delete(n+1).retain(r.length()-2-s).retain(1,{list:i});return this.quill.updateContents(a,fT.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,fT.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,n]=this.quill.getLine(e.index);let r=2,s=t;for(;null!=s&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,r-=1,r<=0){const r=(new X_).retain(e.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(r,fT.sources.USER),this.quill.setSelection(e.index-1,fT.sources.SILENT),!1}return!0}},"embed left":eD("ArrowLeft",!1),"embed left shift":eD("ArrowLeft",!0),"embed right":eD("ArrowRight",!1),"embed right shift":eD("ArrowRight",!0),"table down":nD(!1),"table up":nD(!0)}};function JT(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,n){let{event:r}=n;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(0===t.length&&!r.shiftKey)return this.quill.insertText(t.index,i,fT.sources.USER),void this.quill.setSelection(t.index+i.length,fT.sources.SILENT);const a=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:o,length:l}=t;a.forEach(((t,n)=>{e?(t.insertAt(0,i),0===n?o+=i.length:l+=i.length):t.domNode.textContent.startsWith(i)&&(t.deleteAt(0,i.length),0===n?o-=i.length:l-=i.length)})),this.quill.update(fT.sources.USER),this.quill.setSelection(o,l,fT.sources.SILENT)}}}function eD(e,t){const n="ArrowLeft"===e?"prefix":"suffix";return{key:e,shiftKey:t,altKey:null,[n]:/^$/,handler(n){let{index:r}=n;"ArrowRight"===e&&(r+=n.length+1);const[s]=this.quill.getLeaf(r);return!(s instanceof H_)||("ArrowLeft"===e?t?this.quill.setSelection(n.index-1,n.length+1,fT.sources.USER):this.quill.setSelection(n.index-1,fT.sources.USER):t?this.quill.setSelection(n.index,n.length+1,fT.sources.USER):this.quill.setSelection(n.index+n.length+1,fT.sources.USER),!1)}}}function tD(e){return{key:e[0],shortKey:!0,handler(t,n){this.quill.format(e,!n.format[e],fT.sources.USER)}}}function nD(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const r=e?"prev":"next",s=n.line,i=s.parent[r];if(null!=i){if("table-row"===i.statics.blotName){let e=i.children.head,t=s;for(;null!=t.prev;)t=t.prev,e=e.next;const r=e.offset(this.quill.scroll)+Math.min(n.offset,e.length()-1);this.quill.setSelection(r,0,fT.sources.USER)}}else{const t=s.table()[r];null!=t&&(e?this.quill.setSelection(t.offset(this.quill.scroll)+t.length()-1,0,fT.sources.USER):this.quill.setSelection(t.offset(this.quill.scroll),0,fT.sources.USER))}return!1}}}function rD(e){let{quill:t,range:n}=e;const r=t.getLines(n);let s={};if(r.length>1){const e=r[0].formats(),t=r[r.length-1].formats();s=X_.AttributeMap.diff(t,e)||{}}t.deleteText(n,fT.sources.USER),Object.keys(s).length>0&&t.formatLine(n.index,1,s,fT.sources.USER),t.setSelection(n.index,fT.sources.SILENT)}XT.DEFAULTS=ZT;const sD=/font-weight:\s*normal/,iD=["P","OL","UL"],aD=e=>e&&iD.includes(e.tagName);const oD=/\bmso-list:[^;]*ignore/i,lD=/\bmso-list:[^;]*\bl(\d+)/i,cD=/\bmso-list:[^;]*\blevel(\d+)/i,dD=e=>{const t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],r=[];t.forEach((e=>{(e.getAttribute("style")||"").match(oD)?n.push(e):r.push(e)})),n.forEach((e=>e.parentNode?.removeChild(e)));const s=e.documentElement.innerHTML,i=r.map((e=>((e,t)=>{const n=e.getAttribute("style"),r=n?.match(lD);if(!r)return null;const s=Number(r[1]),i=n?.match(cD),a=i?Number(i[1]):1,o=new RegExp(`@list l${s}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=t.match(o);return{id:s,indent:a,type:l&&"bullet"===l[1]?"bullet":"ordered",element:e}})(e,s))).filter((e=>e));for(;i.length;){const e=[];let t=i.shift();for(;t;)e.push(t),t=i.length&&i[0]?.element===t.element.nextElementSibling&&i[0].id===t.id?i.shift():null;const n=document.createElement("ul");e.forEach((e=>{const t=document.createElement("li");t.setAttribute("data-list",e.type),e.indent>1&&t.setAttribute("class","ql-indent-"+(e.indent-1)),t.innerHTML=e.element.innerHTML,n.appendChild(t)}));const r=e[0]?.element,{parentNode:s}=r??{};r&&s?.replaceChild(n,r),e.slice(1).forEach((e=>{let{element:t}=e;s?.removeChild(t)}))}};const uD=[function(e){"urn:schemas-microsoft-com:office:word"===e.documentElement.getAttribute("xmlns:w")&&dD(e)},function(e){e.querySelector('[id^="docs-internal-guid-"]')&&((e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter((e=>e.getAttribute("style")?.match(sD))).forEach((t=>{const n=e.createDocumentFragment();n.append(...t.childNodes),t.parentNode?.replaceChild(n,t)}))})(e),(e=>{Array.from(e.querySelectorAll("br")).filter((e=>aD(e.previousElementSibling)&&aD(e.nextElementSibling))).forEach((e=>{e.parentNode?.removeChild(e)}))})(e))}],hD=e=>{e.documentElement&&uD.forEach((t=>{t(e)}))},mD=BE("quill:clipboard"),pD=[[Node.TEXT_NODE,function(e,t,n){let r=e.data;if("O:P"===e.parentElement?.tagName)return t.insert(r.trim());if(!wD(e)){if(0===r.trim().length&&r.includes("\n")&&!function(e,t){return e.previousElementSibling&&e.nextElementSibling&&!vD(e.previousElementSibling,t)&&!vD(e.nextElementSibling,t)}(e,n))return t;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(null==e.previousSibling&&null!=e.parentElement&&vD(e.parentElement,n)||e.previousSibling instanceof Element&&vD(e.previousSibling,n))&&(r=r.replace(/^ /,"")),(null==e.nextSibling&&null!=e.parentElement&&vD(e.parentElement,n)||e.nextSibling instanceof Element&&vD(e.nextSibling,n))&&(r=r.replace(/ $/,"")),r=r.replaceAll("\xa0"," ")}return t.insert(r)}],[Node.TEXT_NODE,kD],["br",function(e,t){yD(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,kD],[Node.ELEMENT_NODE,function(e,t,n){const r=n.query(e);if(null==r)return t;if(r.prototype instanceof H_){const t={},s=r.value(e);if(null!=s)return t[r.blotName]=s,(new X_).insert(t,r.formats(e,n))}else if(r.prototype instanceof U_&&!yD(t,"\n")&&t.insert("\n"),"blotName"in r&&"formats"in r&&"function"===typeof r.formats)return xD(t,r.blotName,r.formats(e,n),n);return t}],[Node.ELEMENT_NODE,function(e,t,n){const r=j_.keys(e),s=C_.keys(e),i=T_.keys(e),a={};return r.concat(s).concat(i).forEach((t=>{let r=n.query(t,w_.ATTRIBUTE);null!=r&&(a[r.attrName]=r.value(e),a[r.attrName])||(r=fD[t],null==r||r.attrName!==t&&r.keyName!==t||(a[r.attrName]=r.value(e)||void 0),r=gD[t],null==r||r.attrName!==t&&r.keyName!==t||(r=gD[t],a[r.attrName]=r.value(e)||void 0))})),Object.entries(a).reduce(((e,t)=>{let[r,s]=t;return xD(e,r,s,n)}),t)}],[Node.ELEMENT_NODE,function(e,t,n){const r={},s=e.style||{};"italic"===s.fontStyle&&(r.italic=!0);"underline"===s.textDecoration&&(r.underline=!0);"line-through"===s.textDecoration&&(r.strike=!0);(s.fontWeight?.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(r.bold=!0);if(t=Object.entries(r).reduce(((e,t)=>{let[r,s]=t;return xD(e,r,s,n)}),t),parseFloat(s.textIndent||0)>0)return(new X_).insert("\t").concat(t);return t}],["li",function(e,t,n){const r=n.query(e);if(null==r||"list"!==r.blotName||!yD(t,"\n"))return t;let s=-1,i=e.parentNode;for(;null!=i;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?t:t.reduce(((e,t)=>t.insert?t.attributes&&"number"===typeof t.attributes.indent?e.push(t):e.insert(t.insert,{indent:s,...t.attributes||{}}):e),new X_)}],["ol, ul",function(e,t,n){const r=e;let s="OL"===r.tagName?"ordered":"bullet";const i=r.getAttribute("data-checked");i&&(s="true"===i?"checked":"unchecked");return xD(t,"list",s,n)}],["pre",function(e,t,n){const r=n.query("code-block"),s=!r||!("formats"in r)||"function"!==typeof r.formats||r.formats(e,n);return xD(t,"code-block",s,n)}],["tr",function(e,t,n){const r="TABLE"===e.parentElement?.tagName?e.parentElement:e.parentElement?.parentElement;if(null!=r){return xD(t,"table",Array.from(r.querySelectorAll("tr")).indexOf(e)+1,n)}return t}],["b",ND("bold")],["i",ND("italic")],["strike",ND("strike")],["style",function(){return new X_}]],fD=[TT,qT].reduce(((e,t)=>(e[t.keyName]=t,e)),{}),gD=[AT,RT,LT,VT,WT,KT].reduce(((e,t)=>(e[t.keyName]=t,e)),{});function xD(e,t,n,r){return r.query(t)?e.reduce(((e,r)=>{if(!r.insert)return e;if(r.attributes&&r.attributes[t])return e.push(r);const s=n?{[t]:n}:{};return e.insert(r.insert,{...s,...r.attributes})}),new X_):e}function yD(e,t){let n="";for(let r=e.ops.length-1;r>=0&&n.length<t.length;--r){const t=e.ops[r];if("string"!==typeof t.insert)break;n=t.insert+n}return n.slice(-1*t.length)===t}function vD(e,t){if(!(e instanceof Element))return!1;const n=t.query(e);return!(n&&n.prototype instanceof H_)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}const bD=new WeakMap;function wD(e){return null!=e&&(bD.has(e)||("PRE"===e.tagName?bD.set(e,!0):bD.set(e,wD(e.parentNode))),bD.get(e))}function jD(e,t,n,r,s){return t.nodeType===t.TEXT_NODE?r.reduce(((n,r)=>r(t,n,e)),new X_):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce(((i,a)=>{let o=jD(e,a,n,r,s);return a.nodeType===t.ELEMENT_NODE&&(o=n.reduce(((t,n)=>n(a,t,e)),o),o=(s.get(a)||[]).reduce(((t,n)=>n(a,t,e)),o)),i.concat(o)}),new X_):new X_}function ND(e){return(t,n,r)=>xD(n,e,!0,r)}function kD(e,t,n){if(!yD(t,"\n")){if(vD(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert("\n");if(t.length()>0&&e.nextSibling){let r=e.nextSibling;for(;null!=r;){if(vD(r,n))return t.insert("\n");const e=n.query(r);if(e&&e.prototype instanceof TE)return t.insert("\n");r=r.firstChild}}}return t}function SD(e,t){let n=t;for(let r=e.length-1;r>=0;r-=1){const t=e[r];e[r]={delta:n.transform(t.delta,!0),range:t.range&&_D(t.range,n)},n=t.delta.transform(n),0===e[r].delta.length()&&e.splice(r,1)}}function _D(e,t){if(!e)return e;const n=t.transformPosition(e.index);return{index:n,length:t.transformPosition(e.index+e.length)-n}}class CD extends tT{constructor(e,t){super(e,t),e.root.addEventListener("drop",(t=>{t.preventDefault();let n=null;if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(t.clientX,t.clientY);else if(document.caretPositionFromPoint){const e=document.caretPositionFromPoint(t.clientX,t.clientY);n=document.createRange(),n.setStart(e.offsetNode,e.offset),n.setEnd(e.offsetNode,e.offset)}const r=n&&e.selection.normalizeNative(n);if(r){const n=e.selection.normalizedToRange(r);t.dataTransfer?.files&&this.upload(n,t.dataTransfer.files)}}))}upload(e,t){const n=[];Array.from(t).forEach((e=>{e&&this.options.mimetypes?.includes(e.type)&&n.push(e)})),n.length>0&&this.options.handler.call(this,e,n)}}CD.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const n=t.map((e=>new Promise((t=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.readAsDataURL(e)}))));Promise.all(n).then((t=>{const n=t.reduce(((e,t)=>e.insert({image:t})),(new X_).retain(e.index).delete(e.length));this.quill.updateContents(n,UE.sources.USER),this.quill.setSelection(e.index+t.length,UE.sources.SILENT)}))}};const ED=CD,TD=["insertText","insertReplacementText"];const DD=class extends tT{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",(e=>{this.handleBeforeInput(e)})),/Android/i.test(navigator.userAgent)||e.on(fT.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}deleteRange(e){rD({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===e.length)return!1;if(t){const n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents((new X_).retain(e.index).insert(t,n),fT.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,fT.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!TD.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||!0===t.collapsed)return;const n=function(e){if("string"===typeof e.data)return e.data;if(e.dataTransfer?.types.includes("text/plain"))return e.dataTransfer.getData("text/plain");return null}(e);if(null==n)return;const r=this.quill.selection.normalizeNative(t),s=r?this.quill.selection.normalizedToRange(r):null;s&&this.replaceText(s,n)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}},AD=/Mac/i.test(navigator.platform);const PD=class extends tT{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:n,event:r}=t;if(!(n instanceof F_)||!n.uiNode)return!0;const s="rtl"===getComputedStyle(n.domNode).direction;return!!(s&&"ArrowRight"!==r.key||!s&&"ArrowLeft"!==r.key)||(this.quill.setSelection(e.index-1,e.length+(r.shiftKey?1:0),fT.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(e=>{!e.defaultPrevented&&(e=>"ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||"Home"===e.key||!(!AD||"a"!==e.key||!0!==e.ctrlKey))(e)&&this.ensureListeningToSelectionChange()}))}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+100,this.isListening)return;this.isListening=!0;document.addEventListener("selectionchange",(()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()}),{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(!0!==t.collapsed||0!==t.startOffset)return;const n=this.quill.scroll.find(t.startContainer);if(!(n instanceof F_)||!n.uiNode)return;const r=document.createRange();r.setStartAfter(n.uiNode),r.setEndAfter(n.uiNode),e.removeAllRanges(),e.addRange(r)}};fT.register({"blots/block":EE,"blots/block/embed":TE,"blots/break":jE,"blots/container":jT,"blots/cursor":ME,"blots/embed":rT,"blots/inline":CE,"blots/scroll":CT,"blots/text":NE,"modules/clipboard":class extends tT{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",(e=>this.onCaptureCopy(e,!1))),this.quill.root.addEventListener("cut",(e=>this.onCaptureCopy(e,!0))),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],pD.concat(this.options.matchers??[]).forEach((e=>{let[t,n]=e;this.addMatcher(t,n)}))}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:n}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[FT.blotName])return(new X_).insert(n||"",{[FT.blotName]:r[FT.blotName]});if(!t)return(new X_).insert(n||"",r);const s=this.convertHTML(t);return yD(s,"\n")&&(null==s.ops[s.ops.length-1].attributes||r.table)?s.compose((new X_).retain(s.length()-1).delete(1)):s}normalizeHTML(e){hD(e)}convertHTML(e){const t=(new DOMParser).parseFromString(e,"text/html");this.normalizeHTML(t);const n=t.body,r=new WeakMap,[s,i]=this.prepareMatching(n,r);return jD(this.quill.scroll,n,s,i,r)}dangerouslyPasteHTML(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fT.sources.API;if("string"===typeof e){const n=this.convert({html:e,text:""});this.quill.setContents(n,t),this.quill.setSelection(0,fT.sources.SILENT)}else{const r=this.convert({html:t,text:""});this.quill.updateContents((new X_).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),fT.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.defaultPrevented)return;e.preventDefault();const[n]=this.quill.selection.getRange();if(null==n)return;const{html:r,text:s}=this.onCopy(n,t);e.clipboardData?.setData("text/plain",s),e.clipboardData?.setData("text/html",r),t&&rD({range:n,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter((e=>"#"!==e[0])).join("\n")}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(null==t)return;const n=e.clipboardData?.getData("text/html");let r=e.clipboardData?.getData("text/plain");if(!n&&!r){const t=e.clipboardData?.getData("text/uri-list");t&&(r=this.normalizeURIList(t))}const s=Array.from(e.clipboardData?.files||[]);if(!n&&s.length>0)this.quill.uploader.upload(t,s);else{if(n&&s.length>0){const e=(new DOMParser).parseFromString(n,"text/html");if(1===e.body.childElementCount&&"IMG"===e.body.firstElementChild?.tagName)return void this.quill.uploader.upload(t,s)}this.onPaste(t,{html:n,text:r})}}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:n,html:r}=t;const s=this.quill.getFormat(e.index),i=this.convert({text:n,html:r},s);mD.log("onPaste",i,{text:n,html:r});const a=(new X_).retain(e.index).delete(e.length).concat(i);this.quill.updateContents(a,fT.sources.USER),this.quill.setSelection(a.length()-e.length,fT.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const n=[],r=[];return this.matchers.forEach((s=>{const[i,a]=s;switch(i){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:n.push(a);break;default:Array.from(e.querySelectorAll(i)).forEach((e=>{if(t.has(e)){const n=t.get(e);n?.push(a)}else t.set(e,[a])}))}})),[n,r]}},"modules/history":class extends tT{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(fT.events.EDITOR_CHANGE,((e,t,n,r)=>{e===fT.events.SELECTION_CHANGE?t&&r!==fT.sources.SILENT&&(this.currentRange=t):e===fT.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&r!==fT.sources.USER?this.transform(t):this.record(t,n)),this.currentRange=_D(this.currentRange,t))})),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(e=>{"historyUndo"===e.inputType?(this.undo(),e.preventDefault()):"historyRedo"===e.inputType&&(this.redo(),e.preventDefault())}))}change(e,t){if(0===this.stack[e].length)return;const n=this.stack[e].pop();if(!n)return;const r=this.quill.getContents(),s=n.delta.invert(r);this.stack[t].push({delta:s,range:_D(n.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,fT.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(0===e.ops.length)return;this.stack.redo=[];let n=e.invert(t),r=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const e=this.stack.undo.pop();e&&(n=n.compose(e.delta),r=e.range)}else this.lastRecorded=s;0!==n.length()&&(this.stack.undo.push({delta:n,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){SD(this.stack.undo,e),SD(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,fT.sources.USER);else{const t=function(e,t){const n=t.reduce(((e,t)=>e+(t.delete||0)),0);let r=t.length()-n;(function(e,t){const n=t.ops[t.ops.length-1];if(null==n)return!1;if(null!=n.insert)return"string"===typeof n.insert&&n.insert.endsWith("\n");if(null!=n.attributes)return Object.keys(n.attributes).some((t=>null!=e.query(t,w_.BLOCK)));return!1})(e,t)&&(r-=1);return r}(this.quill.scroll,e.delta);this.quill.setSelection(t,fT.sources.USER)}}},"modules/keyboard":XT,"modules/uploader":ED,"modules/input":DD,"modules/uiNode":PD});const MD=fT;const LD=new class extends C_{add(e,t){let n=0;if("+1"===t||"-1"===t){const r=this.value(e)||0;n="+1"===t?r+1:r-1}else"number"===typeof t&&(n=t);return 0===n?(this.remove(e),!0):super.add(e,n.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}("indent","ql-indent",{scope:w_.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),OD=LD;const RD=class extends EE{static blotName="blockquote";static tagName="blockquote"};const ID=class extends EE{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}};class FD extends jT{}FD.blotName="list-container",FD.tagName="OL";class zD extends EE{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){fT.register(FD)}constructor(e,t){super(e,t);const n=t.ownerDocument.createElement("span"),r=n=>{if(!e.isEnabled())return;const r=this.statics.formats(t,e);"checked"===r?(this.format("list","unchecked"),n.preventDefault()):"unchecked"===r&&(this.format("list","checked"),n.preventDefault())};n.addEventListener("mousedown",r),n.addEventListener("touchstart",r),this.attachUI(n)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}zD.blotName="list",zD.tagName="LI",FD.allowedChildren=[zD],zD.requiredContainer=FD;const BD=class extends CE{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}};const qD=class extends BD{static blotName="italic";static tagName=["EM","I"]};class UD extends CE{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return VD(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("href",this.constructor.sanitize(t)):super.format(e,t)}}function VD(e,t){const n=document.createElement("a");n.href=e;const r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}const $D=class extends CE{static blotName="script";static tagName=["SUB","SUP"];static create(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):super.create(e)}static formats(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}};const HD=class extends BD{static blotName="strike";static tagName=["S","STRIKE"]};const WD=class extends CE{static blotName="underline";static tagName="U"};const YD=class extends rT{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return"string"===typeof e&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}},KD=["alt","height","width"];const GD=class extends H_{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return"string"===typeof e&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return KD.reduce(((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t)),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return VD(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){KD.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}},QD=["height","width"];const XD=class extends TE{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return QD.reduce(((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t)),{})}static sanitize(e){return UD.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){QD.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}},ZD=new C_("code-token","hljs",{scope:w_.INLINE});class JD extends CE{static formats(e,t){for(;null!=e&&e!==t.domNode;){if(e.classList&&e.classList.contains(FT.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,n){super(e,t,n),ZD.add(this.domNode,n)}format(e,t){e!==JD.blotName?super.format(e,t):t?ZD.add(this.domNode,t):(ZD.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),ZD.value(this.domNode)||this.unwrap()}}JD.blotName="code-token",JD.className="ql-token";class eA extends FT{static create(e){const t=super.create(e);return"string"===typeof e&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),JD.blotName,!1),super.replaceWith(e,t)}}class tA extends IT{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===eA.blotName&&(this.forceNext=!0,this.children.forEach((n=>{n.format(e,t)})))}formatAt(e,t,n,r){n===eA.blotName&&(this.forceNext=!0),super.formatAt(e,t,n,r)}highlight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const n=Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)),r=`${n.map((e=>e.textContent)).join("\n")}\n`,s=eA.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==r){if(r.trim().length>0||null==this.cachedText){const t=this.children.reduce(((e,t)=>e.concat(DE(t,!1))),new X_),n=e(r,s);t.diff(n).reduce(((e,t)=>{let{retain:n,attributes:r}=t;return n?(r&&Object.keys(r).forEach((t=>{[eA.blotName,JD.blotName].includes(t)&&this.formatAt(e,n,t,r[t])})),e+n):e}),0)}this.cachedText=r,this.forceNext=!1}}html(e,t){const[n]=this.children.find(e);return`<pre data-language="${n?eA.formats(n.domNode):"plain"}">\n${SE(this.code(e,t))}\n</pre>`}optimize(e){if(super.optimize(e),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const e=eA.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}tA.allowedChildren=[eA],eA.requiredContainer=tA,eA.allowedChildren=[JD,ME,NE,jE];class nA extends tT{static register(){fT.register(JD,!0),fT.register(eA,!0),fT.register(tA,!0)}constructor(e,t){if(super(e,t),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce(((e,t)=>{let{key:n}=t;return e[n]=!0,e}),{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(fT.events.SCROLL_BLOT_MOUNT,(e=>{if(!(e instanceof tA))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((e=>{let{key:n,label:r}=e;const s=t.ownerDocument.createElement("option");s.textContent=r,s.setAttribute("value",n),t.appendChild(s)})),t.addEventListener("change",(()=>{e.format(eA.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)})),null==e.uiNode&&(e.attachUI(t),e.children.head&&(t.value=eA.formats(e.children.head.domNode)))}))}initTimer(){let e=null;this.quill.on(fT.events.SCROLL_OPTIMIZE,(()=>{e&&clearTimeout(e),e=setTimeout((()=>{this.highlight(),e=null}),this.options.interval)}))}highlight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(fT.sources.USER);const n=this.quill.getSelection();(null==e?this.quill.scroll.descendants(tA):[e]).forEach((e=>{e.highlight(this.highlightBlot,t)})),this.quill.update(fT.sources.SILENT),null!=n&&this.quill.setSelection(n,fT.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(t=this.languages[t]?t:"plain","plain"===t)return SE(e).split("\n").reduce(((e,n,r)=>(0!==r&&e.insert("\n",{[FT.blotName]:t}),e.insert(n))),new X_);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(FT.className),n.innerHTML=((e,t,n)=>{if("string"===typeof e.versionString){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(n,{language:t}).value}return e.highlight(t,n).value})(this.options.hljs,t,e),jD(this.quill.scroll,n,[(e,t)=>{const n=ZD.value(e);return n?t.compose((new X_).retain(t.length(),{[JD.blotName]:n})):t}],[(e,n)=>e.data.split("\n").reduce(((e,n,r)=>(0!==r&&e.insert("\n",{[FT.blotName]:t}),e.insert(n))),n)],new WeakMap)}}nA.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class rA extends EE{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",oA()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===rA.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class sA extends jT{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const e=this.children.head.formats(),t=this.children.tail.formats(),n=this.next.children.head.formats(),r=this.next.children.tail.formats();return e.table===t.table&&e.table===n.table&&e.table===r.table}return!1}optimize(e){super.optimize(e),this.children.forEach((e=>{if(null==e.next)return;const t=e.formats(),n=e.next.formats();if(t.table!==n.table){const t=this.splitAfter(e);t&&t.optimize(),this.prev&&this.prev.optimize()}}))}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class iA extends jT{static blotName="table-body";static tagName="TBODY"}class aA extends jT{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(sA),t=e.reduce(((e,t)=>Math.max(t.children.length,e)),0);e.forEach((e=>{new Array(t-e.children.length).fill(0).forEach((()=>{let t;null!=e.children.head&&(t=rA.formats(e.children.head.domNode));const n=this.scroll.create(rA.blotName,t);e.appendChild(n),n.optimize()}))}))}cells(e){return this.rows().map((t=>t.children.at(e)))}deleteColumn(e){const[t]=this.descendant(iA);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const n=t.children.at(e);null!=n&&n.remove()}))}insertColumn(e){const[t]=this.descendant(iA);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const n=t.children.at(e),r=rA.formats(t.children.head.domNode),s=this.scroll.create(rA.blotName,r);t.insertBefore(s,n)}))}insertRow(e){const[t]=this.descendant(iA);if(null==t||null==t.children.head)return;const n=oA(),r=this.scroll.create(sA.blotName);t.children.head.children.forEach((()=>{const e=this.scroll.create(rA.blotName,n);r.appendChild(e)}));const s=t.children.at(e);t.insertBefore(r,s)}rows(){const e=this.children.head;return null==e?[]:e.children.map((e=>e))}}function oA(){return`row-${Math.random().toString(36).slice(2,6)}`}aA.allowedChildren=[iA],iA.requiredContainer=aA,iA.allowedChildren=[sA],sA.requiredContainer=iA,sA.allowedChildren=[rA],rA.requiredContainer=sA;const lA=class extends tT{static register(){fT.register(rA),fT.register(sA),fT.register(iA),fT.register(aA)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(aA).forEach((e=>{e.balanceCells()}))}deleteColumn(){const[e,,t]=this.getTable();null!=t&&(e.deleteColumn(t.cellOffset()),this.quill.update(fT.sources.USER))}deleteRow(){const[,e]=this.getTable();null!=e&&(e.remove(),this.quill.update(fT.sources.USER))}deleteTable(){const[e]=this.getTable();if(null==e)return;const t=e.offset();e.remove(),this.quill.update(fT.sources.USER),this.quill.setSelection(t,fT.sources.SILENT)}getTable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==e)return[null,null,null,-1];const[t,n]=this.quill.getLine(e.index);if(null==t||t.statics.blotName!==rA.blotName)return[null,null,null,-1];const r=t.parent;return[r.parent.parent,r,t,n]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[n,r,s]=this.getTable(t);if(null==s)return;const i=s.cellOffset();n.insertColumn(i+e),this.quill.update(fT.sources.USER);let a=r.rowOffset();0===e&&(a+=1),this.quill.setSelection(t.index+a,t.length,fT.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[n,r,s]=this.getTable(t);if(null==s)return;const i=r.rowOffset();n.insertRow(i+e),this.quill.update(fT.sources.USER),e>0?this.quill.setSelection(t,fT.sources.SILENT):this.quill.setSelection(t.index+r.children.length,t.length,fT.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const n=this.quill.getSelection();if(null==n)return;const r=new Array(e).fill(0).reduce((e=>{const n=new Array(t).fill("\n").join("");return e.insert(n,{table:oA()})}),(new X_).retain(n.index));this.quill.updateContents(r,fT.sources.USER),this.quill.setSelection(n.index,fT.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(fT.events.SCROLL_OPTIMIZE,(e=>{e.some((e=>!!["TD","TR","TBODY","TABLE"].includes(e.target.tagName)&&(this.quill.once(fT.events.TEXT_CHANGE,((e,t,n)=>{n===fT.sources.USER&&this.balanceTables()})),!0)))}))}},cA=BE("quill:toolbar");class dA extends tT{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const t=document.createElement("div");t.setAttribute("role","toolbar"),function(e,t){Array.isArray(t[0])||(t=[t]);t.forEach((t=>{const n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((e=>{if("string"===typeof e)uA(n,e);else{const t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){const r=document.createElement("select");r.classList.add(`ql-${t}`),n.forEach((e=>{const t=document.createElement("option");!1!==e?t.setAttribute("value",String(e)):t.setAttribute("selected","selected"),r.appendChild(t)})),e.appendChild(r)}(n,t,r):uA(n,t,r)}})),e.appendChild(n)}))}(t,this.options.container),e.container?.parentNode?.insertBefore(t,e.container),this.container=t}else"string"===typeof this.options.container?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach((e=>{const t=this.options.handlers?.[e];t&&this.addHandler(e,t)})),Array.from(this.container.querySelectorAll("button, select")).forEach((e=>{this.attach(e)})),this.quill.on(fT.events.EDITOR_CHANGE,(()=>{const[e]=this.quill.selection.getRange();this.update(e)}))):cA.error("Container required for toolbar",this.options)}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find((e=>0===e.indexOf("ql-")));if(!t)return;if(t=t.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[t]&&null==this.quill.scroll.query(t))return void cA.warn("ignoring attaching to nonexistent format",t,e);const n="SELECT"===e.tagName?"change":"click";e.addEventListener(n,(n=>{let r;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;const t=e.options[e.selectedIndex];r=!t.hasAttribute("selected")&&(t.value||!1)}else r=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),n.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(null!=this.handlers[t])this.handlers[t].call(this,r);else if(this.quill.scroll.query(t).prototype instanceof H_){if(r=prompt(`Enter ${t}`),!r)return;this.quill.updateContents((new X_).retain(s.index).delete(s.length).insert({[t]:r}),fT.sources.USER)}else this.quill.format(t,r,fT.sources.USER);this.update(s)})),this.controls.push([t,e])}update(e){const t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((n=>{const[r,s]=n;if("SELECT"===s.tagName){let n=null;if(null==e)n=null;else if(null==t[r])n=s.querySelector("option[selected]");else if(!Array.isArray(t[r])){let e=t[r];"string"===typeof e&&(e=e.replace(/"/g,'\\"')),n=s.querySelector(`option[value="${e}"]`)}null==n?(s.value="",s.selectedIndex=-1):n.selected=!0}else if(null==e)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const e=t[r],n=e===s.getAttribute("value")||null!=e&&e.toString()===s.getAttribute("value")||null==e&&!s.getAttribute("value");s.classList.toggle("ql-active",n),s.setAttribute("aria-pressed",n.toString())}else{const e=null!=t[r];s.classList.toggle("ql-active",e),s.setAttribute("aria-pressed",e.toString())}}))}}function uA(e,t,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),null!=n?(r.value=n,r.setAttribute("aria-label",`${t}: ${n}`)):r.setAttribute("aria-label",t),e.appendChild(r)}dA.DEFAULTS={},dA.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(null!=e)if(0===e.length){const e=this.quill.getFormat();Object.keys(e).forEach((e=>{null!=this.quill.scroll.query(e,w_.INLINE)&&this.quill.format(e,!1,fT.sources.USER)}))}else this.quill.removeFormat(e.index,e.length,fT.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();"rtl"===e&&null==t?this.quill.format("align","right",fT.sources.USER):e||"right"!==t||this.quill.format("align",!1,fT.sources.USER),this.quill.format("direction",e,fT.sources.USER)},indent(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0,10);if("+1"===e||"-1"===e){let t="+1"===e?1:-1;"rtl"===n.direction&&(t*=-1),this.quill.format("indent",r+t,fT.sources.USER)}},link(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,fT.sources.USER)},list(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,fT.sources.USER):this.quill.format("list","unchecked",fT.sources.USER):this.quill.format("list",e,fT.sources.USER)}}};const hA='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',mA={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:hA,"code-block":hA,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let pA=0;function fA(e,t){e.setAttribute(t,`${!("true"===e.getAttribute(t))}`)}const gA=class{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(()=>{this.togglePicker()})),this.label.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),fA(this.label,"aria-expanded"),fA(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const n=e.getAttribute("value");return n&&t.setAttribute("data-value",n),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",(()=>{this.selectItem(t,!0)})),t.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.selectItem(t,!0),e.preventDefault();break;case"Escape":this.escape(),e.preventDefault()}})),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${pA}`,pA+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach((t=>{const n=this.buildItem(t);e.appendChild(n),!0===t.selected&&this.selectItem(n)})),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach((e=>{this.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.container.querySelector(".ql-selected");e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);const t=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}};const xA=class extends gA{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((e=>{e.classList.add("ql-primary")}))}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const n=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=r:n.style.fill=r)}};const yA=class extends gA{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((e=>{e.innerHTML=t[e.getAttribute("data-value")||""]})),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const n=e||this.defaultItem;if(null!=n){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}};const vA=class{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(e=>{const{overflowY:t}=getComputedStyle(e,null);return"visible"!==t&&"clip"!==t})(this.quill.root)&&this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"})),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let i=0;if(s.right>r.right&&(i=r.right-s.right,this.root.style.left=`${t+i}px`),s.left<r.left&&(i=r.left-s.left,this.root.style.left=`${t+i}px`),s.bottom>r.bottom){const t=s.bottom-s.top,r=e.bottom-e.top+t;this.root.style.top=n-r+"px",this.root.classList.add("ql-flip")}return i}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},bA=[!1,"center","right","justify"],wA=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],jA=[!1,"serif","monospace"],NA=["1","2","3",!1],kA=["small",!1,"large","huge"];class SA extends aT{constructor(e,t){super(e,t);const n=t=>{document.body.contains(e.root)?(null==this.tooltip||this.tooltip.root.contains(t.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach((e=>{e.container.contains(t.target)||e.close()}))):document.body.removeEventListener("click",n)};e.emitter.listenDOM("click",document.body,n)}addModule(e){const t=super.addModule(e);return"toolbar"===e&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach((e=>{(e.getAttribute("class")||"").split(/\s+/).forEach((n=>{if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"===typeof t[n])e.innerHTML=t[n];else{const r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}}))}))}buildPickers(e,t){this.pickers=Array.from(e).map((e=>{if(e.classList.contains("ql-align")&&(null==e.querySelector("option")&&CA(e,bA),"object"===typeof t.align))return new yA(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){const n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&CA(e,wA,"background"===n?"#ffffff":"#000000"),new xA(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?CA(e,jA):e.classList.contains("ql-header")?CA(e,NA):e.classList.contains("ql-size")&&CA(e,kA)),new gA(e)}));this.quill.on(UE.events.EDITOR_CHANGE,(()=>{this.pickers.forEach((e=>{e.update()}))}))}}SA.DEFAULTS=b_({},aT.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",(()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""})),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class _A extends vA{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(e=>{"Enter"===e.key?(this.save(),e.preventDefault()):"Escape"===e.key&&(this.cancel(),e.preventDefault())}))}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);null!=n&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,UE.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,UE.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=function(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(t)return`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`;if(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`;return e}(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(null!=t){const n=t.index+t.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,UE.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",UE.sources.USER),this.quill.setSelection(n+2,UE.sources.USER)}break}}this.textbox.value="",this.hide()}}function CA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((t=>{const r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",String(t)),e.appendChild(r)}))}const EA=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class TA extends _A{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(UE.events.EDITOR_CHANGE,((e,t,n,r)=>{if(e===UE.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===UE.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const e=this.quill.getLines(t.index,t.length);if(1===e.length){const e=this.quill.getBounds(t);null!=e&&this.position(e)}else{const n=e[e.length-1],r=this.quill.getIndex(n),s=Math.min(n.length()-1,t.index+t.length-r),i=this.quill.getBounds(new $E(r,s));null!=i&&this.position(i)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()}))}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")})),this.quill.on(UE.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(null!=e){const t=this.quill.getBounds(e);null!=t&&this.position(t)}}),1)}))}cancel(){this.show()}position(e){const t=super.position(e),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",0!==t&&(n.style.marginLeft=-1*t-n.offsetWidth/2+"px"),t}}class DA extends SA{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=EA),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new TA(this.quill,this.options.bounds),null!=e.container&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),mA),this.buildPickers(e.container.querySelectorAll("select"),mA))}}DA.DEFAULTS=b_({},SA.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,fT.sources.USER)}}}}});const AA=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class PA extends _A{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(e=>{if(null!=this.linkRange){const e=this.linkRange;this.restoreFocus(),this.quill.formatText(e,"link",!1,UE.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()})),this.quill.on(UE.events.SELECTION_CHANGE,((e,t,n)=>{if(null!=e){if(0===e.length&&n===UE.sources.USER){const[t,n]=this.quill.scroll.descendant(UD,e.index);if(null!=t){this.linkRange=new $E(e.index-n,t.length());const r=UD.formats(t.domNode);this.preview.textContent=r,this.preview.setAttribute("href",r),this.show();const s=this.quill.getBounds(this.linkRange);return void(null!=s&&this.position(s))}}else delete this.linkRange;this.hide()}}))}show(){super.show(),this.root.removeAttribute("data-mode")}}class MA extends SA{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=AA),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){null!=e.container&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),mA),this.buildPickers(e.container.querySelectorAll("select"),mA),this.tooltip=new PA(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},((t,n)=>{e.handlers.link.call(e,!n.format.link)})))}}MA.DEFAULTS=b_({},SA.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const e=this.quill.getSelection();if(null==e||0===e.length)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&0!==t.indexOf("mailto:")&&(t=`mailto:${t}`);const{tooltip:n}=this.quill.theme;n.edit("link",t)}else this.quill.format("link",!1,fT.sources.USER)}}}}});const LA=MA;MD.register({"attributors/attribute/direction":qT,"attributors/class/align":DT,"attributors/class/background":OT,"attributors/class/color":MT,"attributors/class/direction":UT,"attributors/class/font":HT,"attributors/class/size":YT,"attributors/style/align":AT,"attributors/style/background":RT,"attributors/style/color":LT,"attributors/style/direction":VT,"attributors/style/font":WT,"attributors/style/size":KT},!0),MD.register({"formats/align":DT,"formats/direction":UT,"formats/indent":OD,"formats/background":RT,"formats/color":LT,"formats/font":HT,"formats/size":YT,"formats/blockquote":RD,"formats/code-block":FT,"formats/header":ID,"formats/list":zD,"formats/bold":BD,"formats/code":zT,"formats/italic":qD,"formats/link":UD,"formats/script":$D,"formats/strike":HD,"formats/underline":WD,"formats/formula":YD,"formats/image":GD,"formats/video":XD,"modules/syntax":nA,"modules/table":lA,"modules/toolbar":dA,"themes/bubble":DA,"themes/snow":LA,"ui/icons":mA,"ui/picker":gA,"ui/icon-picker":yA,"ui/color-picker":xA,"ui/tooltip":vA},!0);const OA=MD,RA=e=>{let{value:t,onChange:n,onImageUpload:r}=e;const s=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(s.current&&!i.current){const e=new OA(s.current,{theme:"snow",modules:{toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["blockquote","code-block"],["link","image"],["clean"]],handlers:{image:function(){const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.click(),t.onchange=async()=>{const n=t.files[0];if(n&&r)try{const t=await r(n),s=e.getSelection()||{index:e.getLength()};e.insertEmbed(s.index,"image",t),e.setSelection(s.index+1,0)}catch(s){console.error("Error uploading image:",s)}}}}}}});e.root.innerHTML=t||"",e.on("text-change",(()=>{const t=e.root.innerHTML;n(t)})),i.current=e}return()=>{i.current&&(i.current=null)}}),[]),(0,a.useEffect)((()=>{i.current&&t!==i.current.root.innerHTML&&(i.current.root.innerHTML=t||"")}),[t]),(0,ft.jsx)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:(0,ft.jsx)("div",{ref:s,className:"min-h-[300px]"})})};Rv.register(Uv,Cb,db,Db,Lb,ab,hb);const IA=e=>{let{title:t,value:n,icon:r,color:s="emerald",link:i,loading:a}=e;const o=(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:`absolute top-3 right-3 sm:top-4 sm:right-4 p-2 sm:p-3 rounded-full ${{emerald:"bg-emerald-500",blue:"bg-blue-500",yellow:"bg-yellow-500",red:"bg-red-500",purple:"bg-purple-500",pink:"bg-pink-500",indigo:"bg-indigo-500",teal:"bg-teal-500",orange:"bg-orange-500"}[s]} text-white opacity-80`,children:(0,ft.jsx)(r,{className:"h-5 w-5 sm:h-6 sm:w-6","aria-hidden":"true"})}),(0,ft.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-500 truncate",children:t}),a?(0,ft.jsx)("div",{className:"h-6 sm:h-8 w-16 sm:w-20 bg-gray-200 rounded animate-pulse mt-1"}):(0,ft.jsx)("p",{className:"mt-1 text-2xl sm:text-3xl font-semibold text-gray-900",children:n})]}),l={initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.3}};return i?(0,ft.jsxs)(vc.div,{...l,className:"relative bg-white pt-4 px-3 pb-4 sm:pt-5 sm:px-4 sm:pb-5 shadow rounded-lg overflow-hidden hover:shadow-md transition-shadow min-h-[120px] sm:min-h-[140px]",children:[(0,ft.jsx)(Me,{to:i,className:"absolute inset-0","aria-label":`View ${t}`}),o]}):(0,ft.jsx)(vc.div,{...l,className:"relative bg-white pt-4 px-3 pb-4 sm:pt-5 sm:px-4 sm:pb-5 shadow rounded-lg overflow-hidden min-h-[120px] sm:min-h-[140px]",children:o})},FA=e=>{let{title:t,description:n,icon:r,link:s,color:i="emerald"}=e;const a={emerald:"text-emerald-700",blue:"text-blue-700",purple:"text-purple-700",yellow:"text-yellow-700",red:"text-red-700",indigo:"text-indigo-700",pink:"text-pink-700",teal:"text-teal-700",orange:"text-orange-700"};return(0,ft.jsxs)(vc.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},className:`relative group ${{emerald:"bg-emerald-50 hover:bg-emerald-100",blue:"bg-blue-50 hover:bg-blue-100",purple:"bg-purple-50 hover:bg-purple-100",yellow:"bg-yellow-50 hover:bg-yellow-100",red:"bg-red-50 hover:bg-red-100",indigo:"bg-indigo-50 hover:bg-indigo-100",pink:"bg-pink-50 hover:bg-pink-100",teal:"bg-teal-50 hover:bg-teal-100",orange:"bg-orange-50 hover:bg-orange-100"}[i]} p-4 sm:p-6 rounded-lg shadow-sm transition-all duration-200 min-h-[140px] sm:min-h-[160px]`,children:[(0,ft.jsx)(Me,{to:s,className:`absolute inset-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 ${{emerald:"focus:ring-emerald-500",blue:"focus:ring-blue-500",purple:"focus:ring-purple-500",yellow:"focus:ring-yellow-500",red:"focus:ring-red-500",indigo:"focus:ring-indigo-500",pink:"focus:ring-pink-500",teal:"focus:ring-teal-500",orange:"focus:ring-orange-500"}[i]}`,"aria-label":t}),(0,ft.jsx)("div",{className:`inline-block p-2 sm:p-3 rounded-lg ${a[i]} bg-white mb-3 sm:mb-4 shadow-sm`,children:(0,ft.jsx)(r,{className:"h-5 w-5 sm:h-6 sm:w-6","aria-hidden":"true"})}),(0,ft.jsx)("h3",{className:`text-base sm:text-lg font-semibold ${a[i]} mb-1`,children:t}),(0,ft.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:n}),(0,ft.jsx)(Mh,{className:`absolute bottom-3 right-3 sm:bottom-4 sm:right-4 h-4 w-4 sm:h-5 sm:w-5 text-gray-400 group-hover:${a[i]} transition-colors`})]})};const zA=function(){var e;const{currentUser:t}=yh(),n=null===t||void 0===t||null===(e=t.group)||void 0===e?void 0:e.permissions,[r,s]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[p,f]=(0,a.useState)({totalSales:0,confirmedBookings:0,cancelledBookings:0}),[g,x]=(0,a.useState)(0),[y,v]=(0,a.useState)(!0),[b,w]=(0,a.useState)(null),j=se(),[N,k]=(0,a.useState)(!1),[S,_]=(0,a.useState)(null),[C,E]=(0,a.useState)("overview");(0,a.useEffect)((()=>{if(!t||!t.isAdmin&&"admin"!==t.role)return fN.error("You do not have permission to access the admin dashboard"),void j("/");T()}),[t,j]);const T=async()=>{v(!0);try{console.log("Fetching dashboard stats...");const e=await(async()=>{try{console.log("Fetching dashboard stats...");const e=await Ru.get("/stats/dashboard");return console.log("Dashboard stats API response:",e),e.data}catch(b){var e;throw console.error("Error fetching dashboard stats:",(null===(e=b.response)||void 0===e?void 0:e.data)||b.message),b}})();if(console.log("Dashboard stats received:",e),!e||"object"!==typeof e)throw console.error("Invalid dashboard data format:",e),new Error("Invalid data format received from server");s(e);const t=await Iu({limit:5,sort:"createdAt-desc"});console.log("Treks data received:",t);const n=Array.isArray(t)?t:t&&Array.isArray(t.treks)?t.treks:[];o(n);const r=await Bu();c(r);const i=await Qu(),a=Array.isArray(i)?i:[],l=a.filter((e=>"confirmed"===e.status)).reduce(((e,t)=>e+(t.totalPrice||0)),0),d=a.filter((e=>"confirmed"===e.status)).length,h=a.filter((e=>"cancelled"===e.status)).length;f({totalSales:l,confirmedBookings:d,cancelledBookings:h});const p=await Hu();u(Array.isArray(p)?p:[]);const g=await Gu();m(Array.isArray(g)?g:[]);const y=new Date,v=n.filter((e=>!(!e.batches||!Array.isArray(e.batches))&&e.batches.some((e=>{const t=new Date(e.startDate),n=new Date(e.endDate);return t<=y&&y<=n})))).length;x(v)}catch(e){console.error("Error fetching dashboard data:",e),w("Failed to load dashboard data. Please try again later.")}finally{v(!1)}},D=[{title:"Total Treks",value:(null===r||void 0===r?void 0:r.totalTreks)||0,icon:om,color:"emerald",link:"/admin/treks",permissionKey:"treks"},{title:"Total Bookings",value:p.confirmedBookings+p.cancelledBookings,icon:Ih,color:"yellow",link:"/admin/bookings",permissionKey:"bookings"},{title:"Total Regions",value:(null===l||void 0===l?void 0:l.length)||0,icon:sm,color:"purple",link:"/admin/regions",permissionKey:"region"},{title:"Total Sales",value:lh(p.totalSales.toFixed(2).toLocaleString("en-IN")),icon:zh,color:"emerald",permissionKey:"sales"},{title:"Active Users",value:h.length,icon:Gm,color:"purple",link:"/admin/users",permissionKey:"users"},{title:"Ongoing Treks",value:g,icon:om,color:"emerald",permissionKey:"ongoingTreks"}],A=[{title:"Manage Treks",description:"Add, edit or remove treks",icon:om,link:"/admin/treks",color:"blue",permissionKey:"manageTreks"},{title:"Weekend Getaways",description:"Manage weekend getaway trips",icon:Vm,link:"/admin/weekend-getaways",color:"emerald",permissionKey:"manageWeekendGetaways"},{title:"Manage Regions",description:"Add or edit trek regions",icon:sm,link:"/admin/regions",color:"purple",permissionKey:"manageRegions"},{title:"Manage Bookings",description:"View and manage bookings",icon:Ih,link:"/admin/bookings",color:"yellow",permissionKey:"manageBookings"},{title:"Manage Users",description:"View and manage user accounts",icon:Gm,link:"/admin/users",color:"red",permissionKey:"manageUsers"},{title:"Manage Blogs",description:"Create and manage blog posts",icon:wm,link:"/admin/blogs",color:"indigo",permissionKey:"manageBlogs"},{title:"Support Tickets",description:"Respond to customer inquiries",icon:im,link:"/admin/support",color:"indigo",permissionKey:"supportTickets"},{title:"Sales Dashboard",description:"View sales statistics",icon:zh,link:"/admin/sales",color:"pink",permissionKey:"salesDashboard"},{title:"Manage Leads",description:"View and manage customer leads",icon:Wm,link:"/admin/leads",color:"orange",permissionKey:"manageLeads"},{title:"Trek Sections",description:"Create and manage homepage trek sections",icon:mm,link:"/admin/trek-sections",color:"teal",permissionKey:"trekSections"}];return y?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):b?(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:b})})]})}),(0,ft.jsx)("button",{onClick:T,className:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700",children:"Retry"})]}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-8",children:[(0,ft.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,ft.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,ft.jsxs)("p",{className:"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600",children:["Welcome back, ",null===t||void 0===t?void 0:t.name,"!"]})]}),(0,ft.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,ft.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"Quick Stats"}),(0,ft.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:D.filter((e=>n.stats[e.permissionKey])).map(((e,t)=>(0,ft.jsx)(IA,{title:e.title,value:e.value,icon:e.icon,color:e.color,link:e.link,loading:y},t)))})]}),(0,ft.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,ft.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"Quick Actions"}),(0,ft.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-5",children:A.filter((e=>n.actions[e.permissionKey])).map(((e,t)=>(0,ft.jsx)(FA,{...e},t)))})]}),(0,ft.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-3 sm:mb-4 gap-2",children:[(0,ft.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Recent Treks"}),(0,ft.jsxs)(Me,{to:"/admin/treks",className:"text-emerald-600 hover:text-emerald-700 text-sm sm:text-base font-medium flex items-center gap-1",children:["View all",(0,ft.jsx)(Vh,{className:"h-3 w-3"})]})]}),i.length>0?(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,ft.jsx)("ul",{className:"divide-y divide-gray-200",children:i.map((e=>(0,ft.jsx)("li",{children:(0,ft.jsx)(Me,{to:`/admin/treks/edit/${e._id}`,className:"block hover:bg-gray-50 transition-colors",children:(0,ft.jsxs)("div",{className:"px-3 py-3 sm:px-4 sm:py-4",children:[(0,ft.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ft.jsx)("p",{className:"text-sm sm:text-base font-medium text-emerald-600 truncate flex-1 mr-2",children:e.name}),(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("p",{className:"px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full "+(e.isEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isEnabled?"Active":"Inactive"})})]}),(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-0",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-6 gap-1",children:[(0,ft.jsxs)("p",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.region]}),(0,ft.jsxs)("p",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.duration," days"]})]}),(0,ft.jsxs)("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),(0,ft.jsxs)("p",{children:["Created on"," ",new Date(e.createdAt).toLocaleDateString()]})]})]})]})})},e._id)))})}):(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg p-4 sm:p-6 text-center text-gray-500",children:(0,ft.jsxs)("p",{className:"text-sm sm:text-base",children:["No treks found."," ",(0,ft.jsx)(Me,{to:"/admin/treks/add",className:"text-emerald-600 hover:text-emerald-700 font-medium",children:"Add your first trek"})]})})]}),(0,ft.jsx)("div",{className:"border-b border-gray-200 mb-4 sm:mb-6",children:(0,ft.jsxs)("nav",{className:"flex space-x-4 sm:space-x-8 overflow-x-auto scrollbar-hide",children:[(0,ft.jsx)("button",{onClick:()=>E("overview"),className:("overview"===C?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-sm sm:text-base transition-colors",children:"Overview"}),(0,ft.jsx)("button",{onClick:()=>E("trekSections"),className:("trekSections"===C?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-sm sm:text-base transition-colors",children:"Trek Sections"})]})}),"trekSections"===C&&(0,ft.jsx)("div",{className:"mt-4 sm:mt-6",children:(0,ft.jsx)(ON,{})})]})};function BA(e,t){let{title:n,titleId:r,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?a.createElement("title",{id:r},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const qA=a.forwardRef(BA);function UA(e,t){let{title:n,titleId:r,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?a.createElement("title",{id:r},n):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const VA=a.forwardRef(UA);const $A=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)("all"),[m,p]=(0,a.useState)(new Set);(0,a.useEffect)((()=>{f()}),[]);const f=async()=>{try{r(!0);const e=await Iu({includeDisabled:!0});t(e)}catch(e){console.error("Error fetching treks:",e),i("Failed to load treks. Please try again later.")}finally{r(!1)}},g=async(e,n)=>{try{await(async(e,t)=>(await Ru.patch(`/treks/${e}/toggle-status`,{isEnabled:t})).data)(e,!n);t((t=>t.map((t=>t._id===e?{...t,isEnabled:!n}:t)))),pt.success(`Trek ${n?"disabled":"enabled"} successfully!`)}catch(s){console.error("Error toggling trek status:",s),pt.error("Failed to update trek status")}},x=()=>{l(!1),d(null)},y=()=>{let t=[...e];switch(u){case"enabled":t=t.filter((e=>e.isEnabled));break;case"disabled":t=t.filter((e=>!e.isEnabled));break;case"with-bookings":t=t.filter((e=>e.bookings&&e.bookings.length>0));break;case"most-booked":t=t.filter((e=>e.bookings&&e.bookings.length>0)).sort(((e,t)=>{var n,r;return((null===(n=t.bookings)||void 0===n?void 0:n.length)||0)-((null===(r=e.bookings)||void 0===r?void 0:r.length)||0)}))}return t};return n?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):(console.log("trek",e),s?(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:s})})]})})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ft.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Manage Treks"}),(0,ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ft.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"block w-48 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md",children:[(0,ft.jsx)("option",{value:"all",children:"All Treks"}),(0,ft.jsx)("option",{value:"enabled",children:"Enabled Treks"}),(0,ft.jsx)("option",{value:"disabled",children:"Disabled Treks"}),(0,ft.jsx)("option",{value:"with-bookings",children:"Treks with Bookings"}),(0,ft.jsx)("option",{value:"most-booked",children:"Most Booked Treks"})]}),(0,ft.jsxs)(Me,{to:"/admin/treks/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)(qA,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Trek"]})]})]}),(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,ft.jsx)("ul",{className:"divide-y divide-gray-200",children:y().length>0?y().map((e=>(0,ft.jsx)("li",{className:""+(e.isEnabled?"":"bg-gray-50"),children:(0,ft.jsxs)("div",{className:"px-4 py-4 sm:px-6",children:[(0,ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 h-12 w-12",children:(0,ft.jsx)("img",{className:"h-12 w-12 rounded-md object-cover "+(e.isEnabled?"":"opacity-50"),src:e.images&&e.images.length>0?e.images[0]:"https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",alt:e.name})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("div",{className:"text-sm font-medium "+(e.isEnabled?"text-gray-900":"text-gray-500"),children:e.name}),(0,ft.jsxs)("div",{className:"text-sm text-gray-500",children:[e.region," \u2022 ",e.difficulty," \u2022 ",e.duration," days",e.bookings&&e.bookings.length>0&&(0,ft.jsxs)("span",{className:"ml-2 text-emerald-600",children:["\u2022 ",e.bookings.length," ",1===e.bookings.length?"booking":"bookings"]})]})]})]}),(0,ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ft.jsx)("button",{onClick:()=>{return t=e._id,void p((e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}));var t},className:"p-2 rounded-full hover:bg-gray-100",title:"Show Batches",children:(0,ft.jsx)(VA,{className:"w-5 h-5 transform transition-transform "+(m.has(e._id)?"rotate-180":"")})}),(0,ft.jsx)(Me,{to:`/admin/treks/${e._id}/performance`,className:"p-2 rounded-full bg-indigo-100 text-indigo-600 hover:bg-indigo-200",title:"View Performance",children:(0,ft.jsx)(zh,{className:"w-4 h-4"})}),(0,ft.jsx)("button",{onClick:()=>g(e._id,e.isEnabled),className:"p-2 rounded-full "+(e.isEnabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"),title:e.isEnabled?"Disable Trek":"Enable Trek",children:e.isEnabled?(0,ft.jsx)(tm,{className:"w-4 h-4"}):(0,ft.jsx)(em,{className:"w-4 h-4"})}),(0,ft.jsx)(Me,{to:`/admin/treks/edit/${e._id}`,className:"p-2 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200",children:(0,ft.jsx)("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,ft.jsx)("button",{onClick:()=>(e=>{d(e),l(!0)})(e),className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200",children:(0,ft.jsx)("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),m.has(e._id)&&(0,ft.jsx)("div",{className:"mt-4 border-t pt-4",children:(0,ft.jsx)("div",{className:"space-y-4",children:e.batches&&e.batches.length>0?e.batches.map((t=>(0,ft.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>{window.location.href=`/admin/treks/${e._id}/performance?batchId=${t._id}`},children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("h4",{className:"text-sm font-medium text-gray-900",children:["Batch ",new Date(t.startDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})," - ",new Date(t.endDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]}),(0,ft.jsxs)("div",{className:"mt-1 text-sm text-gray-500",children:[(0,ft.jsxs)("p",{children:["Price: \u20b9",t.price]}),(0,ft.jsxs)("p",{children:["Total Slots: ",t.maxParticipants]}),(0,ft.jsxs)("p",{children:["Available Slots: ",t.maxParticipants-(t.currentParticipants||0)]})]})]}),(0,ft.jsx)("div",{className:"text-right",children:(0,ft.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[t.currentParticipants||0," Bookings"]})})]}),t.bookings&&t.bookings.length>0&&(0,ft.jsxs)("div",{className:"mt-3",children:[(0,ft.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recent Bookings"}),(0,ft.jsx)("div",{className:"space-y-2",children:t.bookings.slice(0,3).map((e=>(0,ft.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ft.jsx)("span",{children:e.customerName}),(0,ft.jsx)("span",{children:new Date(e.bookingDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]},e._id)))})]})]},t._id))):(0,ft.jsx)("div",{className:"text-center text-gray-500 py-4",children:"No batches available for this trek"})})})]})},e._id))):(0,ft.jsx)("li",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("div",{className:"text-center text-gray-500",children:'No treks found. Click "Add New Trek" to create one.'})})})}),o&&(0,ft.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,ft.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,ft.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,ft.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,ft.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,ft.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,ft.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,ft.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,ft.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,ft.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,ft.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Trek"}),(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsxs)("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete "',null===c||void 0===c?void 0:c.name,'"? This action cannot be undone.']})})]})]})}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,ft.jsx)("button",{type:"button",onClick:async()=>{if(c)try{await(async e=>(await Ru.delete(`/treks/${e}`)).data)(c._id),t(e.filter((e=>e._id!==c._id))),pt.success("Trek deleted successfully!"),x()}catch(s){console.error("Error deleting trek:",s),pt.error("Failed to delete trek")}},className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Delete"}),(0,ft.jsx)("button",{type:"button",onClick:x,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]}))},HA=e=>{let{images:t=[],onChange:n}=e;const[r,s]=(0,a.useState)(!1);return(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[t.map(((e,r)=>(0,ft.jsxs)("div",{className:"relative group aspect-square",children:[(0,ft.jsx)("img",{src:e,alt:`Uploaded ${r+1}`,className:"w-full h-full object-cover rounded-lg shadow-sm"}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,ft.jsx)("button",{onClick:()=>(async(e,r)=>{try{const s=e.split(".com/");if(2!==s.length)throw new Error("Invalid S3 URL format");const i=decodeURIComponent(s[1]);await Lu.delete(`/api/upload/${encodeURIComponent(i)}`);const a=t.filter(((e,t)=>t!==r));n(a),pt.success("Image deleted successfully!")}catch(a){var s,i;console.error("Error deleting image:",a),pt.error((null===(s=a.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Failed to delete image. Please try again.")}})(e,r),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",title:"Delete image",children:(0,ft.jsx)(Um,{className:"w-4 h-4"})})}),0===r&&(0,ft.jsx)("div",{className:"absolute top-2 left-2 bg-emerald-500 text-white text-xs px-2 py-1 rounded",children:"Cover"})]},r))),(0,ft.jsxs)("label",{className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-emerald-500 hover:bg-emerald-50 transition-colors duration-200",children:[(0,ft.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const r=Array.from(e.target.files);if(0===r.length)return;s(!0);const i=[];try{for(const e of r){const t=new FormData;t.append("file",e);const n=await Lu.post("/api/upload",t,{headers:{"Content-Type":"multipart/form-data"}});i.push(n.data.url)}n([...t,...i]),pt.success("Images uploaded successfully!")}catch(a){console.error("Error uploading images:",a),pt.error("Failed to upload images. Please try again.")}finally{s(!1)}},className:"hidden",disabled:r}),(0,ft.jsxs)("div",{className:"text-center p-4",children:[(0,ft.jsx)(dm,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,ft.jsx)("span",{className:"text-sm text-gray-600",children:r?"Uploading...":"Click to upload"}),(0,ft.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"})]})]})]}),r&&(0,ft.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,ft.jsx)("div",{className:"bg-emerald-600 h-2.5 rounded-full animate-pulse"})})]})},WA=e=>{let{title:t,children:n}=e;return(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[(0,ft.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:t}),n]})},YA=e=>{let{label:t,id:n,type:r="text",value:s,onChange:i,required:a=!1,placeholder:o="",disabled:l=!1,error:c=null,...d}=e;return(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",a&&(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("input",{type:r,id:n,name:n,value:s,onChange:i,required:a,placeholder:o,disabled:l,className:`block w-full px-3 py-2 border ${c?"border-red-500":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none ${c?"focus:ring-red-500 focus:border-red-500":"focus:ring-emerald-500 focus:border-emerald-500"} sm:text-sm transition-colors ${l?"bg-gray-100 cursor-not-allowed":""}`,...d}),c&&(0,ft.jsx)("p",{className:"mt-1 text-xs text-red-600",children:c})]})},KA=e=>{let{label:t,id:n,value:r,onChange:s,required:i=!1,placeholder:a="",rows:o=3,error:l=null,...c}=e;return(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",i&&(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("textarea",{id:n,name:n,rows:o,value:r,onChange:s,required:i,placeholder:a,className:`block w-full px-3 py-2 border ${l?"border-red-500":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none ${l?"focus:ring-red-500 focus:border-red-500":"focus:ring-emerald-500 focus:border-emerald-500"} sm:text-sm transition-colors`,...c}),l&&(0,ft.jsx)("p",{className:"mt-1 text-xs text-red-600",children:l})]})},GA=e=>{let{label:t,id:n,value:r,onChange:s,required:i=!1,children:a,error:o=null,...l}=e;return(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",i&&(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("select",{id:n,name:n,value:r,onChange:s,required:i,className:`block w-full pl-3 pr-10 py-2 text-base border ${o?"border-red-500":"border-gray-300"} focus:outline-none ${o?"focus:ring-red-500 focus:border-red-500":"focus:ring-emerald-500 focus:border-emerald-500"} sm:text-sm rounded-md transition-colors`,...l,children:a}),o&&(0,ft.jsx)("p",{className:"mt-1 text-xs text-red-600",children:o})]})},QA=e=>{let{children:t,onClick:n,type:r="button",variant:s="primary",disabled:i=!1,icon:a,className:o="",...l}=e;return(0,ft.jsxs)(vc.button,{type:r,onClick:n,disabled:i,className:`inline-flex items-center justify-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"border-transparent text-white bg-emerald-600 hover:bg-emerald-700 focus:ring-emerald-500",secondary:"border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-emerald-500",danger:"border-transparent text-white bg-red-600 hover:bg-red-700 focus:ring-red-500",ghost:"border-transparent text-emerald-700 bg-emerald-100 hover:bg-emerald-200 focus:ring-emerald-500",icon:"p-1 border-transparent rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:ring-emerald-500"}[s]} ${o}`,whileTap:i?{}:{scale:.97},...l,children:[a&&(0,ft.jsx)(a,{className:"-ml-0.5 mr-2 h-4 w-4 "+("icon"===s?"m-0 h-5 w-5":""),"aria-hidden":"true"}),t]})},XA=["mountains","coastal","desert","adventure","relaxing","cultural","party"],ZA={mountains:"Mountains",coastal:"Coastal",desert:"Desert",adventure:"Adventure",relaxing:"Relaxing",cultural:"Cultural",party:"Party"};const JA=function(){const{id:e}=ie(),t=se(),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!!e),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)({name:"",description:"",region:"",difficulty:"Easy",duration:1,season:"Spring",startingPoint:"",endingPoint:"",displayPrice:"",strikedPrice:"",imageUrl:"",images:[],isEnabled:!0,category:"",maxAltitude:"",distance:"",highlights:[""],addOns:[],customFields:[{fieldName:"",fieldType:"text",isRequired:!1,options:[],description:"",placeholder:""}],gstPercent:"",gstType:"excluded",gatewayPercent:"",gatewayType:"customer",itineraryPdfUrl:""}),[u,h]=(0,a.useState)([{startDate:"",endDate:"",price:"",maxParticipants:10,currentParticipants:0}]),[m,p]=(0,a.useState)([{title:"Day 1",description:"",accommodation:"",meals:"",activities:[""]}]),[f,g]=(0,a.useState)([""]),[x,y]=(0,a.useState)([""]),[v,b]=(0,a.useState)([{title:"",description:"",icon:""}]),[w,j]=(0,a.useState)([{question:"",answer:""}]),[N,k]=(0,a.useState)({}),[S,_]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{i(!0);try{const t=await Bu();if(l(t||[]),e){var n,r,s,a,o,c,u,m,f;const t=await Fu(e);d({name:t.name||"",description:t.description||"",region:(null===(n=t.region)||void 0===n?void 0:n._id)||t.region||"",difficulty:t.difficulty||"Easy",duration:t.duration||1,season:t.season||"Spring",startingPoint:t.startingPoint||"",endingPoint:t.endingPoint||"",displayPrice:t.displayPrice||"",strikedPrice:t.strikedPrice||"",imageUrl:t.imageUrl||"",images:t.images||[],isEnabled:void 0===t.isEnabled||t.isEnabled,category:t.category||"mountains",maxAltitude:t.maxAltitude||"",distance:t.distance||"",highlights:t.highlights||[""],addOns:(null===(r=t.addOns)||void 0===r?void 0:r.length)>0?t.addOns:[],customFields:(null===(s=t.customFields)||void 0===s?void 0:s.length)>0?t.customFields:[{fieldName:"",fieldType:"text",isRequired:!1,options:[],description:"",placeholder:""}],gstPercent:t.gstPercent||"",gstType:t.gstType||"excluded",gatewayPercent:t.gatewayPercent||"",gatewayType:t.gatewayType||"customer",itineraryPdfUrl:t.itineraryPdfUrl||""}),h((null===(a=t.batches)||void 0===a?void 0:a.length)>0?t.batches.map((e=>{var t,n;return{...e,startDate:(null===(t=e.startDate)||void 0===t?void 0:t.split("T")[0])||"",endDate:(null===(n=e.endDate)||void 0===n?void 0:n.split("T")[0])||""}})):[{startDate:"",endDate:"",price:"",maxParticipants:10,currentParticipants:0}]),p((null===(o=t.itinerary)||void 0===o?void 0:o.length)>0?t.itinerary.map((e=>{var t;return{...e,activities:(null===(t=e.activities)||void 0===t?void 0:t.length)>0?e.activities:[""]}})):[{title:"Day 1",description:"",accommodation:"",meals:"",activities:[""]}]),g((null===(c=t.includes)||void 0===c?void 0:c.length)>0?t.includes:[""]),y((null===(u=t.excludes)||void 0===u?void 0:u.length)>0?t.excludes:[""]),b((null===(m=t.thingsToPack)||void 0===m?void 0:m.length)>0?t.thingsToPack:[{title:"",description:"",icon:""}]),j((null===(f=t.faqs)||void 0===f?void 0:f.length)>0?t.faqs:[{question:"",answer:""}])}}catch(x){console.error("Error fetching data:",x),pt.error(`Failed to load ${e?"trek data":"regions"}. Please try again.`),e&&t("/admin/treks")}finally{i(!1)}})()}),[e,t]);const C=e=>{const{name:t,value:n,type:r,checked:s}=e.target;d((e=>({...e,[t]:"checkbox"===r?s:n}))),N[t]&&k((e=>({...e,[t]:null})))},E=(e,t,n)=>{const r=[...u];r[e][t]=n,h(r)},T=(e,t,n)=>{const r=[...m];r[e][t]="meals"===t?String(n):n,"title"!==t||n.trim()||(r[e].title=`Day ${e+1}`),p(r)},D=(e,t,n)=>e((e=>e.map(((e,r)=>r===t?n:e)))),A=(e,t)=>e((e=>[...e,t])),P=(e,t)=>e((e=>e.filter(((e,n)=>n!==t)))),M=(e,t,n)=>{b((r=>r.map(((r,s)=>s===e?{...r,[t]:n}:r))))},L=(e,t,n)=>{j((r=>r.map(((r,s)=>s===e?{...r,[t]:n}:r))))},O=(e,t,n)=>{const r=[...c.customFields];r[e]={...r[e],[t]:n},d((e=>({...e,customFields:r})))},R=(e,t,n)=>{const r=[...c.addOns];r[e]={...r[e],[t]:n},d((e=>({...e,addOns:r})))},I={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:25}},exit:{opacity:0,x:-20,transition:{duration:.2}}};return s?(0,ft.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-200px)]",children:(0,ft.jsx)(np,{})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,ft.jsx)(QA,{variant:"secondary",onClick:()=>t("/admin/treks"),icon:Ph,children:"Back to Treks"}),(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:e?"Edit Trek":"Create New Trek"}),(0,ft.jsx)("div",{})]}),(0,ft.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),S)pt.error("Please wait for the PDF to finish uploading.");else if((()=>{var e,t;const n={};if(null!==(e=c.name)&&void 0!==e&&e.trim()||(n.name="Trek name is required"),null!==(t=c.description)&&void 0!==t&&t.trim()||(n.description="Description is required"),c.region||(n.region="Region is required"),c.season||(n.season="Season is required"),(!c.duration||c.duration<=0)&&(n.duration="Duration must be greater than 0"),(!c.displayPrice||c.displayPrice<0)&&(n.displayPrice="Display price must be non-negative"),c.strikedPrice&&(c.strikedPrice<0||c.strikedPrice<c.displayPrice)&&(n.strikedPrice="Striked price must be non-negative and not less than display price"),""===c.gstPercent)n.gstPercent="GST percentage is required";else{const e=Number(c.gstPercent);(isNaN(e)||e<0||e>100)&&(n.gstPercent="GST percentage must be between 0 and 100")}if(c.gstType||(n.gstType="GST type is required"),""===c.gatewayPercent)n.gatewayPercent="Gateway percentage is required";else{const e=Number(c.gatewayPercent);(isNaN(e)||e<0||e>100)&&(n.gatewayPercent="Gateway percentage must be between 0 and 100")}c.gatewayType||(n.gatewayType="Gateway charge type is required");const r=c.highlights.filter((e=>null===e||void 0===e?void 0:e.trim()));return r.length||(n.highlights="At least one highlight is required"),c.images&&0!==c.images.length||(n.imageUrl="At least one image is required"),u&&0!==u.length?u.forEach(((e,t)=>{e.startDate||(n[`batches.${t}.startDate`]="Start date is required"),e.endDate||(n[`batches.${t}.endDate`]="End date is required"),(!e.price||e.price<0)&&(n[`batches.${t}.price`]="Price must be non-negative"),(!e.maxParticipants||e.maxParticipants<=0)&&(n[`batches.${t}.maxParticipants`]="Max participants must be greater than 0")})):n.batches="At least one batch is required",m&&0!==m.length?m.forEach(((e,t)=>{var r,s;null!==(r=e.title)&&void 0!==r&&r.trim()||(n[`itinerary.${t}.title`]="Day title is required"),null!==(s=e.description)&&void 0!==s&&s.trim()||(n[`itinerary.${t}.description`]="Day description is required")})):n.itinerary="At least one day in itinerary is required",f&&0!==f.length&&!f.some((e=>!(null!==e&&void 0!==e&&e.trim())))||(n.includes="At least one inclusion is required"),x&&0!==x.length&&!x.some((e=>!(null!==e&&void 0!==e&&e.trim())))||(n.excludes="At least one exclusion is required"),console.log("Form validation errors:",n),k(n),0===Object.keys(n).length})()){r(!0);try{const n=c.highlights.filter((e=>null===e||void 0===e?void 0:e.trim())),r={...c,displayPrice:Number(c.displayPrice),strikedPrice:c.strikedPrice?Number(c.strikedPrice):void 0,gstPercent:Number(c.gstPercent)||0,gstType:c.gstType||"excluded",gatewayPercent:Number(c.gatewayPercent)||0,gatewayType:c.gatewayType||"customer",highlights:n,itineraryPdfUrl:c.itineraryPdfUrl||"",batches:u.map((e=>({...e,_id:e._id,price:Number(e.price),maxParticipants:Number(e.maxParticipants),currentParticipants:Number(e.currentParticipants||0)}))),itinerary:m.map((e=>({...e,activities:e.activities.filter((e=>""!==(null===e||void 0===e?void 0:e.trim())))}))),includes:f.filter((e=>""!==(null===e||void 0===e?void 0:e.trim()))),excludes:x.filter((e=>""!==(null===e||void 0===e?void 0:e.trim()))),thingsToPack:v.filter((e=>{var t,n;return""!==(null===(t=e.title)||void 0===t?void 0:t.trim())||""!==(null===(n=e.description)||void 0===n?void 0:n.trim())})),faqs:w.filter((e=>{var t,n;return""!==(null===(t=e.question)||void 0===t?void 0:t.trim())||""!==(null===(n=e.answer)||void 0===n?void 0:n.trim())})),customFields:c.customFields.filter((e=>{var t;return""!==(null===(t=e.fieldName)||void 0===t?void 0:t.trim())})),addOns:c.addOns.filter((e=>{var t;return""!==(null===(t=e.name)||void 0===t?void 0:t.trim())}))};let s;console.log("Submitting trek payload:",r),e?(s=await(async(e,t)=>{try{return console.log("Updating trek with ID:",e,"and data:",t),(await Ru.put(`/treks/${e}`,t)).data}catch(n){throw console.error("Error updating trek:",n),n}})(e,r),pt.success("Trek updated successfully!")):(s=await(async e=>{try{return console.log("Creating trek with data:",e),(await Ru.post("/treks",e)).data}catch(t){throw console.error("Error creating trek:",t),t}})(r),pt.success("Trek created successfully!")),t("/admin/treks")}catch(a){var s,i;if(console.error("Error saving trek:",a),null!==(s=a.response)&&void 0!==s&&null!==(i=s.data)&&void 0!==i&&i.errors){const e=a.response.data.errors;k((t=>({...t,...Object.keys(e).reduce(((t,n)=>(t[n]=e[n].message,t)),{})}))),pt.error("Please fix the validation errors.")}else pt.error(`Error saving trek: ${a.message||"Please try again."}`)}finally{r(!1)}}else pt.error("Please fix the errors in the form.")},className:"space-y-8",children:[(0,ft.jsx)(WA,{title:"Basic Information",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ft.jsx)(YA,{label:"Trek Name",id:"name",value:c.name,onChange:C,required:!0,error:N.name,placeholder:"e.g., Everest Base Camp Trek"}),(0,ft.jsxs)(GA,{label:"Region",id:"region",value:c.region,onChange:C,required:!0,error:N.region,children:[(0,ft.jsx)("option",{value:"",children:"Select Region"}),o.map((e=>(0,ft.jsx)("option",{value:e._id,children:e.name},e._id)))]}),(0,ft.jsxs)(GA,{label:"Difficulty",id:"difficulty",value:c.difficulty,onChange:C,children:[(0,ft.jsx)("option",{children:"Easy"})," ",(0,ft.jsx)("option",{children:"Moderate"})," ",(0,ft.jsx)("option",{children:"Difficult"})," ",(0,ft.jsx)("option",{children:"Challenging"})]}),(0,ft.jsx)(YA,{label:"Duration (days)",id:"duration",type:"number",min:"1",value:c.duration,onChange:C,required:!0,error:N.duration}),(0,ft.jsxs)(GA,{label:"Best Season",id:"season",value:c.season,onChange:C,children:[(0,ft.jsx)("option",{children:"Spring"})," ",(0,ft.jsx)("option",{children:"Summer"})," ",(0,ft.jsx)("option",{children:"Monsoon"})," ",(0,ft.jsx)("option",{children:"Autumn"})," ",(0,ft.jsx)("option",{children:"Winter"})," ",(0,ft.jsx)("option",{children:"Year-round"})]}),(0,ft.jsx)(YA,{label:"Display Price (INR)",id:"displayPrice",type:"number",min:"0",step:"0.01",value:c.displayPrice,onChange:C,required:!0,error:N.displayPrice,placeholder:"e.g., 26999"}),(0,ft.jsx)(YA,{label:"Striked Price (INR)",id:"strikedPrice",type:"number",min:"0",step:"0.01",value:c.strikedPrice,onChange:C,error:N.strikedPrice,placeholder:"e.g., 29999"}),(0,ft.jsx)(YA,{label:"Starting Point",id:"startingPoint",value:c.startingPoint,onChange:C,placeholder:"e.g., Lukla"}),(0,ft.jsx)(YA,{label:"Ending Point",id:"endingPoint",value:c.endingPoint,onChange:C,placeholder:"e.g., Lukla"}),(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["GST ",(0,ft.jsx)("span",{title:"Goods and Services Tax",className:"text-xs text-gray-400",children:"\u24d8"})]}),(0,ft.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ft.jsx)(YA,{label:"GST %",id:"gstPercent",type:"number",min:"0",max:"100",value:c.gstPercent,onChange:C,placeholder:"e.g., 5",style:{maxWidth:"120px"}}),(0,ft.jsxs)("div",{className:"flex gap-4 mt-1",children:[(0,ft.jsxs)("label",{className:"flex items-center border rounded-xl px-6 py-3 cursor-pointer text-base font-medium transition-all duration-150 "+("included"===c.gstType?"border-emerald-600 bg-emerald-50 ring-2 ring-emerald-200":"border-gray-300 bg-white"),children:[(0,ft.jsx)("input",{type:"radio",name:"gstType",value:"included",checked:"included"===c.gstType,onChange:C,className:"mr-2 accent-emerald-600"})," Price includes GST"]}),(0,ft.jsxs)("label",{className:"flex items-center border rounded-xl px-6 py-3 cursor-pointer text-base font-medium transition-all duration-150 "+("excluded"===c.gstType?"border-emerald-600 bg-emerald-50 ring-2 ring-emerald-200":"border-gray-300 bg-white"),children:[(0,ft.jsx)("input",{type:"radio",name:"gstType",value:"excluded",checked:"excluded"===c.gstType,onChange:C,className:"mr-2 accent-emerald-600"})," Price excludes GST"]})]})]})]}),(0,ft.jsxs)("div",{className:"md:col-span-2 mt-6",children:[(0,ft.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Gateway Charges ",(0,ft.jsx)("span",{title:"Payment gateway charges",className:"text-xs text-gray-400",children:"\u24d8"})]}),(0,ft.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ft.jsx)(YA,{label:"Gateway %",id:"gatewayPercent",type:"number",min:"0",max:"100",value:c.gatewayPercent,onChange:C,placeholder:"e.g., 2",style:{maxWidth:"120px"}}),(0,ft.jsxs)("div",{className:"flex gap-4 mt-1",children:[(0,ft.jsxs)("label",{className:"flex items-center border rounded-xl px-6 py-3 cursor-pointer text-base font-medium transition-all duration-150 "+("customer"===c.gatewayType?"border-emerald-600 bg-emerald-50 ring-2 ring-emerald-200":"border-gray-300 bg-white"),children:[(0,ft.jsx)("input",{type:"radio",name:"gatewayType",value:"customer",checked:"customer"===c.gatewayType,onChange:C,className:"mr-2 accent-emerald-600"})," Collect from customer"]}),(0,ft.jsxs)("label",{className:"flex items-center border rounded-xl px-6 py-3 cursor-pointer text-base font-medium transition-all duration-150 "+("self"===c.gatewayType?"border-emerald-600 bg-emerald-50 ring-2 ring-emerald-200":"border-gray-300 bg-white"),children:[(0,ft.jsx)("input",{type:"radio",name:"gatewayType",value:"self",checked:"self"===c.gatewayType,onChange:C,className:"mr-2 accent-emerald-600"})," I will pay"]})]})]})]}),(0,ft.jsx)(YA,{label:"Maximum Altitude (meters)",id:"maxAltitude",type:"number",min:"0",value:c.maxAltitude,onChange:C,required:!0,error:N.maxAltitude,placeholder:"e.g., 5000"}),(0,ft.jsx)(YA,{label:"Total Distance (km)",id:"distance",type:"number",min:"0",step:"0.1",value:c.distance,onChange:C,required:!0,error:N.distance,placeholder:"e.g., 50.5"}),(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Highlights ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsxs)("div",{className:"space-y-2",children:[(c.highlights||[""]).map(((e,t)=>(0,ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ft.jsx)("input",{type:"text",value:e,onChange:e=>{const n=[...c.highlights||[""]];n[t]=e.target.value,d((e=>({...e,highlights:n})))},className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",placeholder:`Highlight ${t+1}`}),(0,ft.jsx)("button",{type:"button",onClick:()=>{const e=c.highlights.filter(((e,n)=>n!==t));d((t=>({...t,highlights:e.length?e:[""]})))},className:"inline-flex items-center p-1.5 border border-transparent rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:(0,ft.jsx)(Um,{className:"h-4 w-4"})})]},t))),(0,ft.jsxs)("button",{type:"button",onClick:()=>{d((e=>({...e,highlights:[...e.highlights||[""],""]})))},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-emerald-700 bg-emerald-100 hover:bg-emerald-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)(_m,{className:"mr-1"})," Add Highlight"]})]}),N.highlights&&(0,ft.jsx)("p",{className:"mt-1 text-xs text-red-600",children:N.highlights})]}),(0,ft.jsxs)("div",{className:"form-group md:col-span-2",children:[(0,ft.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Trek Images ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("div",{className:"mb-2",children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Upload multiple images for the trek. The first image will be used as the cover image."})}),(0,ft.jsx)(HA,{images:c.images||[],onChange:e=>{d((t=>({...t,images:e,imageUrl:e[0]||""})))}}),N.imageUrl&&(0,ft.jsx)("p",{className:"mt-1 text-xs text-red-600",children:N.imageUrl})]}),(0,ft.jsxs)("div",{className:"form-group md:col-span-2",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Itinerary PDF"}),(0,ft.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ft.jsxs)("label",{htmlFor:"itineraryPdfUpload",className:"inline-flex items-center px-4 py-2 border border-emerald-600 text-emerald-700 bg-emerald-50 rounded-md shadow-sm text-sm font-medium cursor-pointer hover:bg-emerald-100 transition-colors",children:[(0,ft.jsx)("svg",{className:"h-5 w-5 mr-2 text-emerald-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),c.itineraryPdfUrl?"Replace PDF":"Upload PDF",(0,ft.jsx)("input",{id:"itineraryPdfUpload",type:"file",accept:"application/pdf",className:"hidden",onChange:async e=>{const t=e.target.files[0];if(t){console.log("[PDF UPLOAD] File selected:",t),_(!0);try{const e=new FormData;e.append("file",t),console.log("[PDF UPLOAD] FormData created, sending POST to /api/upload");const n=await Lu.post("/api/upload",e,{headers:{"Content-Type":"multipart/form-data"}});console.log("[PDF UPLOAD] Response:",n),d((e=>({...e,itineraryPdfUrl:n.data.url}))),pt.success("PDF uploaded successfully!")}catch(n){console.error("[PDF UPLOAD] PDF upload failed",n),pt.error("Failed to upload PDF. Please try again.")}finally{_(!1)}}}})]}),S&&(0,ft.jsxs)("span",{className:"ml-2 text-emerald-600 flex items-center text-xs",children:[(0,ft.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-1",viewBox:"0 0 24 24",children:[(0,ft.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ft.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}),c.itineraryPdfUrl&&!S&&(0,ft.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded px-3 py-2",children:[(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ft.jsx)("path",{d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm2 2h4v2H8V4zm-2 4h8v8H6V8z"})}),(0,ft.jsx)("a",{href:c.itineraryPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-700 underline text-sm font-medium",children:"View Itinerary PDF"}),(0,ft.jsx)("button",{type:"button",onClick:async()=>{if(c.itineraryPdfUrl)try{const e=c.itineraryPdfUrl.split(".com/");if(2!==e.length)throw new Error("Invalid S3 URL format");const t=encodeURIComponent(e[1]);await Lu.delete(`/api/upload/${t}`),d((e=>({...e,itineraryPdfUrl:""}))),pt.success("PDF deleted successfully!")}catch(e){pt.error("Failed to delete PDF."),console.error("Error deleting PDF:",e)}},className:"text-red-500 hover:underline text-xs ml-2",children:"Remove"})]})]}),(0,ft.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Only PDF files allowed. Max size: 5MB."})]})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,ft.jsxs)("select",{id:"category",name:"category",value:c.category,onChange:C,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md",children:[(0,ft.jsx)("option",{value:"",children:"Select a Category"}),XA.map((e=>(0,ft.jsx)("option",{value:e,children:ZA[e]},e)))]})]}),(0,ft.jsx)("div",{className:"md:col-span-2",children:(0,ft.jsx)(KA,{label:"Description",id:"description",value:c.description,onChange:C,required:!0,rows:5,error:N.description,placeholder:"Detailed description of the trek..."})}),(0,ft.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ft.jsx)("input",{type:"checkbox",id:"isEnabled",name:"isEnabled",checked:c.isEnabled,onChange:C,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:"isEnabled",className:"text-sm font-medium text-gray-700",children:"Enable Trek (Visible to users)"})]})]})}),(0,ft.jsxs)(WA,{title:"Batches",children:[(0,ft.jsx)(Tt,{children:u.map(((e,t)=>(0,ft.jsxs)(vc.div,{variants:I,initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:"p-4 border border-gray-200 rounded-md mb-4 bg-gray-50 relative",children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ft.jsx)(YA,{label:"Start Date",id:`batch_startDate_${t}`,type:"date",value:e.startDate,onChange:e=>E(t,"startDate",e.target.value),required:!0,error:N[`batches.${t}.startDate`]}),(0,ft.jsx)(YA,{label:"End Date",id:`batch_endDate_${t}`,type:"date",value:e.endDate,onChange:e=>E(t,"endDate",e.target.value),required:!0,error:N[`batches.${t}.endDate`]}),(0,ft.jsx)(YA,{label:"Price (INR)",id:`batch_price_${t}`,type:"number",min:"0",step:"0.01",value:e.price,onChange:e=>E(t,"price",e.target.value),required:!0,error:N[`batches.${t}.price`]}),(0,ft.jsx)(YA,{label:"Max Participants",id:`batch_maxParticipants_${t}`,type:"number",min:"1",value:e.maxParticipants,onChange:e=>E(t,"maxParticipants",e.target.value),required:!0,error:N[`batches.${t}.maxParticipants`]})]}),u.length>1&&(0,ft.jsx)(QA,{variant:"icon",onClick:()=>(e=>h(u.filter(((t,n)=>n!==e))))(t),className:"absolute top-2 right-2 text-red-500 hover:bg-red-100","aria-label":"Remove batch",children:(0,ft.jsx)(Um,{})})]},t)))}),(0,ft.jsx)(QA,{variant:"ghost",onClick:()=>h([...u,{startDate:"",endDate:"",price:"",maxParticipants:10,currentParticipants:0}]),icon:_m,children:"Add Batch"})]}),(0,ft.jsxs)(WA,{title:"Itinerary",children:[(0,ft.jsx)(Tt,{children:m.map(((e,t)=>(0,ft.jsxs)(vc.div,{variants:I,initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:"p-4 border border-gray-200 rounded-md mb-4 bg-gray-50 relative space-y-4",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ft.jsx)(YA,{label:`Day ${t+1} Title`,id:`itinerary_title_${t}`,value:e.title,onChange:e=>T(t,"title",e.target.value),placeholder:"e.g., Arrival in Kathmandu"}),m.length>1&&(0,ft.jsx)(QA,{variant:"icon",onClick:()=>(e=>p(m.filter(((t,n)=>n!==e))))(t),className:"text-red-500 hover:bg-red-100 mt-6","aria-label":"Remove day",children:(0,ft.jsx)(Um,{})})]}),(0,ft.jsx)(KA,{label:"Description",id:`itinerary_desc_${t}`,value:e.description,onChange:e=>T(t,"description",e.target.value),rows:3,placeholder:"Detailed plan for the day..."}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ft.jsx)(YA,{label:"Accommodation",id:`itinerary_acc_${t}`,value:e.accommodation,onChange:e=>T(t,"accommodation",e.target.value),placeholder:"e.g., Teahouse / Hotel"}),(0,ft.jsx)(YA,{label:"Meals Included",id:`itinerary_meals_${t}`,value:e.meals,onChange:e=>T(t,"meals",e.target.value),placeholder:"e.g., Breakfast, Lunch, Dinner"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Activities"}),(0,ft.jsx)(Tt,{children:e.activities.map(((n,r)=>(0,ft.jsxs)(vc.div,{variants:I,initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:"flex items-center space-x-2 mb-2",children:[(0,ft.jsx)(YA,{id:`activity_${t}_${r}`,value:n,onChange:e=>((e,t,n)=>{const r=[...m];r[e].activities[t]=n,p(r)})(t,r,e.target.value),placeholder:"e.g., Sightseeing tour",className:"flex-grow"}),e.activities.length>1&&(0,ft.jsx)(QA,{variant:"icon",onClick:()=>((e,t)=>{const n=[...m];n[e].activities=n[e].activities.filter(((e,n)=>n!==t)),p(n)})(t,r),className:"text-red-500 hover:bg-red-100","aria-label":"Remove activity",children:(0,ft.jsx)(Um,{})})]},r)))}),(0,ft.jsx)(QA,{variant:"ghost",size:"sm",onClick:()=>(e=>{const t=[...m];t[e].activities.push(""),p(t)})(t),icon:_m,children:"Add Activity"})]})]},t)))}),(0,ft.jsx)(QA,{variant:"ghost",onClick:()=>p([...m,{title:`Day ${m.length+1}`,description:"",accommodation:"",meals:"",activities:[""]}]),icon:_m,children:"Add Day"})]}),(0,ft.jsxs)(WA,{title:"Includes/Excludes/ThingsToPack/FAQs",children:[(0,ft.jsxs)(WA,{title:"What's Included",children:[(0,ft.jsx)(Tt,{children:f.map(((e,t)=>(0,ft.jsxs)(vc.div,{variants:I,initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:"flex items-center space-x-2 mb-2",children:[(0,ft.jsx)(YA,{id:`include_${t}`,value:e,onChange:e=>D(g,t,e.target.value),placeholder:"e.g., Airport transfers",className:"flex-grow"}),f.length>1&&(0,ft.jsx)(QA,{variant:"icon",onClick:()=>P(g,t),className:"text-red-500 hover:bg-red-100","aria-label":"Remove item",children:(0,ft.jsx)(Um,{})})]},t)))}),(0,ft.jsx)(QA,{variant:"ghost",onClick:()=>A(g,""),icon:_m,children:"Add Item"})]}),(0,ft.jsxs)(WA,{title:"What's Excluded",children:[(0,ft.jsx)(Tt,{children:x.map(((e,t)=>(0,ft.jsxs)(vc.div,{variants:I,initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:"flex items-center space-x-2 mb-2",children:[(0,ft.jsx)(YA,{id:`exclude_${t}`,value:e,onChange:e=>D(y,t,e.target.value),placeholder:"e.g., International flights",className:"flex-grow"}),x.length>1&&(0,ft.jsx)(QA,{variant:"icon",onClick:()=>P(y,t),className:"text-red-500 hover:bg-red-100","aria-label":"Remove item",children:(0,ft.jsx)(Um,{})})]},t)))}),(0,ft.jsx)(QA,{variant:"ghost",onClick:()=>A(y,""),icon:_m,children:"Add Item"})]}),(0,ft.jsxs)(WA,{title:"Things to Pack",children:[(0,ft.jsx)(Tt,{children:v.map(((e,t)=>(0,ft.jsxs)(vc.div,{variants:I,initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:"p-4 border border-gray-200 rounded-md mb-4 bg-gray-50 relative space-y-3",children:[(0,ft.jsx)("div",{className:"flex justify-end",children:v.length>1&&(0,ft.jsx)(QA,{variant:"icon",onClick:()=>(e=>b((t=>t.filter(((t,n)=>n!==e)))))(t),className:"text-red-500 hover:bg-red-100 absolute top-2 right-2","aria-label":"Remove item",children:(0,ft.jsx)(Um,{})})}),(0,ft.jsx)(YA,{label:"Item Title",id:`pack_title_${t}`,value:e.title,onChange:e=>M(t,"title",e.target.value),placeholder:"e.g., Warm Jacket"}),(0,ft.jsx)(KA,{label:"Description",id:`pack_desc_${t}`,value:e.description,onChange:e=>M(t,"description",e.target.value),rows:2,placeholder:"Details about the item..."}),(0,ft.jsx)(YA,{label:"Icon (Optional)",id:`pack_icon_${t}`,value:e.icon,onChange:e=>M(t,"icon",e.target.value),placeholder:"e.g., jacket-icon (CSS class or name)"})]},t)))}),(0,ft.jsx)(QA,{variant:"ghost",onClick:()=>b((e=>[...e,{title:"",description:"",icon:""}])),icon:_m,children:"Add Item"})]}),(0,ft.jsxs)(WA,{title:"Frequently Asked Questions",children:[(0,ft.jsx)(Tt,{children:w.map(((e,t)=>(0,ft.jsxs)(vc.div,{variants:I,initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:"p-4 border border-gray-200 rounded-md mb-4 bg-gray-50 relative space-y-3",children:[(0,ft.jsx)("div",{className:"flex justify-end",children:w.length>1&&(0,ft.jsx)(QA,{variant:"icon",onClick:()=>(e=>j((t=>t.filter(((t,n)=>n!==e)))))(t),className:"text-red-500 hover:bg-red-100 absolute top-2 right-2","aria-label":"Remove FAQ",children:(0,ft.jsx)(Um,{})})}),(0,ft.jsx)(YA,{label:"Question",id:`faq_question_${t}`,value:e.question,onChange:e=>L(t,"question",e.target.value),placeholder:"e.g., Is travel insurance required?"}),(0,ft.jsx)(KA,{label:"Answer",id:`faq_answer_${t}`,value:e.answer,onChange:e=>L(t,"answer",e.target.value),rows:3,placeholder:"Detailed answer..."})]},t)))}),(0,ft.jsx)(QA,{variant:"ghost",onClick:()=>j((e=>[...e,{question:"",answer:""}])),icon:_m,children:"Add FAQ"})]})]}),(0,ft.jsx)(WA,{title:"Add-ons",children:(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Add optional services or items that participants can choose during booking."}),(0,ft.jsx)(Tt,{children:c.addOns.map(((e,t)=>(0,ft.jsxs)(vc.div,{variants:I,initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:"p-4 border border-gray-200 rounded-md bg-gray-50 relative",children:[(0,ft.jsx)("div",{className:"absolute top-2 right-2",children:(0,ft.jsx)("button",{type:"button",onClick:()=>(e=>{d((t=>({...t,addOns:t.addOns.filter(((t,n)=>n!==e))})))})(t),className:"text-red-500 hover:text-red-700",children:(0,ft.jsx)(Um,{className:"h-4 w-4"})})}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ft.jsx)(YA,{label:"Add-on Name",value:e.name,onChange:e=>R(t,"name",e.target.value),placeholder:"e.g., Camping Gear Rental",required:!0}),(0,ft.jsx)(YA,{label:"Price (INR)",type:"number",min:"0",value:e.price,onChange:e=>R(t,"price",parseFloat(e.target.value)),placeholder:"e.g., 1000",required:!0})]}),(0,ft.jsx)("div",{className:"mt-4",children:(0,ft.jsx)(KA,{label:"Description",value:e.description,onChange:e=>R(t,"description",e.target.value),placeholder:"Describe what this add-on includes...",rows:2})}),(0,ft.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,ft.jsx)("input",{type:"checkbox",id:`addOn_${t}_enabled`,checked:e.isEnabled,onChange:e=>R(t,"isEnabled",e.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:`addOn_${t}_enabled`,className:"ml-2 block text-sm text-gray-900",children:"Enable this add-on"})]})]},t)))}),(0,ft.jsxs)("button",{type:"button",onClick:()=>{d((e=>({...e,addOns:[...e.addOns,{name:"",description:"",price:0,isEnabled:!0}]})))},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)(_m,{className:"h-4 w-4 mr-2"}),"Add New Add-on"]})]})}),(0,ft.jsx)(WA,{title:"Participant Information Fields",description:"Specify what additional information to collect from each participant during booking",children:(0,ft.jsxs)("div",{className:"space-y-6",children:[c.customFields.map(((e,t)=>(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,ft.jsx)(YA,{label:"Field Name",name:`customFields[${t}].fieldName`,value:e.fieldName,onChange:e=>O(t,"fieldName",e.target.value),placeholder:"e.g., PAN Number, Voter ID, Pickup Location"}),(0,ft.jsxs)(GA,{label:"Field Type",name:`customFields[${t}].fieldType`,value:e.fieldType,onChange:e=>O(t,"fieldType",e.target.value),children:[(0,ft.jsx)("option",{value:"text",children:"Text Input"}),(0,ft.jsx)("option",{value:"number",children:"Number Input"}),(0,ft.jsx)("option",{value:"select",children:"Dropdown"}),(0,ft.jsx)("option",{value:"checkbox",children:"Checkbox Group"})]})]}),(0,ft.jsx)("div",{className:"mt-4",children:(0,ft.jsx)(YA,{label:"Description",name:`customFields[${t}].description`,value:e.description,onChange:e=>O(t,"description",e.target.value),placeholder:"Brief description of what information to collect"})}),(0,ft.jsx)("div",{className:"mt-4",children:(0,ft.jsx)(YA,{label:"Placeholder Text",name:`customFields[${t}].placeholder`,value:e.placeholder,onChange:e=>O(t,"placeholder",e.target.value),placeholder:"Text to show in the input field before user types"})}),("select"===e.fieldType||"checkbox"===e.fieldType)&&(0,ft.jsxs)("div",{className:"mt-4",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"select"===e.fieldType?"Dropdown Options":"Checkbox Options"}),(0,ft.jsxs)("div",{className:"space-y-2",children:[e.options.map(((e,n)=>(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)("input",{type:"text",value:e,onChange:e=>((e,t,n)=>{const r=[...c.customFields];r[e].options[t]=n,d((e=>({...e,customFields:r})))})(t,n,e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:`Option ${n+1}`}),(0,ft.jsx)("button",{type:"button",onClick:()=>((e,t)=>{const n=[...c.customFields];n[e].options=n[e].options.filter(((e,n)=>n!==t)),d((e=>({...e,customFields:n})))})(t,n),className:"text-red-600 hover:text-red-800",children:(0,ft.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},n))),(0,ft.jsx)("button",{type:"button",onClick:()=>(e=>{const t=[...c.customFields];t[e].options.push(""),d((e=>({...e,customFields:t})))})(t),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Option"})]})]}),(0,ft.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("input",{type:"checkbox",id:`customFields[${t}].isRequired`,checked:e.isRequired,onChange:e=>O(t,"isRequired",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:`customFields[${t}].isRequired`,className:"ml-2 block text-sm text-gray-900",children:"Required Field"})]}),(0,ft.jsx)("button",{type:"button",onClick:()=>(e=>{d((t=>({...t,customFields:t.customFields.filter(((t,n)=>n!==e))})))})(t),className:"text-red-600 hover:text-red-800",children:"Remove Field"})]})]},t))),(0,ft.jsx)("button",{type:"button",onClick:()=>{d((e=>({...e,customFields:[...e.customFields,{fieldName:"",fieldType:"text",isRequired:!1,options:[],description:"",placeholder:""}]})))},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Participant Field"})]})}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,ft.jsx)(QA,{variant:"secondary",onClick:()=>t("/admin/treks"),disabled:n,children:"Cancel"}),(0,ft.jsx)(QA,{type:"submit",variant:"primary",disabled:n,children:n?"Saving...":e?"Update Trek":"Create Trek"})]})]})]})};const eP=function(e){let{children:t}=e;const n=ne(),{user:r}=yh();if("admin"!==(null===r||void 0===r?void 0:r.role))return(0,ft.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),(0,ft.jsx)("p",{className:"mt-2 text-gray-600",children:"You don't have permission to access this page."})]})});const s=(e,t,s,i)=>{var a,o,l;return!i||null!==r&&void 0!==r&&null!==(a=r.group)&&void 0!==a&&null!==(o=a.permissions)&&void 0!==o&&null!==(l=o.actions)&&void 0!==l&&l[i]?(0,ft.jsxs)(Me,{to:e,className:(n.pathname===e?"bg-emerald-900 text-white":"text-emerald-100 hover:bg-emerald-700")+" group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[t,s]}):null};return(0,ft.jsxs)("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[(0,ft.jsx)("div",{className:"hidden md:flex md:flex-shrink-0",children:(0,ft.jsx)("div",{className:"flex flex-col w-64",children:(0,ft.jsx)("div",{className:"flex flex-col h-0 flex-1 bg-emerald-800",children:(0,ft.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,ft.jsx)("div",{className:"flex items-center flex-shrink-0 px-4",children:(0,ft.jsx)("span",{className:"text-white text-xl font-bold",children:"Trek Admin"})}),(0,ft.jsxs)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:[s("/admin",(0,ft.jsx)(cm,{className:"mr-3 h-5 w-5 text-emerald-300"}),"Dashboard"),s("/admin/treks",(0,ft.jsx)(vm,{className:"mr-3 h-5 w-5 text-emerald-300"}),"Treks","manageTreks"),s("/admin/regions",(0,ft.jsx)(fm,{className:"mr-3 h-5 w-5 text-emerald-300"}),"Regions","manageRegions"),s("/admin/bookings",(0,ft.jsx)(Ih,{className:"mr-3 h-5 w-5 text-emerald-300"}),"Bookings","manageBookings"),s("/admin/users",(0,ft.jsx)(Gm,{className:"mr-3 h-5 w-5 text-emerald-300"}),"Users","manageUsers"),s("/admin/support",(0,ft.jsx)(Bm,{className:"mr-3 h-5 w-5 text-emerald-300"}),"Support","supportTickets"),s("/admin/sales",(0,ft.jsx)(zh,{className:"mr-3 h-5 w-5 text-emerald-300"}),"Sales","salesDashboard"),s("/admin/trek-sections",(0,ft.jsx)(mm,{className:"mr-3 h-5 w-5 text-emerald-300"}),"Trek Sections","trekSections"),s("/admin/user-groups",(0,ft.jsx)(Hm,{className:"mr-3 h-5 w-5 text-emerald-300"}),"User Groups","manageUserGroups")]})]})})})}),(0,ft.jsx)("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:(0,ft.jsx)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:t})})]})};const tP=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)("list");(0,a.useEffect)((()=>{u()}),[]);const u=async()=>{try{r(!0);const e=await Bu();t(e),i(null)}catch(e){console.error("Error fetching regions:",e),i("Failed to load regions"),pt.error("Failed to load regions")}finally{r(!1)}},h=e=>{l(e)};return n?(0,ft.jsx)(eP,{children:(0,ft.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ft.jsx)(np,{size:"lg"})})}):s?(0,ft.jsx)(eP,{children:(0,ft.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ft.jsx)("p",{className:"text-red-700",children:s})})}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("div",{className:"py-6",children:[(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:(0,ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Manage Regions"}),(0,ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ft.jsx)("button",{onClick:()=>d("list"),className:"p-2 rounded-md "+("list"===c?"bg-emerald-100 text-emerald-700":"text-gray-500 hover:bg-gray-100"),children:(0,ft.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,ft.jsx)("button",{onClick:()=>d("grid"),className:"p-2 rounded-md "+("grid"===c?"bg-emerald-100 text-emerald-700":"text-gray-500 hover:bg-gray-100"),children:(0,ft.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),(0,ft.jsxs)(Me,{to:"/admin/regions/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)(_m,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Region"]})]})]})}),(0,ft.jsx)("div",{className:"mt-8 max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:0===e.length?(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md p-6 text-center",children:[(0,ft.jsx)("p",{className:"text-gray-500 mb-4",children:"No regions found."}),(0,ft.jsxs)(Me,{to:"/admin/regions/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)(_m,{className:"-ml-1 mr-2 h-5 w-5"}),"Create Your First Region"]})]}):"grid"===c?(0,ft.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map((e=>(0,ft.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,ft.jsxs)("div",{className:"relative h-48",children:[e.coverImage?(0,ft.jsx)("img",{className:"w-full h-full object-cover",src:e.coverImage,alt:e.name}):(0,ft.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,ft.jsx)("span",{className:"text-gray-500 text-2xl",children:e.name.charAt(0)})}),(0,ft.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2",children:[(0,ft.jsx)(Me,{to:`/regions/${e._id}`,className:"p-2 bg-white rounded-full shadow-md text-emerald-600 hover:bg-emerald-50",children:(0,ft.jsx)(tm,{className:"h-4 w-4"})}),(0,ft.jsx)(Me,{to:`/admin/regions/${e._id}/edit`,className:"p-2 bg-white rounded-full shadow-md text-blue-600 hover:bg-blue-50",children:(0,ft.jsx)(Gh,{className:"h-4 w-4"})}),(0,ft.jsx)("button",{onClick:()=>h(e._id),className:"p-2 bg-white rounded-full shadow-md text-red-600 hover:bg-red-50",children:(0,ft.jsx)(Um,{className:"h-4 w-4"})})]})]}),(0,ft.jsxs)("div",{className:"p-4",children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,ft.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,ft.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(gm,{className:"mr-2"}),e.location]}),(0,ft.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(Ih,{className:"mr-2"}),e.bestSeason||"Year-round"]}),(0,ft.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(Hh,{className:"mr-2"}),e.avgTrekDuration?`${e.avgTrekDuration} days`:"N/A"]})]}),(0,ft.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,ft.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(e.isEnabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isEnabled?"Active":"Inactive"}),(0,ft.jsx)(Me,{to:`/regions/${e._id}`,className:"text-sm font-medium text-emerald-600 hover:text-emerald-500",children:"View Details"})]})]})]},e._id)))}):(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,ft.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map((e=>(0,ft.jsx)("li",{className:"px-6 py-4",children:(0,ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 h-16 w-16",children:e.coverImage?(0,ft.jsx)("img",{className:"h-16 w-16 rounded-lg object-cover",src:e.coverImage,alt:e.name}):(0,ft.jsx)("div",{className:"h-16 w-16 rounded-lg bg-gray-200 flex items-center justify-center",children:(0,ft.jsx)("span",{className:"text-gray-500 text-xl",children:e.name.charAt(0)})})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("div",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,ft.jsxs)("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(gm,{className:"mr-2"}),e.location]}),(0,ft.jsxs)("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(Ih,{className:"mr-2"}),e.bestSeason||"Year-round"]}),(0,ft.jsxs)("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(Hh,{className:"mr-2"}),e.avgTrekDuration?`${e.avgTrekDuration} days`:"N/A"]})]})]}),(0,ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ft.jsx)(Me,{to:`/regions/${e._id}`,className:"text-emerald-600 hover:text-emerald-900",title:"View",children:(0,ft.jsx)(tm,{className:"h-5 w-5"})}),(0,ft.jsx)(Me,{to:`/admin/regions/${e._id}/edit`,className:"text-blue-600 hover:text-blue-900",title:"Edit",children:(0,ft.jsx)(Gh,{className:"h-5 w-5"})}),(0,ft.jsx)("button",{onClick:()=>h(e._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:(0,ft.jsx)(Um,{className:"h-5 w-5"})})]})]})},e._id)))})})})]}),o&&(0,ft.jsx)(Uj,{title:"Confirm Deletion",onClose:()=>l(null),children:(0,ft.jsxs)("div",{className:"p-6",children:[(0,ft.jsx)("p",{className:"mb-4",children:"Are you sure you want to delete this region? This action cannot be undone."}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{onClick:async()=>{if(o)try{r(!0),await(async e=>{try{return(await Ru.delete(`/regions/${e}`)).data}catch(s){throw console.error("Error deleting region:",s),s}})(o),pt.success("Region deleted successfully"),l(null),u()}catch(e){console.error("Error deleting region:",e),pt.error("Failed to delete region")}finally{r(!1)}},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})};function nP(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=nP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rP(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=nP(e))&&(r&&(r+=" "),r+=t);return r}function sP(){return Object.assign({},Hw())}function iP(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):Nw(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class aP{subPriority=0;validate(e,t){return!0}}class oP extends aP{constructor(e,t,n,r,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class lP extends aP{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>Nw(t,e))}set(e,t){return t.timestampIsSet?e:Nw(e,iP(e,this.context))}}class cP{run(e,t,n,r){const s=this.parse(e,t,n,r);return s?{setter:new oP(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}const dP=/^(1[0-2]|0?\d)/,uP=/^(3[0-1]|[0-2]?\d)/,hP=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,mP=/^(5[0-3]|[0-4]?\d)/,pP=/^(2[0-3]|[0-1]?\d)/,fP=/^(2[0-4]|[0-1]?\d)/,gP=/^(1[0-1]|0?\d)/,xP=/^(1[0-2]|0?\d)/,yP=/^[0-5]?\d/,vP=/^[0-5]?\d/,bP=/^\d/,wP=/^\d{1,2}/,jP=/^\d{1,3}/,NP=/^\d{1,4}/,kP=/^-?\d+/,SP=/^-?\d/,_P=/^-?\d{1,2}/,CP=/^-?\d{1,3}/,EP=/^-?\d{1,4}/,TP=/^([+-])(\d{2})(\d{2})?|Z/,DP=/^([+-])(\d{2})(\d{2})|Z/,AP=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,PP=/^([+-])(\d{2}):(\d{2})|Z/,MP=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function LP(e,t){return e?{value:t(e.value),rest:e.rest}:e}function OP(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function RP(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*ww+i*bw+1e3*a),rest:t.slice(n[0].length)}}function IP(e){return OP(kP,e)}function FP(e,t){switch(e){case 1:return OP(bP,t);case 2:return OP(wP,t);case 3:return OP(jP,t);case 4:return OP(NP,t);default:return OP(new RegExp("^\\d{1,"+e+"}"),t)}}function zP(e,t){switch(e){case 1:return OP(SP,t);case 2:return OP(_P,t);case 3:return OP(CP,t);case 4:return OP(EP,t);default:return OP(new RegExp("^-?\\d{1,"+e+"}"),t)}}function BP(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function qP(e,t){const n=t>0,r=n?t:1-t;let s;if(r<=50)s=e||100;else{const t=r+50;s=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?s:1-s}function UP(e){return e%400===0||e%4===0&&e%100!==0}function VP(e,t,n){const r=kw(e,n?.in),s=ij(r,n)-t;return r.setDate(r.getDate()-7*s),kw(r,n?.in)}function $P(e,t,n){const r=kw(e,n?.in),s=nj(r,n)-t;return r.setDate(r.getDate()-7*s),r}const HP=[31,28,31,30,31,30,31,31,30,31,30,31],WP=[31,29,31,30,31,30,31,31,30,31,30,31];function YP(e,t,n){const r=kw(e,n?.in);return isNaN(t)?Nw(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function KP(e,t,n){const r=Hw(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=kw(e,n?.in),a=i.getDay(),o=7-s;return YP(i,t<0||t>6?t-(a+o)%7:((t%7+7)%7+o)%7-(a+o)%7,n)}function GP(e,t){const n=kw(e,t?.in).getDay();return 0===n?7:n}function QP(e,t,n){const r=kw(e,n?.in);return YP(r,t-GP(r,n),n)}const XP={G:new class extends cP{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends cP{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return LP(FP(4,e),r);case"yo":return LP(n.ordinalNumber(e,{unit:"year"}),r);default:return LP(FP(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=qP(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const s="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}},Y:new class extends cP{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return LP(FP(4,e),r);case"Yo":return LP(n.ordinalNumber(e,{unit:"year"}),r);default:return LP(FP(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const s=rj(e,r);if(n.isTwoDigitYear){const t=qP(n.year,s);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Zw(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Zw(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends cP{priority=130;parse(e,t){return zP("R"===t?4:t.length,e)}set(e,t,n){const r=Nw(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Jw(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends cP{priority=130;parse(e,t){return zP("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends cP{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return FP(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends cP{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return FP(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends cP{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return LP(OP(dP,e),r);case"MM":return LP(FP(2,e),r);case"Mo":return LP(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends cP{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return LP(OP(dP,e),r);case"LL":return LP(FP(2,e),r);case"Lo":return LP(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends cP{priority=100;parse(e,t,n){switch(t){case"w":return OP(mP,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return FP(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return Zw(VP(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends cP{priority=100;parse(e,t,n){switch(t){case"I":return OP(mP,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return FP(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Jw($P(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends cP{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return OP(uP,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return FP(t.length,e)}}validate(e,t){const n=UP(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=WP[r]:t>=1&&t<=HP[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends cP{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return OP(hP,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return FP(t.length,e)}}validate(e,t){return UP(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends cP{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=KP(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends cP{priority=90;parse(e,t,n,r){const s=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return LP(FP(t.length,e),s);case"eo":return LP(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=KP(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends cP{priority=90;parse(e,t,n,r){const s=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return LP(FP(t.length,e),s);case"co":return LP(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=KP(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends cP{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return FP(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return LP(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return LP(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return LP(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return LP(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=QP(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends cP{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(BP(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends cP{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(BP(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends cP{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(BP(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends cP{priority=70;parse(e,t,n){switch(t){case"h":return OP(xP,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return FP(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends cP{priority=70;parse(e,t,n){switch(t){case"H":return OP(pP,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return FP(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends cP{priority=70;parse(e,t,n){switch(t){case"K":return OP(gP,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return FP(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends cP{priority=70;parse(e,t,n){switch(t){case"k":return OP(fP,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return FP(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends cP{priority=60;parse(e,t,n){switch(t){case"m":return OP(yP,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return FP(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends cP{priority=50;parse(e,t,n){switch(t){case"s":return OP(vP,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return FP(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends cP{priority=30;parse(e,t){return LP(FP(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends cP{priority=10;parse(e,t){switch(t){case"X":return RP(TP,e);case"XX":return RP(DP,e);case"XXXX":return RP(AP,e);case"XXXXX":return RP(MP,e);default:return RP(PP,e)}}set(e,t,n){return t.timestampIsSet?e:Nw(e,e.getTime()-Ww(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends cP{priority=10;parse(e,t){switch(t){case"x":return RP(TP,e);case"xx":return RP(DP,e);case"xxxx":return RP(AP,e);case"xxxxx":return RP(MP,e);default:return RP(PP,e)}}set(e,t,n){return t.timestampIsSet?e:Nw(e,e.getTime()-Ww(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends cP{priority=40;parse(e){return IP(e)}set(e,t,n){return[Nw(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends cP{priority=20;parse(e){return IP(e)}set(e,t,n){return[Nw(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},ZP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eM=/^'([^]*?)'?$/,tM=/''/g,nM=/\S/,rM=/[a-zA-Z]/;function sM(e,t,n,r){const s=()=>Nw(r?.in||n,NaN),i=sP(),a=r?.locale??i.locale??Vw,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!t)return e?s():kw(n,r?.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:a},d=[new lP(r?.in,n)],u=t.match(JP).map((e=>{const t=e[0];if(t in bj){return(0,bj[t])(e,a.formatLong)}return e})).join("").match(ZP),h=[];for(let g of u){!r?.useAdditionalWeekYearTokens&&Sj(g)&&_j(g,t,e),!r?.useAdditionalDayOfYearTokens&&kj(g)&&_j(g,t,e);const n=g[0],i=XP[n];if(i){const{incompatibleTokens:t}=i;if(Array.isArray(t)){const e=h.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${g}\` at the same time`)}else if("*"===i.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);h.push({token:n,fullToken:g});const r=i.run(e,g,a.match,c);if(!r)return s();d.push(r.setter),e=r.rest}else{if(n.match(rM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===g?g="'":"'"===n&&(g=iM(g)),0!==e.indexOf(g))return s();e=e.slice(g.length)}}if(e.length>0&&nM.test(e))return s();const m=d.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>d.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let p=kw(n,r?.in);if(isNaN(+p))return s();const f={};for(const g of m){if(!g.validate(p,c))return s();const e=g.set(p,f,c);Array.isArray(e)?(p=e[0],Object.assign(f,e[1])):p=e}return p}function iM(e){return e.match(eM)[1].replace(tM,"'")}function aM(e,t){return+kw(e)<+kw(t)}function oM(e,t,n){const r=kw(e,n?.in);return r.setHours(t),r}function lM(e,t,n){const r=kw(e,n?.in);return r.setMinutes(t),r}function cM(e,t,n){const r=kw(e,n?.in);return r.setSeconds(t),r}function dM(e,t){const n=kw(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function uM(e,t){const n=kw(e,t?.in),r=n.getMonth(),s=r-r%3;return n.setMonth(s,1),n.setHours(0,0,0,0),n}function hM(e,t){const n=kw(e,t?.in);return n.setHours(23,59,59,999),n}function mM(e,t){const n=Hw(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=kw(e,t?.in),i=s.getDay(),a=6+(i<r?-7:0)-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function pM(e,t){const n=kw(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function fM(e,t,n){const[r,s]=Yw(n?.in,e,t);return r.getFullYear()===s.getFullYear()}function gM(e,t,n){const[r,s]=Yw(n?.in,e,t);return+uM(r)===+uM(s)}function xM(e,t,n){const[r,s]=Yw(n?.in,e,t);return+Kw(r)===+Kw(s)}function yM(e,t){return+kw(e)===+kw(t)}function vM(e,t,n){const r=+kw(e,n?.in),[s,i]=[+kw(t.start,n?.in),+kw(t.end,n?.in)].sort(((e,t)=>e-t));return r>=s&&r<=i}function bM(e,t){const n=kw(e,t?.in),r=n.getFullYear(),s=n.getMonth(),i=Nw(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function wM(e,t,n){const r=kw(e,n?.in),s=r.getFullYear(),i=r.getDate(),a=Nw(n?.in||e,0);a.setFullYear(s,t,15),a.setHours(0,0,0,0);const o=bM(a);return r.setMonth(t,Math.min(i,o)),r}function jM(e,t,n){const r=kw(e,n?.in),s=t-(Math.trunc(r.getMonth()/3)+1);return wM(r,r.getMonth()+3*s)}function NM(e,t){return kw(e,t?.in).getFullYear()}function kM(e,t){return kw(e,t?.in).getMonth()}function SM(e,t){const n=kw(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function _M(e,t){const n=kw(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function CM(e,t){return kw(e,t?.in).getHours()}function EM(e,t){return kw(e,t?.in).getMinutes()}function TM(e){return kw(e).getSeconds()}function DM(e,t,n){const r=kw(e,n?.in);if(isNaN(t))return Nw(n?.in||e,NaN);if(!t)return r;const s=r.getDate(),i=Nw(n?.in||e,r.getTime());i.setMonth(r.getMonth()+t+1,0);return s>=i.getDate()?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function AM(e,t,n){return DM(e,-t,n)}function PM(e,t,n){const[r,s]=Yw(n?.in,e,t);return 12*(r.getFullYear()-s.getFullYear())+(r.getMonth()-s.getMonth())}function MM(e,t,n){return DM(e,3*t,n)}function LM(e,t,n){return MM(e,-t,n)}function OM(e,t,n){const[r,s]=Yw(n?.in,e,t);return 4*(r.getFullYear()-s.getFullYear())+(_M(r)-_M(s))}function RM(e,t,n){return DM(e,12*t,n)}function IM(e,t,n){return RM(e,-t,n)}function FM(e,t,n){const[r,s]=Yw(n?.in,e,t);return r.getFullYear()-s.getFullYear()}function zM(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=Nw.bind(null,e));const t=kw(e,r);(!n||n>t||isNaN(+t))&&(n=t)})),Nw(r,n||NaN)}function BM(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=Nw.bind(null,e));const t=kw(e,r);(!n||n<t||isNaN(+t))&&(n=t)})),Nw(r,n||NaN)}function qM(e,t,n){return Nw(n?.in||e,+kw(e)+t)}function UM(e,t,n){return qM(e,t*ww,n)}function VM(e,t,n){const r=kw(e,n?.in);return r.setTime(r.getTime()+t*bw),r}function $M(e,t,n){return qM(e,1e3*t,n)}function HM(e,t){return+kw(e)>+kw(t)}function WM(e,t){return kw(e,t?.in).getDay()}function YM(e,t){return kw(e,t?.in).getDate()}function KM(e,t,n){return YP(e,7*t,n)}function GM(e){return+kw(e)}function QM(e,t,n){const r=kw(e,n?.in);return isNaN(+r)?Nw(n?.in||e,NaN):(r.setFullYear(t),r)}function XM(e,t,n){const[r,s]=Yw(n?.in,e,t),i=ZM(r,s),a=Math.abs(Gw(r,s));r.setDate(r.getDate()-i*a);const o=i*(a-Number(ZM(r,s)===-i));return 0===o?0:o}function ZM(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function JM(e,t,n){return KM(e,-t,n)}function eL(e,t,n){return YP(e,-t,n)}function tL(){return"undefined"!==typeof window}function nL(e){return iL(e)?(e.nodeName||"").toLowerCase():"#document"}function rL(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function sL(e){var t;return null==(t=(iL(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function iL(e){return!!tL()&&(e instanceof Node||e instanceof rL(e).Node)}function aL(e){return!!tL()&&(e instanceof Element||e instanceof rL(e).Element)}function oL(e){return!!tL()&&(e instanceof HTMLElement||e instanceof rL(e).HTMLElement)}function lL(e){return!(!tL()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof rL(e).ShadowRoot)}function cL(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=fL(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function dL(e){return["table","td","th"].includes(nL(e))}function uL(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(Wj){return!1}}))}function hL(e){const t=mL(),n=aL(e)?fL(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function mL(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function pL(e){return["html","body","#document"].includes(nL(e))}function fL(e){return rL(e).getComputedStyle(e)}function gL(e){return aL(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xL(e){if("html"===nL(e))return e;const t=e.assignedSlot||e.parentNode||lL(e)&&e.host||sL(e);return lL(t)?t.host:t}function yL(e){const t=xL(e);return pL(t)?e.ownerDocument?e.ownerDocument.body:e.body:oL(t)&&cL(t)?t:yL(t)}function vL(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const s=yL(e),i=s===(null==(r=e.ownerDocument)?void 0:r.body),a=rL(s);if(i){const e=bL(a);return t.concat(a,a.visualViewport||[],cL(s)?s:[],e&&n?vL(e):[])}return t.concat(s,vL(s,[],n))}function bL(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const wL=Math.min,jL=Math.max,NL=Math.round,kL=Math.floor,SL=e=>({x:e,y:e}),_L={left:"right",right:"left",bottom:"top",top:"bottom"},CL={start:"end",end:"start"};function EL(e,t){return"function"===typeof e?e(t):e}function TL(e){return e.split("-")[0]}function DL(e){return e.split("-")[1]}function AL(e){return"y"===e?"height":"width"}function PL(e){return["top","bottom"].includes(TL(e))?"y":"x"}function ML(e){return"x"===PL(e)?"y":"x"}function LL(e){return e.replace(/start|end/g,(e=>CL[e]))}function OL(e){return e.replace(/left|right|bottom|top/g,(e=>_L[e]))}function RL(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function IL(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function FL(e,t,n){let{reference:r,floating:s}=e;const i=PL(t),a=ML(t),o=AL(a),l=TL(t),c="y"===i,d=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,h=r[o]/2-s[o]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-s.width,y:u};break;default:m={x:r.x,y:r.y}}switch(DL(t)){case"start":m[a]-=h*(n&&c?-1:1);break;case"end":m[a]+=h*(n&&c?-1:1)}return m}async function zL(e,t){var n;void 0===t&&(t={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:m=0}=EL(t,e),p=RL(m),f=o[h?"floating"===u?"reference":"floating":u],g=IL(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(f)))||n?f:f.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(o.floating)),v=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},b=IL(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:y,strategy:l}):x);return{top:(g.top-b.top+p.top)/v.y,bottom:(b.bottom-g.bottom+p.bottom)/v.y,left:(g.left-b.left+p.left)/v.x,right:(b.right-g.right+p.right)/v.x}}function BL(e){const t=fL(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=oL(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,o=NL(n)!==i||NL(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function qL(e){return aL(e)?e:e.contextElement}function UL(e){const t=qL(e);if(!oL(t))return SL(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=BL(t);let a=(i?NL(n.width):n.width)/r,o=(i?NL(n.height):n.height)/s;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}const VL=SL(0);function $L(e){const t=rL(e);return mL()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:VL}function HL(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),i=qL(e);let a=SL(1);t&&(r?aL(r)&&(a=UL(r)):a=UL(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==rL(e))&&t}(i,n,r)?$L(i):SL(0);let l=(s.left+o.x)/a.x,c=(s.top+o.y)/a.y,d=s.width/a.x,u=s.height/a.y;if(i){const e=rL(i),t=r&&aL(r)?rL(r):r;let n=e,s=bL(n);for(;s&&r&&t!==n;){const e=UL(s),t=s.getBoundingClientRect(),r=fL(s),i=t.left+(s.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(s.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=i,c+=a,n=rL(s),s=bL(n)}}return IL({width:d,height:u,x:l,y:c})}function WL(e,t){const n=gL(e).scrollLeft;return t?t.left+n:HL(sL(e)).left+n}function YL(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:WL(e,r)),y:r.top+t.scrollTop}}function KL(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=rL(e),r=sL(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;const e=mL();(!e||e&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=sL(e),n=gL(e),r=e.ownerDocument.body,s=jL(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=jL(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+WL(e);const o=-n.scrollTop;return"rtl"===fL(r).direction&&(a+=jL(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}(sL(e));else if(aL(t))r=function(e,t){const n=HL(e,!0,"fixed"===t),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=oL(e)?UL(e):SL(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:s*i.x,y:r*i.y}}(t,n);else{const n=$L(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return IL(r)}function GL(e,t){const n=xL(e);return!(n===t||!aL(n)||pL(n))&&("fixed"===fL(n).position||GL(n,t))}function QL(e,t,n){const r=oL(t),s=sL(t),i="fixed"===n,a=HL(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=SL(0);if(r||!r&&!i)if(("body"!==nL(t)||cL(s))&&(o=gL(t)),r){const e=HL(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else s&&(l.x=WL(s));const c=!s||r||i?SL(0):YL(s,o);return{x:a.left+o.scrollLeft-l.x-c.x,y:a.top+o.scrollTop-l.y-c.y,width:a.width,height:a.height}}function XL(e){return"static"===fL(e).position}function ZL(e,t){if(!oL(e)||"fixed"===fL(e).position)return null;if(t)return t(e);let n=e.offsetParent;return sL(e)===n&&(n=n.ownerDocument.body),n}function JL(e,t){const n=rL(e);if(uL(e))return n;if(!oL(e)){let t=xL(e);for(;t&&!pL(t);){if(aL(t)&&!XL(t))return t;t=xL(t)}return n}let r=ZL(e,t);for(;r&&dL(r)&&XL(r);)r=ZL(r,t);return r&&pL(r)&&XL(r)&&!hL(r)?n:r||function(e){let t=xL(e);for(;oL(t)&&!pL(t);){if(hL(t))return t;if(uL(t))return null;t=xL(t)}return null}(e)||n}const eO={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i="fixed"===s,a=sL(r),o=!!t&&uL(t.floating);if(r===a||o&&i)return n;let l={scrollLeft:0,scrollTop:0},c=SL(1);const d=SL(0),u=oL(r);if((u||!u&&!i)&&(("body"!==nL(r)||cL(a))&&(l=gL(r)),oL(r))){const e=HL(r);c=UL(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const h=!a||u||i?SL(0):YL(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:sL,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i="clippingAncestors"===n?uL(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=vL(e,[],!1).filter((e=>aL(e)&&"body"!==nL(e))),s=null;const i="fixed"===fL(e).position;let a=i?xL(e):e;for(;aL(a)&&!pL(a);){const t=fL(a),n=hL(a);n||"fixed"!==t.position||(s=null),(i?!n&&!s:!n&&"static"===t.position&&s&&["absolute","fixed"].includes(s.position)||cL(a)&&!n&&GL(e,a))?r=r.filter((e=>e!==a)):s=t,a=xL(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...i,r],o=a[0],l=a.reduce(((e,n)=>{const r=KL(t,n,s);return e.top=jL(r.top,e.top),e.right=wL(r.right,e.right),e.bottom=wL(r.bottom,e.bottom),e.left=jL(r.left,e.left),e}),KL(t,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:JL,getElementRects:async function(e){const t=this.getOffsetParent||JL,n=this.getDimensions,r=await n(e.floating);return{reference:QL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=BL(e);return{width:t,height:n}},getScale:UL,isElement:aL,isRTL:function(e){return"rtl"===fL(e).direction}};function tO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nO(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=qL(e),d=s||i?[...c?vL(c):[],...vL(t)]:[];d.forEach((e=>{s&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const u=c&&o?function(e,t){let n,r=null;const s=sL(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:m}=c;if(o||t(),!h||!m)return;const p={rootMargin:-kL(u)+"px "+-kL(s.clientWidth-(d+h))+"px "+-kL(s.clientHeight-(u+m))+"px "+-kL(d)+"px",threshold:jL(0,wL(1,l))||1};let f=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!f)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||tO(c,e.getBoundingClientRect())||a(),f=!1}try{r=new IntersectionObserver(g,{...p,root:s.ownerDocument})}catch(Wj){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),i}(c,n):null;let h,m=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let f=l?HL(e):null;return l&&function t(){const r=HL(e);f&&!tO(f,r)&&n();f=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{s&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const rO=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:s}=e,i=await(null==r.isRTL?void 0:r.isRTL(s.floating)),a=TL(n),o=DL(n),l="y"===PL(n),c=["left","top"].includes(a)?-1:1,d=i&&l?-1:1,u=EL(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"===typeof p&&(m="end"===o?-1*p:p),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}(t,e);return a===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},sO=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:f=!0,...g}=EL(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const x=TL(s),y=PL(o),v=TL(o)===o,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(v||!f?[OL(o)]:function(e){const t=OL(e);return[LL(e),t,LL(t)]}(o)),j="none"!==p;!h&&j&&w.push(...function(e,t,n,r){const s=DL(e);let i=function(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}(TL(e),"start"===n,r);return s&&(i=i.map((e=>e+"-"+s)),t&&(i=i.concat(i.map(LL)))),i}(o,f,p,b));const N=[o,...w],k=await zL(t,g),S=[];let _=(null==(r=i.flip)?void 0:r.overflows)||[];if(d&&S.push(k[x]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=DL(e),s=ML(e),i=AL(s);let a="x"===s?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=OL(a)),[a,OL(a)]}(s,a,b);S.push(k[e[0]],k[e[1]])}if(_=[..._,{placement:s,overflows:S}],!S.every((e=>e<=0))){var C,E;const e=((null==(C=i.flip)?void 0:C.index)||0)+1,t=N[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let n=null==(E=_.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:E.placement;if(!n)switch(m){case"bestFit":{var T;const e=null==(T=_.filter((e=>{if(j){const t=PL(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=o}if(s!==n)return{reset:{placement:n}}}return{}}}},iO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=EL(e,t)||{};if(null==c)return{};const u=RL(d),h={x:n,y:r},m=ML(s),p=AL(m),f=await a.getDimensions(c),g="y"===m,x=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",b=i.reference[p]+i.reference[m]-h[m]-i.floating[p],w=h[m]-i.reference[m],j=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let N=j?j[v]:0;N&&await(null==a.isElement?void 0:a.isElement(j))||(N=o.floating[v]||i.floating[p]);const k=b/2-w/2,S=N/2-f[p]/2-1,_=wL(u[x],S),C=wL(u[y],S),E=_,T=N-f[p]-C,D=N/2-f[p]/2+k,A=function(e,t,n){return jL(e,wL(t,n))}(E,D,T),P=!l.arrow&&null!=DL(s)&&D!==A&&i.reference[p]/2-(D<E?_:C)-f[p]/2<0,M=P?D<E?D-E:D-T:0;return{[m]:h[m]+M,data:{[m]:A,centerOffset:D-A-M,...P&&{alignmentOffset:M}},reset:P}}}),aO=(e,t,n)=>{const r=new Map,s={platform:eO,...n},i={...s.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=FL(c,r,l),h=r,m={},p=0;for(let f=0;f<o.length;f++){const{name:n,fn:i}=o[f],{x:g,y:x,data:y,reset:v}=await i({x:d,y:u,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:c,platform:a,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=x?x:u,m={...m,[n]:{...m[n],...y}},v&&p<=50&&(p++,"object"===typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:s}):v.rects),({x:d,y:u}=FL(c,h,l))),f=-1)}return{x:d,y:u,placement:h,strategy:s,middlewareData:m}})(e,t,{...s,platform:i})};var oO="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;function lO(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!lO(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;0!==r--;){const n=s[r];if(("_owner"!==n||!e.$$typeof)&&!lO(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function cO(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dO(e,t){const n=cO(e);return Math.round(t*n)/n}function uO(e){const t=a.useRef(e);return oO((()=>{t.current=e})),t}const hO=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(s=n,{}.hasOwnProperty.call(s,"current"))?null!=n.current?iO({element:n.current,padding:r}).fn(t):{}:n?iO({element:n,padding:r}).fn(t):{};var s}}),mO=(e,t)=>({...rO(e),options:[e,t]}),pO=(e,t)=>({...hO(e),options:[e,t]});const fO={...o},gO=fO.useInsertionEffect||(e=>e());function xO(e){const t=a.useRef((()=>{0}));return gO((()=>{t.current=e})),a.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const yO="ArrowUp",vO="ArrowDown",bO="ArrowLeft",wO="ArrowRight";var jO="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;const NO=[bO,wO],kO=[yO,vO];let SO=!1,_O=0;const CO=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_O++;const EO=fO.useId||function(){const[e,t]=a.useState((()=>SO?CO():void 0));return jO((()=>{null==e&&t(CO())}),[]),a.useEffect((()=>{SO=!0}),[]),e};const TO=a.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:s,shift:i}},width:o=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:u,stroke:h,d:m,style:{transform:p,...f}={},...g}=e;const x=EO(),[y,v]=a.useState(!1);if(jO((()=>{if(!r)return;"rtl"===fL(r).direction&&v(!0)}),[r]),!r)return null;const[b,w]=n.split("-"),j="top"===b||"bottom"===b;let N=u;(j&&null!=i&&i.x||!j&&null!=i&&i.y)&&(N=null);const k=2*d,S=k/2,_=o/2*(c/-8+1),C=l/2*c/4,E=!!m,T=N&&"end"===w?"bottom":"top";let D=N&&"end"===w?"right":"left";N&&y&&(D="end"===w?"left":"right");const A=null!=(null==s?void 0:s.x)?N||s.x:"",P=null!=(null==s?void 0:s.y)?N||s.y:"",M=m||"M0,0 H"+o+" L"+(o-_)+","+(l-C)+" Q"+o/2+","+l+" "+_+","+(l-C)+" Z",L={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[b];return(0,ft.jsxs)("svg",{...g,"aria-hidden":!0,ref:t,width:E?o:o+k,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[D]:A,[T]:P,[b]:j||E?"100%":"calc(100% - "+k/2+"px)",transform:[L,p].filter((e=>!!e)).join(" "),...f},children:[k>0&&(0,ft.jsx)("path",{clipPath:"url(#"+x+")",fill:"none",stroke:h,strokeWidth:k+(m?0:1),d:M}),(0,ft.jsx)("path",{stroke:k&&!m?g.fill:"none",d:M}),(0,ft.jsx)("clipPath",{id:x,children:(0,ft.jsx)("rect",{x:-S,y:S*(E?-1:1),width:o+k,height:o})})]})}));function DO(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const AO=a.createContext(null),PO=a.createContext(null),MO=()=>{var e;return(null==(e=a.useContext(AO))?void 0:e.id)||null},LO=()=>a.useContext(PO);function OO(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=EO(),i=a.useRef({}),[o]=a.useState((()=>DO())),l=null!=MO(),[c,d]=a.useState(r.reference),u=xO(((e,t,r)=>{i.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),h=a.useMemo((()=>({setPositionReference:d})),[]),m=a.useMemo((()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference})),[c,r.reference,r.floating]);return a.useMemo((()=>({dataRef:i,open:t,onOpenChange:u,elements:m,events:o,floatingId:s,refs:h})),[t,u,m,o,s,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[i,o]=a.useState(null),[l,d]=a.useState(null),u=(null==s?void 0:s.domReference)||i,h=a.useRef(null),m=LO();jO((()=>{u&&(h.current=u)}),[u]);const p=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=e,[h,m]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=a.useState(r);lO(p,r)||f(r);const[g,x]=a.useState(null),[y,v]=a.useState(null),b=a.useCallback((e=>{e!==k.current&&(k.current=e,x(e))}),[]),w=a.useCallback((e=>{e!==S.current&&(S.current=e,v(e))}),[]),j=i||g,N=o||y,k=a.useRef(null),S=a.useRef(null),_=a.useRef(h),C=null!=d,E=uO(d),T=uO(s),D=uO(u),A=a.useCallback((()=>{if(!k.current||!S.current)return;const e={placement:t,strategy:n,middleware:p};T.current&&(e.platform=T.current),aO(k.current,S.current,e).then((e=>{const t={...e,isPositioned:!1!==D.current};P.current&&!lO(_.current,t)&&(_.current=t,c.flushSync((()=>{m(t)})))}))}),[p,t,n,T,D]);oO((()=>{!1===u&&_.current.isPositioned&&(_.current.isPositioned=!1,m((e=>({...e,isPositioned:!1}))))}),[u]);const P=a.useRef(!1);oO((()=>(P.current=!0,()=>{P.current=!1})),[]),oO((()=>{if(j&&(k.current=j),N&&(S.current=N),j&&N){if(E.current)return E.current(j,N,A);A()}}),[j,N,A,E,C]);const M=a.useMemo((()=>({reference:k,floating:S,setReference:b,setFloating:w})),[b,w]),L=a.useMemo((()=>({reference:j,floating:N})),[j,N]),O=a.useMemo((()=>{const e={position:n,left:0,top:0};if(!L.floating)return e;const t=dO(L.floating,h.x),r=dO(L.floating,h.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...cO(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,l,L.floating,h.x,h.y]);return a.useMemo((()=>({...h,update:A,refs:M,elements:L,floatingStyles:O})),[h,A,M,L,O])}({...e,elements:{...s,...l&&{reference:l}}}),f=a.useCallback((e=>{const t=aL(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;d(t),p.refs.setReference(t)}),[p.refs]),g=a.useCallback((e=>{(aL(e)||null===e)&&(h.current=e,o(e)),(aL(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!aL(e))&&p.refs.setReference(e)}),[p.refs]),x=a.useMemo((()=>({...p.refs,setReference:g,setPositionReference:f,domReference:h})),[p.refs,g,f]),y=a.useMemo((()=>({...p.elements,domReference:u})),[p.elements,u]),v=a.useMemo((()=>({...p,...r,refs:x,elements:y,nodeId:t})),[p,x,y,t,r]);return jO((()=>{r.dataRef.current.floatingContext=v;const e=null==m?void 0:m.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),a.useMemo((()=>({...p,context:v,refs:x,elements:y})),[p,x,y,v])}var RO=function(e,t){return RO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},RO(e,t)};function IO(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}RO(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var FO=function(){return FO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},FO.apply(this,arguments)};function zO(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var BO,qO=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,s=void 0!==r&&r,i=e.className,o=e.children,l=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return a.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},UO=function(e){var t=e.children,n=e.onClickOutside,r=e.className,s=e.containerRef,i=e.style,o=function(e,t){var n=(0,a.useRef)(null),r=(0,a.useRef)(e);r.current=e;var s=(0,a.useCallback)((function(e){var s,i=e.composed&&e.composedPath&&e.composedPath().find((function(e){return e instanceof Node}))||e.target;n.current&&!n.current.contains(i)&&(t&&i instanceof HTMLElement&&i.classList.contains(t)||null===(s=r.current)||void 0===s||s.call(r,e))}),[t]);return(0,a.useEffect)((function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}}),[s]),n}(n,e.ignoreClass);return a.createElement("div",{className:r,style:i,ref:function(e){o.current=e,s&&(s.current=e)}},t)};function VO(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(BO||(BO={}));function $O(e){if(null==e)return new Date;var t="string"===typeof e?Sw(e):kw(e);return WO(t)?t:new Date}function HO(e,t,n,r,s){void 0===s&&(s=$O());for(var i=uR(n)||uR(dR()),a=0,o=Array.isArray(t)?t:[t];a<o.length;a++){var l=o[a],c=sM(e,l,s,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(WO(c)&&(!r||e===YO(c,l,n)))return c}return null}function WO(e,t){return Ej(e)&&!aM(e,new Date("1/1/1800"))}function YO(e,t,n){if("en"===n)return Lj(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?uR(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),Lj(e,t,{locale:r=r||uR(dR()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function KO(e,t){var n=t.dateFormat,r=t.locale,s=Array.isArray(n)&&n.length>0?n[0]:n;return e&&YO(e,s,r)||""}function GO(e,t){var n=t.hour,r=void 0===n?0:n,s=t.minute,i=void 0===s?0:s,a=t.second;return oM(lM(cM(e,void 0===a?0:a),i),r)}function QO(e){return Kw(e)}function XO(e,t,n){return Zw(e,{locale:uR(t||dR()),weekStartsOn:n})}function ZO(e){return dM(e)}function JO(e){return Qw(e)}function eR(e){return uM(e)}function tR(){return Kw($O())}function nR(e){return hM(e)}function rR(e){return pM(e)}function sR(e,t){return e&&t?fM(e,t):!e&&!t}function iR(e,t){return e&&t?Rj(e,t):!e&&!t}function aR(e,t){return e&&t?gM(e,t):!e&&!t}function oR(e,t){return e&&t?xM(e,t):!e&&!t}function lR(e,t){return e&&t?yM(e,t):!e&&!t}function cR(e,t,n){var r,s=Kw(t),i=hM(n);try{r=vM(e,{start:s,end:i})}catch(a){r=!1}return r}function dR(){return VO().__localeId__}function uR(e){if("string"===typeof e){var t=VO();return t.__localeData__?t.__localeData__[e]:void 0}return e}function hR(e,t){return YO(wM($O(),e),"LLLL",t)}function mR(e,t){return YO(wM($O(),e),"LLL",t)}function pR(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.excludeDateIntervals,o=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return NR(e,{minDate:r,maxDate:s})||i&&i.some((function(t){return t instanceof Date?oR(e,t):oR(e,t.date)}))||a&&a.some((function(t){var n=t.start,r=t.end;return vM(e,{start:n,end:r})}))||o&&!o.some((function(t){return oR(e,t)}))||l&&!l.some((function(t){var n=t.start,r=t.end;return vM(e,{start:n,end:r})}))||c&&!c($O(e))||!1}function fR(e,t){var n=void 0===t?{}:t,r=n.excludeDates,s=n.excludeDateIntervals;return s&&s.length>0?s.some((function(t){var n=t.start,r=t.end;return vM(e,{start:n,end:r})})):r&&r.some((function(t){var n;return t instanceof Date?oR(e,t):oR(e,null!==(n=t.date)&&void 0!==n?n:new Date)}))||!1}function gR(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.includeDates,o=n.filterDate;return NR(e,{minDate:r?dM(r):void 0,maxDate:s?pM(s):void 0})||(null===i||void 0===i?void 0:i.some((function(t){return iR(e,t instanceof Date?t:t.date)})))||a&&!a.some((function(t){return iR(e,t)}))||o&&!o($O(e))||!1}function xR(e,t,n,r){var s=NM(e),i=kM(e),a=NM(t),o=kM(t),l=NM(r);return s===a&&s===l?i<=n&&n<=o:s<a&&(l===s&&i<=n||l===a&&o>=n||l<a&&l>s)}function yR(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.includeDates;return NR(e,{minDate:r,maxDate:s})||i&&i.some((function(t){return iR(t instanceof Date?t:t.date,e)}))||a&&!a.some((function(t){return iR(t,e)}))||!1}function vR(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.includeDates,o=n.filterDate;return NR(e,{minDate:r,maxDate:s})||(null===i||void 0===i?void 0:i.some((function(t){return aR(e,t instanceof Date?t:t.date)})))||a&&!a.some((function(t){return aR(e,t)}))||o&&!o($O(e))||!1}function bR(e,t,n){if(!t||!n)return!1;if(!Ej(t)||!Ej(n))return!1;var r=NM(t),s=NM(n);return r<=e&&s>=e}function wR(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.maxDate,i=n.excludeDates,a=n.includeDates,o=n.filterDate,l=new Date(e,0,1);return NR(l,{minDate:r?Qw(r):void 0,maxDate:s?SM(s):void 0})||(null===i||void 0===i?void 0:i.some((function(e){return sR(l,e instanceof Date?e:e.date)})))||a&&!a.some((function(e){return sR(l,e)}))||o&&!o($O(l))||!1}function jR(e,t,n,r){var s=NM(e),i=_M(e),a=NM(t),o=_M(t),l=NM(r);return s===a&&s===l?i<=n&&n<=o:s<a&&(l===s&&i<=n||l===a&&o>=n||l<a&&l>s)}function NR(e,t){var n,r=void 0===t?{}:t,s=r.minDate,i=r.maxDate;return null!==(n=s&&Gw(e,s)<0||i&&Gw(e,i)>0)&&void 0!==n&&n}function kR(e,t){return t.some((function(t){return CM(t)===CM(e)&&EM(t)===EM(e)&&TM(t)===TM(e)}))}function SR(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,s=n.includeTimes,i=n.filterTime;return r&&kR(e,r)||s&&!kR(e,s)||i&&!i(e)||!1}function _R(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var s=$O();s=cM(s=lM(s=oM(s,CM(e)),EM(e)),TM(e));var i=$O();i=cM(i=lM(i=oM(i,CM(n)),EM(n)),TM(n));var a,o=$O();o=cM(o=lM(o=oM(o,CM(r)),EM(r)),TM(r));try{a=!vM(s,{start:i,end:o})}catch(l){a=!1}return a}function CR(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.includeDates,i=AM(e,1);return r&&PM(r,i)>0||s&&s.every((function(e){return PM(e,i)>0}))||!1}function ER(e,t){var n=void 0===t?{}:t,r=n.maxDate,s=n.includeDates,i=DM(e,1);return r&&PM(i,r)>0||s&&s.every((function(e){return PM(i,e)>0}))||!1}function TR(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.includeDates,i=IM(e,1);return r&&FM(r,i)>0||s&&s.every((function(e){return FM(e,i)>0}))||!1}function DR(e,t){var n=void 0===t?{}:t,r=n.maxDate,s=n.includeDates,i=RM(e,1);return r&&FM(i,r)>0||s&&s.every((function(e){return FM(i,e)>0}))||!1}function AR(e){var t=e.minDate,n=e.includeDates;return n&&t?zM(n.filter((function(e){return Gw(e,t)>=0}))):n?zM(n):t}function PR(e){var t=e.maxDate,n=e.includeDates;return n&&t?BM(n.filter((function(e){return Gw(e,t)<=0}))):n?BM(n):t}function MR(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,s=0,i=e.length;s<i;s++){var a=e[s];if(Cj(a)){var o=YO(a,"MM.dd.yyyy");(m=r.get(o)||[]).includes(t)||(m.push(t),r.set(o,m))}else if("object"===typeof a){var l=null!==(n=Object.keys(a)[0])&&void 0!==n?n:"",c=a[l];if("string"===typeof l&&Array.isArray(c))for(var d=0,u=c.length;d<u;d++){var h=c[d];if(h){var m;o=YO(h,"MM.dd.yyyy");(m=r.get(o)||[]).includes(l)||(m.push(l),r.set(o,m))}}}}return r}function LR(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach((function(e){var r=e.date,s=e.holidayName;if(Cj(r)){var i=YO(r,"MM.dd.yyyy"),a=n.get(i)||{className:"",holidayNames:[]};if(!("className"in a)||a.className!==t||(o=a.holidayNames,l=[s],o.length!==l.length||!o.every((function(e,t){return e===l[t]})))){var o,l;a.className=t;var c=a.holidayNames;a.holidayNames=c?zO(zO([],c,!0),[s],!1):[s],n.set(i,a)}}})),n}function OR(e,t,n,r,s){for(var i=s.length,a=[],o=0;o<i;o++){var l=e,c=s[o];c&&(l=$M(l=VM(l=UM(l,CM(c)),EM(c)),TM(c)));var d=VM(e,(n+1)*r);HM(l,t)&&aM(l,d)&&void 0!=c&&a.push(c)}return a}function RR(e){return e<10?"0".concat(e):"".concat(e)}function IR(e,t){void 0===t&&(t=12);var n=Math.ceil(NM(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function FR(e){var t=e.getSeconds(),n=e.getMilliseconds();return kw(e.getTime()-1e3*t-n)}function zR(e){if(!Cj(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function BR(e,t){if(!Cj(e)||!Cj(t))throw new Error("Invalid date received");return aM(zR(e),zR(t))}function qR(e){return e.key===BO.Space}var UR,VR=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=a.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var s=n.props.date,i=s instanceof Date&&!isNaN(+s)?s:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var a=e.split(":"),o=a[0],l=a[1];i.setHours(Number(o)),i.setMinutes(Number(l))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,i)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,s=t.timeString,i=t.customTimeInput;return i?(0,a.cloneElement)(i,{date:r,value:e,onChange:n.onTimeChange}):a.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||s)}})},n.state={time:n.props.timeString},n}return IO(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return a.createElement("div",{className:"react-datepicker__input-time-container"},a.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),a.createElement("div",{className:"react-datepicker-time__input-container"},a.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(a.Component),$R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=(0,a.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===BO.Space&&(e.preventDefault(),e.key=BO.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return oR(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),pR(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return fR(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return oR(t.props.day,XO(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&oR(e,XO(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var s=YO(n,"MM.dd.yyyy");return r.get(s)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,s=n.holidays;if(!s)return[void 0];var i=YO(r,"MM.dd.yyyy");return s.has(i)?[null===(e=s.get(i))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,s=e.endDate;return!(!r||!s)&&cR(n,r,s)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,s=n.selectsStart,i=n.selectsEnd,a=n.selectsRange,o=n.selectsDisabledDaysInRange,l=n.startDate,c=n.endDate,d=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(s||i||a)||!d||!o&&t.isDisabled())&&(s&&c&&(aM(d,c)||lR(d,c))?cR(r,d,c):(i&&l&&!c&&(HM(d,l)||lR(d,l))||!(!a||!l||c||!HM(d,l)&&!lR(d,l)))&&cR(r,l,d))},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,s=n.startDate,i=n.selectsStart,a=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return oR(r,i?a:s)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,s=n.endDate,i=n.selectsEnd,a=n.selectsRange,o=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return oR(r,i||a?o:s)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,s=e.endDate;return!(!r||!s)&&oR(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,s=e.endDate;return!(!r||!s)&&oR(s,n)},t.isWeekend=function(){var e=WM(t.props.day);return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===kM(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(kM(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay($O())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var n;return rP("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+YO(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,s=void 0===r?"Choose":r,i=e.ariaLabelPrefixWhenDisabled,a=void 0===i?"Not available":i,o=t.isDisabled()||t.isExcluded()?a:s;return"".concat(o," ").concat(YO(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,s=void 0===r?new Map:r,i=e.excludeDates,a=YO(n,"MM.dd.yyyy"),o=[];return s.has(a)&&o.push.apply(o,s.get(a).holidayNames),t.isExcluded()&&o.push(null===i||void 0===i?void 0:i.filter((function(e){return e instanceof Date?oR(e,n):oR(null===e||void 0===e?void 0:e.date,n)})).map((function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message}))),o.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&oR(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(YM(t.props.day),t.props.day):YM(t.props.day)},t.render=function(){return a.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&a.createElement("span",{className:"overlay"},t.getTitle()))},t}return IO(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(a.Component),HR=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,a.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===BO.Space&&(e.preventDefault(),e.key=BO.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!oR(t.props.date,t.props.selected)&&oR(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||oR(t.props.date,t.props.selected)&&oR(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&oR(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return IO(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,s=e.ariaLabelPrefix,i=void 0===s?t.defaultProps.ariaLabelPrefix:s,o=e.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!r,"react-datepicker__week-number--selected":!!o&&oR(this.props.date,this.props.selected)};return a.createElement("div",{ref:this.weekNumberEl,className:rP(l),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(a.Component),WR=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return pR(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,s){for(var i,a,o,l=new Date(e),c=0;c<7;c++){var d=new Date(e);if(d.setDate(d.getDate()+c),!n.isDisabled(d)){l=d;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(l,r,s),n.props.showWeekPicker&&n.handleDayClick(l,s),(null!==(i=n.props.shouldCloseOnSelect)&&void 0!==i?i:t.defaultProps.shouldCloseOnSelect)&&(null===(o=(a=n.props).setOpen)||void 0===o||o.call(a,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return nj(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=YP(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=YP(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],s=n.formatWeekNumber(e);if(n.props.showWeekNumber){var i=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,s):void 0;r.push(a.createElement(HR,FO({key:"W"},t.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:i})))}return r.concat([0,1,2,3,4,5,6].map((function(r){var s=YP(e,r);return a.createElement($R,FO({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:s.valueOf(),day:s,onClick:n.handleDayClick.bind(n,s),onMouseEnter:n.handleDayMouseEnter.bind(n,s)}))})))},n.startOfWeek=function(){return XO(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!oR(n.startOfWeek(),n.props.selected)&&oR(n.startOfWeek(),n.props.preSelection)},n}return IO(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":oR(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return a.createElement("div",{className:rP(e)},this.renderDays())},t}(a.Component),YR="two_columns",KR="three_columns",GR="four_columns",QR=((UR={})[YR]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},UR[KR]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},UR[GR]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},UR);function XR(e,t){return e?GR:t?YR:KR}var ZR=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=zO([],Array(12),!0).map((function(){return(0,a.createRef)()})),t.QUARTER_REFS=zO([],Array(4),!0).map((function(){return(0,a.createRef)()})),t.isDisabled=function(e){return pR(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return fR(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,s;null===(s=(r=t.props).onDayClick)||void 0===s||s.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate;return!(!s||!i)&&iR(wM(r,e),s)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate;return!(!s||!i)&&aR(jM(r,e),s)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate;return!(!s||!i)&&iR(wM(r,e),i)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate;return!(!s||!i)&&aR(jM(r,e),i)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,s=r.day,i=r.selectsStart,a=r.selectsEnd,o=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||a||o)||!d)&&(i&&c?xR(d,c,e,s):(a&&l||!(!o||!l||c))&&xR(l,d,e,s))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,s=r.day,i=r.startDate,a=r.selectsStart,o=wM(s,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return iR(o,a?l:i)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,s=r.day,i=r.endDate,a=r.selectsEnd,o=r.selectsRange,l=wM(s,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return iR(l,a||o?c:i)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,s=r.day,i=r.selectsStart,a=r.selectsEnd,o=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||a||o)||!d)&&(i&&c?jR(d,c,e,s):(a&&l||!(!o||!l||c))&&jR(l,d,e,s))},t.isWeekInMonth=function(e){var n=t.props.day,r=YP(e,6);return iR(e,n)||iR(r,n)},t.isCurrentMonth=function(e,t){return NM(e)===NM($O())&&t===kM($O())},t.isCurrentQuarter=function(e,t){return NM(e)===NM($O())&&t===_M($O())},t.isSelectedMonth=function(e,t,n){return kM(n)===t&&NM(e)===NM(n)},t.isSelectMonthInList=function(e,n,r){return r.some((function(r){return t.isSelectedMonth(e,n,r)}))},t.isSelectedQuarter=function(e,t,n){return _M(e)===t&&NM(e)===NM(n)},t.renderWeeks=function(){for(var e=[],n=t.props.fixedHeight,r=0,s=!1,i=XO(ZO(t.props.day),t.props.locale,t.props.calendarStartDay),o=t.props.selected?function(e){return t.props.showWeekPicker?XO(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,l=t.props.preSelection?function(e){return t.props.showWeekPicker?XO(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection}(t.props.preSelection):void 0;e.push(a.createElement(WR,FO({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:i,month:kM(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:o,preSelection:l,showWeekNumber:t.props.showWeekNumbers}))),!s;){r++,i=KM(i,1);var c=n&&r>=6,d=!n&&!t.isWeekInMonth(i);if(c||d){if(!t.props.peekNextMonth)break;s=!0}}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),s=r.isDisabled,i=r.labelDate;s||t.handleDayClick(ZO(i),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,s=n.labelDate;r||t.handleDayMouseEnter(ZO(s))},t.handleMonthNavigation=function(e,n){var r,s,i,a;null===(s=(r=t.props).setPreSelection)||void 0===s||s.call(r,n),null===(a=null===(i=t.MONTH_REFS[e])||void 0===i?void 0:i.current)||void 0===a||a.focus()},t.handleKeyboardNavigation=function(e,n,r){var s,i=t.props,a=i.selected,o=i.preSelection,l=i.setPreSelection,c=i.minDate,d=i.maxDate,u=i.showFourColumnMonthYearPicker,h=i.showTwoColumnMonthYearPicker;if(o){var m=XR(u,h),p=t.getVerticalOffset(m),f=null===(s=QR[m])||void 0===s?void 0:s.grid,g=function(e,t,n){var r,s,i=t,a=n;switch(e){case BO.ArrowRight:i=DM(t,1),a=11===n?0:n+1;break;case BO.ArrowLeft:i=AM(t,1),a=0===n?11:n-1;break;case BO.ArrowUp:i=AM(t,p),a=(null===(r=null===f||void 0===f?void 0:f[0])||void 0===r?void 0:r.includes(n))?n+12-p:n-p;break;case BO.ArrowDown:i=DM(t,p),a=(null===(s=null===f||void 0===f?void 0:f[f.length-1])||void 0===s?void 0:s.includes(n))?n-12+p:n+p}return{newCalculatedDate:i,newCalculatedMonth:a}};if(n!==BO.Enter){var x=function(e,n,r){for(var s=e,i=!1,a=0,o=g(s,n,r),l=o.newCalculatedDate,u=o.newCalculatedMonth;!i;){if(a>=40){l=n,u=r;break}var h;if(c&&l<c)s=BO.ArrowRight,l=(h=g(s,l,u)).newCalculatedDate,u=h.newCalculatedMonth;if(d&&l>d)s=BO.ArrowLeft,l=(h=g(s,l,u)).newCalculatedDate,u=h.newCalculatedMonth;if(yR(l,t.props))l=(h=g(s,l,u)).newCalculatedDate,u=h.newCalculatedMonth;else i=!0;a++}return{newCalculatedDate:l,newCalculatedMonth:u}}(n,o,r),y=x.newCalculatedDate,v=x.newCalculatedMonth;switch(n){case BO.ArrowRight:case BO.ArrowLeft:case BO.ArrowUp:case BO.ArrowDown:t.handleMonthNavigation(v,y)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null===l||void 0===l||l(a))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=QR[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,s=r.disabledKeyboardNavigation,i=r.handleOnMonthKeyDown,a=e.key;a!==BO.Tab&&e.preventDefault(),s||t.handleKeyboardNavigation(e,a,n),i&&i(e)},t.onQuarterClick=function(e,n){var r=jM(t.props.day,n);vR(r,t.props)||t.handleDayClick(eR(r),e)},t.onQuarterMouseEnter=function(e){var n=jM(t.props.day,e);vR(n,t.props)||t.handleDayMouseEnter(eR(n))},t.handleQuarterNavigation=function(e,n){var r,s,i,a;t.isDisabled(n)||t.isExcluded(n)||(null===(s=(r=t.props).setPreSelection)||void 0===s||s.call(r,n),null===(a=null===(i=t.QUARTER_REFS[e-1])||void 0===i?void 0:i.current)||void 0===a||a.focus())},t.onQuarterKeyDown=function(e,n){var r,s,i=e.key;if(!t.props.disabledKeyboardNavigation)switch(i){case BO.Enter:t.onQuarterClick(e,n),null===(s=(r=t.props).setPreSelection)||void 0===s||s.call(r,t.props.selected);break;case BO.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,MM(t.props.preSelection,1));break;case BO.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,LM(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,s=r.day,i=r.minDate,a=r.maxDate,o=r.excludeDates,l=r.includeDates,c=wM(s,e);return{isDisabled:null!==(n=(i||a||o||l)&&gR(c,t.props))&&void 0!==n&&n,labelDate:c}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate,a=n.preSelection,o=n.monthClassName,l=o?o(wM(r,e)):void 0,c=t.getSelection();return rP("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":c?t.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&a&&t.isSelectedMonth(r,e,a)&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":s&&i?xR(s,i,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=kM(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=_M(t.props.preSelection),r=vR(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,s=void 0===r?"Choose":r,i=n.disabledDayAriaLabelPrefix,a=void 0===i?"Not available":i,o=n.day,l=n.locale,c=wM(o,e),d=t.isDisabled(c)||t.isExcluded(c)?a:s;return"".concat(d," ").concat(YO(c,"MMMM yyyy",l))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,s=n.startDate,i=n.endDate,a=n.selected,o=n.minDate,l=n.maxDate,c=n.excludeDates,d=n.includeDates,u=n.filterDate,h=n.preSelection,m=n.disabledKeyboardNavigation,p=(o||l||c||d||u)&&vR(jM(r,e),t.props);return rP("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":p,"react-datepicker__quarter-text--selected":a?t.isSelectedQuarter(r,e,a):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&h&&t.isSelectedQuarter(r,e,h)&&!p,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":s&&i?jR(s,i,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,s=n.renderMonthContent,i=n.locale,a=n.day,o=mR(e,i),l=hR(e,i);return s?s(e,o,l,a):r?l:o},t.getQuarterContent=function(e){var n,r=t.props,s=r.renderQuarterContent,i=function(e,t){return YO(jM($O(),e),"QQQ",t)}(e,r.locale);return null!==(n=null===s||void 0===s?void 0:s(e,i))&&void 0!==n?n:i},t.renderMonths=function(){var e,n=t.props,r=n.showTwoColumnMonthYearPicker,s=n.showFourColumnMonthYearPicker,i=n.day,o=n.selected,l=null===(e=QR[XR(s,r)])||void 0===e?void 0:e.grid;return null===l||void 0===l?void 0:l.map((function(e,n){return a.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map((function(e,n){return a.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){qR(n)&&(n.preventDefault(),n.key=BO.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(i,e)?"date":void 0,"aria-selected":o?t.isSelectedMonth(i,e,o):void 0},t.getMonthContent(e))})))}))},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return a.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(e,s){return a.createElement("div",{key:s,ref:t.QUARTER_REFS[s],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))})))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,s=e.selectsEnd;return rP("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||s)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return IO(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,s=e.ariaLabelPrefix,i=void 0===s?"Month ":s,o=i?i.trim()+" ":"";return a.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(o).concat(YO(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},t}(a.Component),JR=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map((function(e,n){return a.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?a.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)}))},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return IO(t,e),t.prototype.render=function(){return a.createElement(UO,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(a.Component),eI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map((function(e,t){return a.createElement("option",{key:e,value:t},e)}))},t.renderSelectMode=function(e){return a.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return a.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},a.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),a.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return a.createElement(JR,FO({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return IO(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return mR(e,t.props.locale)}:function(e){return hR(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return a.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(a.Component);function tI(e,t){for(var n=[],r=ZO(e),s=ZO(t);!HM(r,s);)n.push($O(r)),r=DM(r,1);return n}var nI=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map((function(e){var t=GM(e),r=sR(n.props.date,e)&&iR(n.props.date,e);return a.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?a.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",YO(e,n.props.dateFormat,n.props.locale))}))},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:tI(n.props.minDate,n.props.maxDate)},n}return IO(t,e),t.prototype.render=function(){var e=rP({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return a.createElement(UO,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(a.Component),rI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=ZO(t.props.minDate),n=ZO(t.props.maxDate),r=[];!HM(e,n);){var s=GM(e);r.push(a.createElement("option",{key:s,value:s},YO(e,t.props.dateFormat,t.props.locale))),e=DM(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return a.createElement("select",{value:GM(ZO(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=YO(t.props.date,t.props.dateFormat,t.props.locale);return a.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},a.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),a.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return a.createElement(nI,FO({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=$O(e);sR(t.props.date,n)&&iR(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return IO(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return a.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(a.Component),sI=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame((function(){var e,r,s;n.list&&(n.list.scrollTop=null!==(s=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==s?s:0)}))},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&_R(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&SR(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,FR(t).getTime()===FR(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&_R(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&SR(e,n.props)},n.liClasses=function(e){var r,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*CM(e)+60*EM(e)+TM(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(e,t){var r,s;e.key===BO.Space&&(e.preventDefault(),e.key=BO.Enter),(e.key===BO.ArrowUp||e.key===BO.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===BO.ArrowDown||e.key===BO.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===BO.Enter&&n.handleClick(t),null===(s=(r=n.props).handleOnKeyDown)||void 0===s||s.call(r,e)},n.renderTimes=function(){for(var e,r=[],s="string"===typeof n.props.format?n.props.format:"p",i=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,o=n.props.selected||n.props.openToDate||$O(),l=QO(o),c=n.props.injectTimes&&n.props.injectTimes.sort((function(e,t){return e.getTime()-t.getTime()})),d=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(o),u=d/i,h=0;h<u;h++){var m=VM(l,h*i);if(r.push(m),c){var p=OR(l,m,h,i,c);r=r.concat(p)}}var f=r.reduce((function(e,t){return t.getTime()<=o.getTime()?t:e}),r[0]);return r.map((function(e){return a.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===f&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===f?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},YO(e,s,n.props.locale))}))},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?a.createElement(a.Fragment,null):a.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},a.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return IO(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver((function(){e.updateContainerHeight()})),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return a.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),a.createElement("div",{className:"react-datepicker__time"},a.createElement("div",{className:"react-datepicker__time-box"},a.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(a.Component),iI=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=zO([],Array(n.props.yearItemNumber),!0).map((function(){return(0,a.createRef)()})),n.isDisabled=function(e){return pR(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return fR(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame((function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()}))},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,s,i,a,o=n.props,l=o.date,c=o.yearItemNumber;if(void 0!==l&&void 0!==c){var d=IR(l,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(s=(r=n.props).setPreSelection)||void 0===s||s.call(r,t),e-d<0?n.updateFocusOnPaginate(c-(d-e)):e-d>=c?n.updateFocusOnPaginate(Math.abs(c-(e-d))):null===(a=null===(i=n.YEAR_REFS[e-d])||void 0===i?void 0:i.current)||void 0===a||a.focus())}},n.isSameDay=function(e,t){return oR(e,t)},n.isCurrentYear=function(e){return e===NM($O())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&sR(QM($O(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&sR(QM($O(),e),n.props.endDate)},n.isInRange=function(e){return bR(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,s=t.selectsEnd,i=t.selectsRange,a=t.startDate,o=t.endDate;return!(!(r||s||i)||!n.selectingDate())&&(r&&o?bR(e,n.selectingDate(),o):(s&&a||!(!i||!a||o))&&bR(e,a,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,s=r.startDate,i=r.selectsStart,a=QM($O(),e);return sR(a,i?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==s&&void 0!==s?s:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,s=r.endDate,i=r.selectsEnd,a=r.selectsRange,o=QM($O(),e);return sR(o,i||a?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==s&&void 0!==s?s:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,s=t.maxDate,i=t.excludeDates,a=t.includeDates,o=t.filterDate,l=JO(QM(n.props.date,e)),c=(r||s||i||a||o)&&wR(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!oR(l,JO(n.props.selected))&&oR(l,JO(n.props.preSelection))&&!c}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,s=t.selected,i=t.selectedDates;return r?null===i||void 0===i?void 0:i.some((function(t){return e===NM(t)})):!s||e===NM(s)},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(JO(QM(r,t)),e)},n.onYearKeyDown=function(e,t){var r,s,i=e.key,a=n.props,o=a.date,l=a.yearItemNumber,c=a.handleOnKeyDown;if(i!==BO.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(i){case BO.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(s=(r=n.props).setPreSelection)||void 0===s||s.call(r,n.props.selected);break;case BO.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,RM(n.props.preSelection,1));break;case BO.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,IM(n.props.preSelection,1));break;case BO.ArrowUp:if(void 0===o||void 0===l||null==n.props.preSelection)break;var d=IR(o,l).startPeriod;if((m=t-(h=3))<d){var u=l%h;t>=d&&t<d+u?h=u:h+=u,m=t-h}n.handleYearNavigation(m,IM(n.props.preSelection,h));break;case BO.ArrowDown:if(void 0===o||void 0===l||null==n.props.preSelection)break;var h,m,p=IR(o,l).endPeriod;if((m=t+(h=3))>p){u=l%h;t<=p&&t>p-u?h=u:h+=u,m=t+h}n.handleYearNavigation(m,RM(n.props.preSelection,h))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,s=t.minDate,i=t.maxDate,a=t.excludeDates,o=t.includeDates,l=t.filterDate,c=t.yearClassName;return rP("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===c||void 0===c?void 0:c(QM(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(s||i||a||o||l)&&wR(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=NM(n.props.preSelection),r=wR(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return IO(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,s=n.yearItemNumber,i=n.onYearMouseEnter,o=n.onYearMouseLeave;if(void 0===r)return null;for(var l=IR(r,s),c=l.startPeriod,d=l.endPeriod,u=function(n){t.push(a.createElement("div",{ref:h.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){qR(t)&&(t.preventDefault(),t.key=BO.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(h.getYearTabIndex(n)),className:h.getYearClassNames(n),onMouseEnter:h.props.usePointerEvent?void 0:function(e){return i(e,n)},onPointerEnter:h.props.usePointerEvent?function(e){return i(e,n)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerLeave:h.props.usePointerEvent?function(e){return o(e,n)}:void 0,key:n,"aria-current":h.isCurrentYear(n)?"date":void 0},h.getYearContent(n)))},h=this,m=c;m<=d;m++)u(m);return a.createElement("div",{className:"react-datepicker__year"},a.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(a.Component);function aI(e,t,n,r){for(var s=[],i=0;i<2*t+1;i++){var a=e+t-i,o=!0;n&&(o=NM(n)<=a),r&&o&&(o=NM(r)>=a),o&&s.push(a)}return s}var oI=function(e){function t(t){var n=e.call(this,t)||this;n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map((function(t){return a.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?a.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),r=n.props.minDate?NM(n.props.minDate):null,s=n.props.maxDate?NM(n.props.maxDate):null;return s&&n.state.yearsList.find((function(e){return e===s}))||t.unshift(a.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},a.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find((function(e){return e===r}))||t.push(a.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},a.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map((function(t){return t+e}));n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,i=r||(s?10:5);return n.state={yearsList:aI(n.props.year,i,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,a.createRef)(),n}return IO(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=rP({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return a.createElement(UO,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(a.Component),lI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?NM(t.props.minDate):1900,n=t.props.maxDate?NM(t.props.maxDate):2100,r=[],s=e;s<=n;s++)r.push(a.createElement("option",{key:s,value:s},s));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return a.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return a.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},a.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),a.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return a.createElement(oI,FO({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},(function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)}))},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,s;null===(s=(r=t.props).onSelect)||void 0===s||s.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return IO(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return a.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(a.Component),cI=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],dI=function(e){function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return cI.some((function(e){return t.indexOf(e)>=0}))})(e.target)&&(null===(n=(t=r.props).onDropdownFocus)||void 0===n||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,s=e.openToDate,i=AR(r.props),a=PR(r.props),o=$O(),l=s||n||t;return l||(i&&aM(o,i)?i:a&&HM(o,a)?a:o)},r.increaseMonth=function(){r.setState((function(e){return{date:DM(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.decreaseMonth=function(){r.setState((function(e){return{date:AM(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:QM($O(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,s,i;null===(n=(t=r.props).onYearChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(i=(s=r.props).setOpen)||void 0===i||i.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!pR(e,r.props))return e;for(var t=ZO(e),n=XM(rR(e),t),s=null,i=0;i<=n;i++){var a=YP(t,i);if(!pR(a,r.props)){s=a;break}}return s},r.handleMonthChange=function(e){var t,n,s,i=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect(i),null===(s=(n=r.props).setOpen)||void 0===s||s.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(e){var t,n;null===(n=(t=r.props).onMonthChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState((function(t){return{date:QM(t.date,Number(e))}}),(function(){return r.handleYearChange(r.state.date)}))},r.changeMonth=function(e){r.setState((function(t){return{date:wM(t.date,Number(e))}}),(function(){return r.handleMonthChange(r.state.date)}))},r.changeMonthYear=function(e){r.setState((function(t){return{date:QM(wM(t.date,kM(e)),NM(e))}}),(function(){return r.handleMonthYearChange(r.state.date)}))},r.header=function(e){void 0===e&&(e=r.state.date);var t=XO(e,r.props.locale,r.props.calendarStartDay),n=[];return r.props.showWeekNumbers&&n.push(a.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map((function(e){var n=YP(t,e),s=r.formatWeekday(n,r.props.locale),i=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return a.createElement("div",{key:e,"aria-label":YO(n,"EEEE",r.props.locale),className:rP("react-datepicker__day-name",i)},s)})))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(YO(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return YO(e,"EEE",t)}(e,t):function(e,t){return YO(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState((function(e){var n;return{date:IM(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,n,s;if(!r.props.renderCustomHeader){var i,o=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,c=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:l,d=AM(r.state.date,c);switch(!0){case r.props.showMonthYearPicker:i=TR(r.state.date,r.props);break;case r.props.showYearPicker:i=function(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.yearItemNumber,i=void 0===s?12:s,a=IR(JO(IM(e,i)),i).endPeriod,o=r&&NM(r);return o&&o>a||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=function(e,t){var n=void 0===t?{}:t,r=n.minDate,s=n.includeDates,i=LM(Qw(e),1);return r&&OM(r,i)>0||s&&s.every((function(e){return OM(e,i)>0}))||!1}(r.state.date,r.props);break;default:i=CR(d,r.props)}if(((null!==(s=r.props.forceShowMonthNavigation)&&void 0!==s?s:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!i)&&!r.props.showTimeSelectOnly){var u=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(h=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--previous--disabled"),h=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,p=r.props,f=p.previousMonthButtonLabel,g=void 0===f?t.defaultProps.previousMonthButtonLabel:f,x=p.previousYearButtonLabel,y=void 0===x?t.defaultProps.previousYearButtonLabel:x,v=r.props,b=v.previousMonthAriaLabel,w=void 0===b?"string"===typeof g?g:"Previous Month":b,j=v.previousYearAriaLabel,N=void 0===j?"string"===typeof y?y:"Previous Year":j;return a.createElement("button",{type:"button",className:u.join(" "),onClick:h,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?N:w},a.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},m?y:g))}}},r.increaseYear=function(){r.setState((function(e){var n;return{date:RM(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var n;switch(!0){case r.props.showMonthYearPicker:n=DR(r.state.date,r.props);break;case r.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,s=n.yearItemNumber,i=void 0===s?12:s,a=IR(RM(e,i),i).startPeriod,o=r&&NM(r);return o&&o<a||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,s=n.includeDates,i=MM(SM(e),1);return r&&OM(i,r)>0||s&&s.every((function(e){return OM(i,e)>0}))||!1}(r.state.date,r.props);break;default:n=ER(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!n)&&!r.props.showTimeSelectOnly){var s=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var i=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(i=r.increaseYear),n&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),i=void 0);var o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,l=r.props,c=l.nextMonthButtonLabel,d=void 0===c?t.defaultProps.nextMonthButtonLabel:c,u=l.nextYearButtonLabel,h=void 0===u?t.defaultProps.nextYearButtonLabel:u,m=r.props,p=m.nextMonthAriaLabel,f=void 0===p?"string"===typeof d?d:"Next Month":p,g=m.nextYearAriaLabel,x=void 0===g?"string"===typeof h?h:"Next Year":g;return a.createElement("button",{type:"button",className:s.join(" "),onClick:i,onKeyDown:r.props.handleOnKeyDown,"aria-label":o?x:f},a.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},o?h:d))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),a.createElement("h2",{className:t.join(" ")},YO(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return a.createElement(lI,FO({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:NM(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return a.createElement(eI,FO({},t.defaultProps,r.props,{month:kM(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return a.createElement(rI,FO({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(tR(),e),r.props.setPreSelection&&r.props.setPreSelection(tR())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return a.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return a.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),a.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),a.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))},r.renderCustomHeader=function(e){var t,n,s=e.monthDate,i=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var o=CR(r.state.date,r.props),l=ER(r.state.date,r.props),c=TR(r.state.date,r.props),d=DR(r.state.date,r.props),u=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return a.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(n=(t=r.props).renderCustomHeader)||void 0===n?void 0:n.call(t,FO(FO({},r.state),{customHeaderCount:i,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:o,nextMonthButtonDisabled:l,prevYearButtonDisabled:c,nextYearButtonDisabled:d})),u&&a.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderYearHeader=function(e){var n=e.monthDate,s=r.props,i=s.showYearPicker,o=s.yearItemNumber,l=IR(n,void 0===o?t.defaultProps.yearItemNumber:o),c=l.startPeriod,d=l.endPeriod;return a.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},i?"".concat(c," - ").concat(d):NM(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,s={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(s);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(s);default:return r.renderDefaultHeader(s)}},r.renderMonths=function(){var e,n;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var s=[],i=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,o=r.props.showPreviousMonths?i-1:0,l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?RM(r.state.date,o):AM(r.state.date,o),c=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:o,d=0;d<i;++d){var u=d-c+o,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?RM(l,u):DM(l,u),m="month-".concat(d),p=d<i-1,f=d>0;s.push(a.createElement("div",{key:m,ref:function(e){r.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:d}),a.createElement(ZR,FO({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:f}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?a.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),a.createElement(iI,FO({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return a.createElement(sI,FO({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,n=e&&WO(e)&&Boolean(r.props.selected)?"".concat(RR(e.getHours()),":").concat(RR(e.getMinutes())):"";if(r.props.showTimeInput)return a.createElement(VR,FO({},t.defaultProps,r.props,{date:e,timeString:n,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,n,s=IR(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),i=s.startPeriod,o=s.endPeriod;return n=r.props.showYearPicker?"".concat(i," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?NM(r.state.date):"".concat(hR(kM(r.state.date),r.props.locale)," ").concat(NM(r.state.date)),a.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&n)},r.renderChildren=function(){if(r.props.children)return a.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=(0,a.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return IO(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||oR(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!oR(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!iR(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return n&&t.handleCustomMonthChange(t.state.date)}))}},t.prototype.render=function(){var e=this.props.container||qO;return a.createElement(UO,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},a.createElement("div",{style:{display:"contents"},ref:this.containerRef},a.createElement(e,{className:rP("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(a.Component),uI=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,s=e.onClick,i="react-datepicker__calendar-icon";if("string"===typeof t)return a.createElement("i",{className:"".concat(i," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:s});if(a.isValidElement(t)){var o=t;return a.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(r),onClick:function(e){"function"===typeof o.props.onClick&&o.props.onClick(e),"function"===typeof s&&s(e)}})}return a.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},a.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},hI=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return IO(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return c.createPortal(this.props.children,this.el)},t}(a.Component),mI=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},pI=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(mI)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,a.createRef)(),n}return IO(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?a.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},a.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,a.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(a.Component);var fI,gI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return IO(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,n=e.className,r=e.wrapperClassName,s=e.hidePopper,i=void 0===s?t.defaultProps.hidePopper:s,o=e.popperComponent,l=e.targetComponent,c=e.enableTabLoop,d=e.popperOnKeyDown,u=e.portalId,h=e.portalHost,m=e.popperProps,p=e.showArrow,f=void 0;if(!i){var g=rP("react-datepicker-popper",n);f=a.createElement(pI,{enableTabLoop:c},a.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:g,"data-placement":m.placement,onKeyDown:d},o,p&&a.createElement(TO,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(f=(0,a.createElement)(this.props.popperContainer,{},f)),u&&!i&&(f=a.createElement(hI,{portalId:u,portalHost:h},f));var x=rP("react-datepicker-wrapper",r);return a.createElement(a.Fragment,null,a.createElement("div",{ref:m.refs.setReference,className:x},l),f)},t}(a.Component),xI=(fI=gI,function(e){var t,n,r,s="boolean"!==typeof e.hidePopper||e.hidePopper,i=(0,a.useRef)(null),o=OO(FO({open:!s,whileElementsMounted:nO,placement:e.popperPlacement,middleware:zO([(n={padding:15},{...sO(n),options:[n,r]}),mO(10),pO({element:i})],null!==(t=e.popperModifiers)&&void 0!==t?t:[],!0)},e.popperProps)),l=FO(FO({},e),{hidePopper:s,popperProps:FO(FO({},o),{arrowRef:i})});return a.createElement(fI,FO({},l))}),yI="react-datepicker-ignore-onclickoutside";var vI="Date input not valid.",bI=function(e){function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:$O()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var n=new Date(t.date);return WO(n)?zO(zO([],e,!0),[FO(FO({},t),{date:n})],!1):e}),[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),n=AR(r.props),s=PR(r.props),i=n&&aM(t,QO(n))?n:s&&HM(t,nR(s))?s:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:i,highlightDates:MR(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(FO(FO({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(FO(FO({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame((function(){r.setBlur()}))},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:jI},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.deferBlur(),r.setState({inputValue:null})}))}))},r.inputOk=function(){return Cj(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,s=r.state.wasHidden,i=!s||r.state.open;s&&r.resetHiddenStatus(),r.state.preventFocus||(null===(n=(t=r.props).onFocus)||void 0===n||n.call(t,e),!i||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},(function(){r.preventFocusTimeout=setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))}))},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(n=(t=r.props).onBlur)||void 0===n||n.call(t,e)),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;r.props.inline||r.setOpen(!1),null===(n=(t=r.props).onClickOutside)||void 0===n||n.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,s,i,a,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var c=o[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,o),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){r.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:wI});var d=r.props,u=d.selectsRange,h=d.startDate,m=d.endDate,p=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,f=null!==(n=r.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,g=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(u){var x=g.split("-",2).map((function(e){return e.trim()})),y=x[0],v=x[1],b=HO(null!==y&&void 0!==y?y:"",p,r.props.locale,f),w=HO(null!==v&&void 0!==v?v:"",p,r.props.locale,f),j=(null===h||void 0===h?void 0:h.getTime())!==(null===b||void 0===b?void 0:b.getTime()),N=(null===m||void 0===m?void 0:m.getTime())!==(null===w||void 0===w?void 0:w.getTime());if(!j&&!N)return;if(b&&pR(b,r.props))return;if(w&&pR(w,r.props))return;null===(i=(s=r.props).onChange)||void 0===i||i.call(s,[b,w],c)}else{var k=HO(g,p,r.props.locale,f,null!==(a=r.props.selected)&&void 0!==a?a:void 0);!k&&g||r.setSelected(k,c,!0)}}},r.handleSelect=function(e,t,n){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var s=r.props,i=s.startDate,a=s.endDate;!i||a||!r.props.swapRange&&BR(e,i)||r.setOpen(!1)}},r.setSelected=function(e,t,n,s){var i,a,o=e;if(r.props.showYearPicker){if(null!==o&&wR(NM(o),r.props))return}else if(r.props.showMonthYearPicker){if(null!==o&&gR(o,r.props))return}else if(null!==o&&pR(o,r.props))return;var l=r.props,c=l.onChange,d=l.selectsRange,u=l.startDate,h=l.endDate,m=l.selectsMultiple,p=l.selectedDates,f=l.minTime,g=l.swapRange;if(!lR(r.props.selected,o)||r.props.allowSameDay||d||m)if(null!==o&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(o=GO(o,{hour:CM(r.props.selected),minute:EM(r.props.selected),second:TM(r.props.selected)})),n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||f&&(o=GO(o,{hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds()})),r.props.inline||r.setState({preSelection:o}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:s})),d){var x=u&&!h,y=u&&h;!u&&!h?null===c||void 0===c||c([o,null],t):x&&(null===o?null===c||void 0===c||c([null,null],t):BR(o,u)?g?null===c||void 0===c||c([o,u],t):null===c||void 0===c||c([o,null],t):null===c||void 0===c||c([u,o],t)),y&&(null===c||void 0===c||c([o,null],t))}else if(m){if(null!==o)if(null===p||void 0===p?void 0:p.length)if(p.some((function(e){return oR(e,o)}))){var v=p.filter((function(e){return!oR(e,o)}));null===c||void 0===c||c(v,t)}else null===c||void 0===c||c(zO(zO([],p,!0),[o],!1),t);else null===c||void 0===c||c([o],t)}else null===c||void 0===c||c(o,t);n||(null===(a=(i=r.props).onSelect)||void 0===a||a.call(i,o,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){var t=Cj(r.props.minDate),n=Cj(r.props.maxDate),s=!0;if(e){var i=QO(e);if(t&&n)s=cR(e,r.props.minDate,r.props.maxDate);else if(t){var a=QO(r.props.minDate);s=HM(e,a)||lR(i,a)}else if(n){var o=nR(r.props.maxDate);s=aM(e,o)||lR(i,o)}}s&&r.setState({preSelection:e})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,n;if(!r.props.selectsRange&&!r.props.selectsMultiple){var s=r.props.selected?r.props.selected:r.getPreSelection(),i=r.props.selected?e:GO(s,{hour:CM(e),minute:EM(e)});r.setState({preSelection:i}),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,i),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,n,s,i,a,o;null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e);var l=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(l===BO.ArrowDown||l===BO.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',d=(null===(i=r.calendar)||void 0===i?void 0:i.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(c);return void(d instanceof HTMLElement&&d.focus({preventScroll:!0}))}var u=$O(r.state.preSelection);l===BO.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===jI?(r.handleSelect(u,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(u)):r.setOpen(!1)):l===BO.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):l===BO.Tab&&r.setOpen(!1),r.inputOk()||null===(o=(a=r.props).onInputError)||void 0===o||o.call(a,{code:1,msg:vI})}}else l!==BO.ArrowDown&&l!==BO.ArrowUp&&l!==BO.Enter||null===(s=r.onInputClick)||void 0===s||s.call(r)},r.onPortalKeyDown=function(e){e.key===BO.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},(function(){r.setOpen(!1),setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))})))},r.onDayKeyDown=function(e){var t,n,s,i,a,o,l=r.props,c=l.minDate,d=l.maxDate,u=l.disabledKeyboardNavigation,h=l.showWeekPicker,m=l.shouldCloseOnSelect,p=l.locale,f=l.calendarStartDay,g=l.adjustDateOnChange,x=l.inline;if(null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e),!u){var y=e.key,v=e.shiftKey,b=$O(r.state.preSelection),w=function(e,t){var n=t;switch(e){case BO.ArrowRight:n=h?KM(t,1):YP(t,1);break;case BO.ArrowLeft:n=h?JM(t,1):eL(t,1);break;case BO.ArrowUp:n=JM(t,1);break;case BO.ArrowDown:n=KM(t,1);break;case BO.PageUp:n=v?IM(t,1):AM(t,1);break;case BO.PageDown:n=v?RM(t,1):DM(t,1);break;case BO.Home:n=XO(t,p,f);break;case BO.End:n=function(e){return mM(e)}(t)}return n};if(y===BO.Enter)return e.preventDefault(),r.handleSelect(b,e),void(!m&&r.setPreSelection(b));if(y===BO.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(i=(s=r.props).onInputError)||void 0===i||i.call(s,{code:1,msg:vI}));var j=null;switch(y){case BO.ArrowLeft:case BO.ArrowRight:case BO.ArrowUp:case BO.ArrowDown:case BO.PageUp:case BO.PageDown:case BO.Home:case BO.End:j=function(e,t){for(var n=e,s=!1,i=0,a=w(e,t);!s;){if(i>=40){a=t;break}c&&a<c&&(n=BO.ArrowRight,a=pR(c,r.props)?w(n,a):c),d&&a>d&&(n=BO.ArrowLeft,a=pR(d,r.props)?w(n,a):d),pR(a,r.props)?(n!==BO.PageUp&&n!==BO.Home||(n=BO.ArrowRight),n!==BO.PageDown&&n!==BO.End||(n=BO.ArrowLeft),a=w(n,a)):s=!0,i++}return a}(y,b)}if(j){if(e.preventDefault(),r.setState({lastPreSelectChange:jI}),g&&r.setSelected(j),r.setPreSelection(j),x){var N=kM(b),k=kM(j),S=NM(b),_=NM(j);N!==k||S!==_?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(o=(a=r.props).onInputError)||void 0===o||o.call(a,{code:1,msg:vI})}},r.onPopperKeyDown=function(e){e.key===BO.Escape&&(e.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,s=t.onChange;n?null===s||void 0===s||s([null,null],e):null===s||void 0===s||s(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"===typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"===typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,n;return r.props.inline||r.isCalendarOpen()?a.createElement(dI,FO({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:LR(r.modifyHolidays()),outsideClickIgnoreClass:yI,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(n=r.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,n=r.props,s=n.dateFormat,i=void 0===s?t.defaultProps.dateFormat:s,o=n.locale,l=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(KO(r.props.startDate,{dateFormat:l,locale:o}),". ").concat(r.props.endDate?"End date: "+KO(r.props.endDate,{dateFormat:l,locale:o}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(KO(r.props.selected,{dateFormat:i,locale:o})):r.props.showYearPicker?"Selected year: ".concat(KO(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?"Selected month: ".concat(KO(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(KO(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):"Selected date: ".concat(KO(r.props.selected,{dateFormat:l,locale:o})),a.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},r.renderDateInput=function(){var e,n,s,i=rP(r.props.className,((e={})[yI]=r.state.open,e)),o=r.props.customInput||a.createElement("input",{type:"text"}),l=r.props.customInputRef||"ref",c=r.props,d=c.dateFormat,u=void 0===d?t.defaultProps.dateFormat:d,h=c.locale,m="string"===typeof r.props.value?r.props.value:"string"===typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=KO(e,n),s=t?KO(t,n):"";return"".concat(r," - ").concat(s)}(r.props.startDate,r.props.endDate,{dateFormat:u,locale:h}):r.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?KO(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=KO(e[1],t);return"".concat(n,", ").concat(r)}var s=e.length-1;return"".concat(n," (+").concat(s,")")}(null!==(s=r.props.selectedDates)&&void 0!==s?s:[],{dateFormat:u,locale:h}):KO(r.props.selected,{dateFormat:u,locale:h});return(0,a.cloneElement)(o,((n={})[l]=function(e){r.input=e},n.value=m,n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=rP(o.props.className,i),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n["aria-describedby"]=r.props.ariaDescribedBy,n["aria-invalid"]=r.props.ariaInvalid,n["aria-labelledby"]=r.props.ariaLabelledBy,n["aria-required"]=r.props.ariaRequired,n))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,s=e.selected,i=e.startDate,o=e.endDate,l=e.clearButtonTitle,c=e.clearButtonClassName,d=void 0===c?"":c,u=e.ariaLabelClose,h=void 0===u?"Close":u,m=e.selectedDates;return t&&(null!=s||null!=i||null!=o||(null===m||void 0===m?void 0:m.length))?a.createElement("button",{type:"button",className:rP("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":h,onClick:r.onClearClick,title:l,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return IO(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,s,i,a,o;e.inline&&(a=e.selected,o=this.props.selected,a&&o?kM(a)!==kM(o)||NM(a)!==NM(o):a!==o)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:MR(this.props.highlightDates)}),t.focused||lR(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(i=(s=this.props).onCalendarClose)||void 0===i||i.call(s)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,s=e.calendarIconClassName,i=e.toggleCalendarOnIconClick,o=this.state.open;return r&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),a.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&a.createElement(uI,FO({icon:n,className:rP(s,!s&&r,o&&"react-datepicker-ignore-onclickoutside")},i?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?a.createElement(pI,{enableTabLoop:this.props.enableTabLoop},a.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=a.createElement(hI,FO({portalId:this.props.portalId},this.props),t)),a.createElement("div",null,this.renderInputContainer(),t)}return a.createElement(xI,FO({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(a.Component),wI="input",jI="navigate";const NI=e=>{let{isOpen:t,onClose:n,onExport:r}=e;const[s,i]=(0,a.useState)({bookingId:!0,trekName:!0,batchDate:!0,userName:!0,userEmail:!0,userPhone:!0,participants:!0,totalPrice:!0,status:!0,createdAt:!0,paymentStatus:!0,notes:!1}),[o,l]=(0,a.useState)("excel"),[c,d]=(0,a.useState)({startDate:"",endDate:""}),u=[{id:"bookingId",label:"Booking ID"},{id:"trekName",label:"Trek Name"},{id:"batchDate",label:"Batch Date"},{id:"userName",label:"User Name"},{id:"userEmail",label:"User Email"},{id:"userPhone",label:"User Phone"},{id:"participants",label:"Participants"},{id:"totalPrice",label:"Total Price"},{id:"status",label:"Status"},{id:"createdAt",label:"Booking Date"},{id:"paymentStatus",label:"Payment Status"},{id:"notes",label:"Notes"}],h=e=>{const{name:t,value:n}=e.target;d((e=>({...e,[t]:n})))};return t?(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,ft.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,ft.jsxs)("div",{className:"flex flex-col h-full",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold",children:"Export Bookings"}),(0,ft.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("h4",{className:"font-medium mb-2",children:"Date Range (Optional)"}),(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Start Date"}),(0,ft.jsx)("input",{type:"date",name:"startDate",value:c.startDate,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"End Date"}),(0,ft.jsx)("input",{type:"date",name:"endDate",value:c.endDate,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]})]})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ft.jsx)("h4",{className:"font-medium",children:"Select Fields"}),(0,ft.jsx)("button",{onClick:()=>{const e=!Object.values(s).every((e=>e)),t={};u.forEach((n=>{t[n.id]=e})),i(t)},className:"text-sm text-emerald-600 hover:text-emerald-700",children:Object.values(s).every((e=>e))?"Deselect All":"Select All"})]}),(0,ft.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:u.map((e=>(0,ft.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,ft.jsx)("input",{type:"checkbox",checked:s[e.id],onChange:()=>{return t=e.id,void i((e=>({...e,[t]:!e[t]})));var t},className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),(0,ft.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.id)))})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("h4",{className:"font-medium mb-2",children:"File Type"}),(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,ft.jsx)("input",{type:"radio",value:"excel",checked:"excel"===o,onChange:e=>l(e.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),(0,ft.jsx)("span",{className:"text-sm text-gray-700",children:"Excel (.xlsx)"})]}),(0,ft.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,ft.jsx)("input",{type:"radio",value:"pdf",checked:"pdf"===o,onChange:e=>l(e.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),(0,ft.jsx)("span",{className:"text-sm text-gray-700",children:"PDF (.pdf)"})]})]})]}),(0,ft.jsx)("button",{onClick:()=>{const e=Object.entries(s).filter((e=>{let[t,n]=e;return n})).map((e=>{let[t]=e;return t}));r({fields:e,fileType:o,dateRange:{startDate:c.startDate||null,endDate:c.endDate||null}}),n()},disabled:!Object.values(s).some((e=>e)),className:"w-full bg-emerald-600 text-white py-2 px-4 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Export"})]})})}):null};const kI=function(){var e;const[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)(1),[h,m]=(0,a.useState)(1),[p,f]=(0,a.useState)(0),[g,x]=(0,a.useState)([]),[y,v]=(0,a.useState)(""),[b,w]=(0,a.useState)(""),[j,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[_,C]=(0,a.useState)(!1),[E,T]=(0,a.useState)({open:!1,booking:null,refundType:"auto"}),[D,A]=(0,a.useState)(!1);(0,a.useEffect)((()=>{P(),M()}),[d,y,b,j,k]);const P=async()=>{try{const e=await(async()=>{try{console.log("API call: getAllTreks");const e=await Ru.get("/treks/all");return console.log("All treks response:",e.data),e.data}catch(i){return console.error("Error fetching all treks:",i),[]}})();x(e)}catch(e){console.error("Error fetching treks:",e),pt.error("Failed to load treks")}},M=async()=>{try{s(!0),console.log("Fetching all bookings for admin...");const e=await Qu(d,{status:"all"!==l?l:void 0,trekId:y||void 0,batchId:b||void 0,startDate:j?j.toISOString().split("T")[0]:void 0,endDate:k?k.toISOString().split("T")[0]:void 0});console.log("Bookings data:",e),n(Array.isArray(e.bookings)?e.bookings:[]),m(e.pagination.pages),f(e.pagination.total)}catch(e){console.error("Error fetching bookings:",e),o("Failed to load bookings. Please try again later."),pt.error("Failed to load bookings")}finally{s(!1)}},L=e=>{u(e)},O=()=>T({open:!1,booking:null,refundType:"auto"});return r?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Bookings"}),(0,ft.jsx)("button",{onClick:()=>C(!0),className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",children:"Export Bookings"})]}),(0,ft.jsx)("div",{className:"bg-white shadow rounded-lg p-4 mb-6",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,ft.jsxs)("select",{value:l,onChange:e=>{c(e.target.value),u(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[(0,ft.jsx)("option",{value:"all",children:"All Status"}),(0,ft.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,ft.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trek"}),(0,ft.jsxs)("select",{value:y,onChange:e=>{v(e.target.value),w(""),u(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[(0,ft.jsx)("option",{value:"",children:"All Treks"}),g.map((e=>(0,ft.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch"}),(0,ft.jsxs)("select",{value:b,onChange:e=>{w(e.target.value),u(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[(0,ft.jsx)("option",{value:"",children:"All Batches"}),y&&(null===(e=g.find((e=>e._id===y)))||void 0===e?void 0:e.batches.map((e=>(0,ft.jsxs)("option",{value:e._id,children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]},e._id))))]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),(0,ft.jsx)(bI,{selectsRange:!0,startDate:j,endDate:k,onChange:e=>{const[t,n]=e;N(t),S(n),u(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",placeholderText:"Select date range",isClearable:!0})]})]})}),i&&(0,ft.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:i}),E.open&&(0,ft.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,ft.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),(0,ft.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,ft.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,ft.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,ft.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Cancel Booking"}),(0,ft.jsxs)("div",{className:"mt-2",children:[(0,ft.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to cancel this booking? This action cannot be undone.",(0,ft.jsx)("br",{}),"Refund to user: ",(0,ft.jsxs)("span",{className:"font-semibold",children:["\u20b9",function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";if(!e)return 0;const r=new Date(null===(t=e.batch)||void 0===t?void 0:t.startDate),s=new Date,i=e.totalPrice;if("full"===n)return i;const a=Math.ceil((r-s)/864e5);return a>7?Math.round(.9*i):a>=3?Math.round(.5*i):0}(E.booking,E.refundType)]})]}),(0,ft.jsxs)("div",{className:"mt-4 flex justify-center gap-4",children:[(0,ft.jsx)("button",{className:"px-3 py-1 rounded "+("auto"===E.refundType?"bg-emerald-600 text-white":"bg-gray-200"),onClick:()=>T((e=>({...e,refundType:"auto"}))),disabled:D,children:"Auto Refund"}),(0,ft.jsx)("button",{className:"px-3 py-1 rounded "+("full"===E.refundType?"bg-emerald-600 text-white":"bg-gray-200"),onClick:()=>T((e=>({...e,refundType:"full"}))),disabled:D,children:"100% Refund"})]})]})]})]}),(0,ft.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,ft.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm",onClick:async()=>{A(!0);try{await gh({bookingId:E.booking._id,refund:!0,refundType:E.refundType}),pt.success("Booking cancelled and refund processed (if applicable)"),O(),M()}catch(e){pt.error(e.message||"Failed to cancel booking")}finally{A(!1)}},disabled:D,children:D?"Processing...":"Cancel Booking & Refund"}),(0,ft.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:O,disabled:D,children:"Go Back"})]})]})]})}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trek"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Price (INR)"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length>0?t.map((e=>{var t,n,r;return(0,ft.jsxs)("tr",{children:[(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e._id.substring(0,8),"..."]}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.trek)||void 0===t?void 0:t.name)||"Unknown Trek"})}),(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,ft.jsx)("div",{className:"text-sm text-gray-900",children:(null===(n=e.user)||void 0===n?void 0:n.name)||"Unknown User"}),(0,ft.jsx)("div",{className:"text-sm text-gray-500",children:(null===(r=e.user)||void 0===r?void 0:r.email)||"No email"})]}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.participants}),(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["\u20b9",e.totalPrice]}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("confirmed"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,ft.jsx)(Me,{to:`/admin/bookings/${e._id}`,className:"text-emerald-600 hover:text-emerald-900 mr-3",children:"View"}),(0,ft.jsx)(Me,{to:`/admin/bookings/${e._id}/edit`,className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,ft.jsx)("button",{onClick:()=>(e=>{T({open:!0,booking:e,refundType:"auto"})})(e),className:"text-red-600 hover:text-red-800 text-sm font-medium",disabled:"cancelled"===e.status,children:"Cancel"})]})]},e._id)})):(0,ft.jsx)("tr",{children:(0,ft.jsx)("td",{colSpan:"8",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No bookings found"})})})]})}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,ft.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,ft.jsx)("button",{onClick:()=>L(d-1),disabled:1===d,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),(0,ft.jsx)("button",{onClick:()=>L(d+1),disabled:d===h,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),(0,ft.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,ft.jsx)("div",{children:(0,ft.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,ft.jsx)("span",{className:"font-medium",children:10*(d-1)+1})," to"," ",(0,ft.jsx)("span",{className:"font-medium",children:Math.min(10*d,p)})," of"," ",(0,ft.jsx)("span",{className:"font-medium",children:p})," results"]})}),(0,ft.jsx)("div",{children:(0,ft.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,ft.jsxs)("button",{onClick:()=>L(d-1),disabled:1===d,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Previous"}),"<"]}),Array.from({length:h},((e,t)=>t+1)).map((e=>(0,ft.jsx)("button",{onClick:()=>L(e),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(d===e?"z-10 bg-emerald-50 border-emerald-500 text-emerald-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:e},e))),(0,ft.jsxs)("button",{onClick:()=>L(d+1),disabled:d===h,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Next"}),">"]})]})})]})]})]}),(0,ft.jsx)(NI,{isOpen:_,onClose:()=>C(!1),onExport:async e=>{try{const t=await(async e=>{try{const{fields:t,fileType:n,filters:r}=e,s=new URLSearchParams({fields:t.join(","),fileType:n,...r.status&&{status:r.status},...r.trekId&&{trekId:r.trekId},...r.batchId&&{batchId:r.batchId},...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}});return await Ru.get(`/bookings/admin/export?${s.toString()}`,{responseType:"blob"})}catch(i){throw console.error("Error exporting bookings:",i),i}})({...e,filters:{status:"all"!==l?l:void 0,trekId:y||void 0,batchId:b||void 0,startDate:j?j.toISOString().split("T")[0]:void 0,endDate:k?k.toISOString().split("T")[0]:void 0}}),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download",`bookings_export.${e.fileType}`),document.body.appendChild(r),r.click(),r.remove(),pt.success("Bookings exported successfully")}catch(t){console.error("Error exporting bookings:",t),pt.error("Failed to export bookings")}}})]})};const SI=function(){const e=se(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null);(0,a.useEffect)((()=>{d()}),[]);const d=async()=>{try{o(!0);const[e,t]=await Promise.all([Gu(),ph()]);n(e),s(t)}catch(e){console.error("Error fetching data:",e),c("Failed to load data"),pt.error("Failed to load data")}finally{o(!1)}},u=async(e,t)=>{try{await(async(e,t)=>{try{return(await Ru.patch(`/auth/users/${e}/role`,{role:t})).data}catch(l){throw console.error("Error updating user role:",l),l}})(e,t),pt.success("User role updated successfully"),d()}catch(s){var n,r;console.error("Error updating user role:",s),pt.error((null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to update user role")}},h=async(e,t)=>{try{await(async(e,t)=>{try{return(await Ru.put(`/users/${e}/group`,{groupId:t})).data}catch(l){throw console.error("Error updating user group assignment:",l),l}})(e,t),pt.success("User group updated successfully"),d()}catch(s){var n,r;console.error("Error updating user group:",s),pt.error((null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to update user group")}};return i?(0,ft.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ft.jsx)(np,{size:"lg"})}):(0,ft.jsx)(ft.Fragment,{children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Users"}),(0,ft.jsx)("div",{className:"flex space-x-4",children:(0,ft.jsx)("button",{onClick:()=>e("/admin/user-groups"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Manage User Groups"})})]}),l&&(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:l})})]})}),(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Group"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((t=>{var n;return(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.name}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.email}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,ft.jsxs)("select",{value:t.role,onChange:e=>u(t._id,e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md",children:[(0,ft.jsx)("option",{value:"user",children:"User"}),(0,ft.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,ft.jsxs)("select",{value:(null===(n=t.group)||void 0===n?void 0:n._id)||"",onChange:e=>h(t._id,e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md",children:[(0,ft.jsx)("option",{value:"",children:"No Group"}),r.map((e=>(0,ft.jsx)("option",{value:e._id,children:e.name},e._id)))]})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,ft.jsx)("button",{onClick:()=>e(`/admin/users/${t._id}/edit`),className:"text-emerald-600 hover:text-emerald-900 mr-4",children:"Edit"})})]},t._id)}))})]})})]})})};const _I=function(){return(0,ft.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,ft.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,ft.jsx)("h1",{className:"text-9xl font-extrabold text-emerald-600",children:"404"}),(0,ft.jsx)("h2",{className:"mt-4 text-3xl font-bold text-gray-900",children:"Page Not Found"}),(0,ft.jsx)("p",{className:"mt-2 text-base text-gray-600",children:"Sorry, we couldn't find the page you're looking for."}),(0,ft.jsx)("div",{className:"mt-6",children:(0,ft.jsx)(Me,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700",children:"Go back home"})})]})})};const CI=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)("all");(0,a.useEffect)((()=>{c()}),[]);const c=async()=>{try{r(!0);const e=await(async()=>{try{return(await Ru.get("/tickets")).data}catch(s){throw console.error("Error fetching all tickets:",s),s}})();t(Array.isArray(e)?e:[])}catch(e){console.error("Error fetching tickets:",e),i("Failed to load tickets. Please try again later."),pt.error("Failed to load tickets")}finally{r(!1)}},d=async(e,t)=>{try{await th(e,t),pt.success(`Ticket status updated to ${t}`),c()}catch(n){console.error("Error updating ticket status:",n),pt.error("Failed to update ticket status")}},u="all"===o?e:e.filter((e=>e.status===o)),h=e=>{switch(e){case"open":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},m=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return n?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Support Tickets"}),(0,ft.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Manage customer support tickets"})]}),s&&(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:s})})]})}),(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,ft.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,ft.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,ft.jsxs)("div",{className:"flex space-x-4",children:[(0,ft.jsx)("button",{onClick:()=>l("all"),className:"px-3 py-2 rounded-md text-sm font-medium "+("all"===o?"bg-emerald-100 text-emerald-800":"text-gray-700 hover:bg-gray-100"),children:"All"}),(0,ft.jsx)("button",{onClick:()=>l("open"),className:"px-3 py-2 rounded-md text-sm font-medium "+("open"===o?"bg-yellow-100 text-yellow-800":"text-gray-700 hover:bg-gray-100"),children:"Open"}),(0,ft.jsx)("button",{onClick:()=>l("in-progress"),className:"px-3 py-2 rounded-md text-sm font-medium "+("in-progress"===o?"bg-blue-100 text-blue-800":"text-gray-700 hover:bg-gray-100"),children:"In Progress"}),(0,ft.jsx)("button",{onClick:()=>l("resolved"),className:"px-3 py-2 rounded-md text-sm font-medium "+("resolved"===o?"bg-green-100 text-green-800":"text-gray-700 hover:bg-gray-100"),children:"Resolved"}),(0,ft.jsx)("button",{onClick:()=>l("closed"),className:"px-3 py-2 rounded-md text-sm font-medium "+("closed"===o?"bg-gray-100 text-gray-800":"text-gray-700 hover:bg-gray-100"),children:"Closed"})]})}),(0,ft.jsx)("div",{className:"mt-6 overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticket ID"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trek"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length>0?u.map((e=>{var t,n,r,s;return(0,ft.jsxs)("tr",{children:[(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e._id.substring(0,8),"..."]}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.subject})}),(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,ft.jsx)("div",{className:"text-sm text-gray-900",children:(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown User"}),(0,ft.jsx)("div",{className:"text-sm text-gray-500",children:(null===(n=e.user)||void 0===n?void 0:n.email)||"No email"})]}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===(r=e.booking)||void 0===r||null===(s=r.trek)||void 0===s?void 0:s.name)||"Unknown Trek"}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m(e.priority)}`,children:e.priority})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h(e.status)}`,children:e.status})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,ft.jsx)(Me,{to:`/admin/support/${e._id}`,className:"text-emerald-600 hover:text-emerald-900 mr-3",children:"View"}),"open"===e.status&&(0,ft.jsx)("button",{onClick:()=>d(e._id,"in-progress"),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Start"}),"in-progress"===e.status&&(0,ft.jsx)("button",{onClick:()=>d(e._id,"resolved"),className:"text-green-600 hover:text-green-900 mr-3",children:"Resolve"}),"resolved"===e.status&&(0,ft.jsx)("button",{onClick:()=>d(e._id,"closed"),className:"text-gray-600 hover:text-gray-900",children:"Close"})]})]},e._id)})):(0,ft.jsx)("tr",{children:(0,ft.jsx)("td",{colSpan:"8",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No tickets found"})})})]})})]})})]})};const EI=function(){var e,t,n,r;const{id:s}=ie(),{currentUser:i}=yh(),[o,l]=(se(),(0,a.useState)(null)),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)(""),[f,g]=(0,a.useState)(!1);(0,a.useEffect)((()=>{x()}),[s]);const x=async()=>{try{d(!0);const e=await Ju(s);l(e)}catch(e){console.error("Error fetching ticket:",e),h("Failed to load ticket. Please try again later."),pt.error("Failed to load ticket")}finally{d(!1)}},y=async e=>{try{await th(s,e),pt.success(`Ticket status updated to ${e}`),x()}catch(t){console.error("Error updating ticket status:",t),pt.error("Failed to update ticket status")}};return c?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):u?(0,ft.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm text-red-700",children:u}),(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)(Me,{to:"/admin/support",className:"text-sm font-medium text-red-700 hover:text-red-600",children:"Go back to support tickets"})})]})]})})}):o?(0,ft.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsx)("div",{className:"mb-6",children:(0,ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)(Me,{to:"/admin/support",className:"text-emerald-600 hover:text-emerald-900 flex items-center",children:[(0,ft.jsx)("svg",{className:"h-5 w-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Support Tickets"]}),(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mt-2",children:o.subject})]}),(0,ft.jsxs)("div",{className:"flex space-x-2",children:["open"===o.status&&(0,ft.jsx)("button",{onClick:()=>y("in-progress"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Start Working"}),"in-progress"===o.status&&(0,ft.jsx)("button",{onClick:()=>y("resolved"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Mark Resolved"}),"resolved"===o.status&&(0,ft.jsx)("button",{onClick:()=>y("closed"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Close Ticket"})]})]})}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Ticket Information"}),(0,ft.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Details about the support ticket."})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(e=>{switch(e){case"open":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(o.status)}`,children:o.status}),(0,ft.jsxs)("span",{className:`ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(o.priority)}`,children:[o.priority," priority"]})]})]})}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsxs)("dl",{children:[(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"User"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[null===(e=o.user)||void 0===e?void 0:e.name," (",null===(t=o.user)||void 0===t?void 0:t.email,")"]})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Trek"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(null===(n=o.booking)||void 0===n||null===(r=n.trek)||void 0===r?void 0:r.name)||"Unknown Trek"})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(o.createdAt).toLocaleString()})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(o.updatedAt).toLocaleString()})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 whitespace-pre-line",children:o.description})]})]})})]}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Conversation"})}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[o.responses&&o.responses.length>0?(0,ft.jsx)("div",{className:"space-y-6",children:o.responses.map(((e,t)=>{var n;return(0,ft.jsx)("div",{className:"flex "+(e.isAdmin?"justify-start":"justify-end"),children:(0,ft.jsxs)("div",{className:"max-w-lg rounded-lg px-4 py-3 "+(e.isAdmin?"bg-gray-100":"bg-emerald-100"),children:[(0,ft.jsxs)("div",{className:"flex items-center mb-1",children:[(0,ft.jsx)("span",{className:"font-medium text-sm",children:e.isAdmin?"Support Agent":(null===(n=o.user)||void 0===n?void 0:n.name)||"User"}),(0,ft.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:new Date(e.createdAt).toLocaleString()})]}),(0,ft.jsx)("p",{className:"text-sm whitespace-pre-line",children:e.message})]})},t)}))}):(0,ft.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No responses yet."}),"closed"!==o.status&&(0,ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m.trim())try{g(!0),await eh(s,m),pt.success("Response added successfully"),p(""),x()}catch(t){console.error("Error adding response:",t),pt.error("Failed to add response")}finally{g(!1)}else pt.error("Please enter a response")},className:"mt-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"response",className:"block text-sm font-medium text-gray-700",children:"Add Response"}),(0,ft.jsx)("div",{className:"mt-1",children:(0,ft.jsx)("textarea",{id:"response",name:"response",rows:4,className:"shadow-sm focus:ring-emerald-500 focus:border-emerald-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m,onChange:e=>p(e.target.value),disabled:f})})]}),(0,ft.jsx)("div",{className:"mt-2 flex justify-end",children:(0,ft.jsx)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",disabled:f,children:f?"Sending...":"Send Response"})})]})]})})]})]}):(0,ft.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ft.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm text-yellow-700",children:"Ticket not found"}),(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)(Me,{to:"/admin/support",className:"text-sm font-medium text-yellow-700 hover:text-yellow-600",children:"Go back to support tickets"})})]})]})})})};const TI=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null);(0,a.useEffect)((()=>{o()}),[]);const o=async()=>{try{r(!0);const e=await Zu();t(Array.isArray(e)?e:[])}catch(e){console.error("Error fetching tickets:",e),i("Failed to load tickets. Please try again later."),pt.error("Failed to load tickets")}finally{r(!1)}},l=e=>{switch(e){case"open":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return n?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Support Tickets"}),(0,ft.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"View and manage your support requests"})]}),s&&(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:s})})]})}),(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,ft.jsx)("div",{className:"px-4 py-5 sm:p-6",children:e.length>0?(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.subject})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l(e.status)}`,children:e.status})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.updatedAt).toLocaleDateString()}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,ft.jsx)(Me,{to:`/tickets/${e._id}`,className:"text-emerald-600 hover:text-emerald-900",children:"View"})})]},e._id)))})]})}):(0,ft.jsxs)("div",{className:"text-center py-4",children:[(0,ft.jsx)("p",{className:"text-gray-500",children:"You don't have any support tickets yet."}),(0,ft.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"If you need help with a booking, you can create a support ticket from your bookings page."}),(0,ft.jsx)(Me,{to:"/bookings",className:"mt-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700",children:"Go to My Bookings"})]})})})]})};const DI=function(){var e,t;const{id:n}=ie(),[r,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{p()}),[n]);const p=async()=>{try{o(!0);const e=await Ju(n);s(e)}catch(e){console.error("Error fetching ticket:",e),c("Failed to load ticket. Please try again later."),pt.error("Failed to load ticket")}finally{o(!1)}};return i?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):l?(0,ft.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm text-red-700",children:l}),(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)(Me,{to:"/tickets",className:"text-sm font-medium text-red-700 hover:text-red-600",children:"Go back to my tickets"})})]})]})})}):r?(0,ft.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsx)("div",{className:"mb-6",children:(0,ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:r.subject}),(0,ft.jsx)(Me,{to:"/tickets",className:"text-emerald-600 hover:text-emerald-700",children:"Back to tickets"})]})}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Ticket Information"}),(0,ft.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Details about your support ticket."})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(e=>{switch(e){case"open":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(r.status)}`,children:r.status}),(0,ft.jsxs)("span",{className:`ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(r.priority)}`,children:[r.priority," priority"]})]})]})}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsxs)("dl",{children:[(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Trek"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(null===(e=r.booking)||void 0===e||null===(t=e.trek)||void 0===t?void 0:t.name)||"Unknown Trek"})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(r.createdAt).toLocaleString()})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(r.updatedAt).toLocaleString()})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 whitespace-pre-line",children:r.description})]})]})})]}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Conversation"})}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.responses&&r.responses.length>0?(0,ft.jsx)("div",{className:"space-y-6",children:r.responses.map(((e,t)=>(0,ft.jsx)("div",{className:"flex "+(e.isAdmin?"justify-start":"justify-end"),children:(0,ft.jsxs)("div",{className:"max-w-lg rounded-lg px-4 py-3 "+(e.isAdmin?"bg-gray-100":"bg-emerald-100"),children:[(0,ft.jsxs)("div",{className:"flex items-center mb-1",children:[(0,ft.jsx)("span",{className:"font-medium text-sm",children:e.isAdmin?"Support Agent":"You"}),(0,ft.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:new Date(e.createdAt).toLocaleString()})]}),(0,ft.jsx)("p",{className:"text-sm whitespace-pre-line",children:e.message})]})},t)))}):(0,ft.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No responses yet. Our support team will respond to your ticket soon."}),"closed"!==r.status&&(0,ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d.trim())try{m(!0),await eh(n,d),pt.success("Response added successfully"),u(""),p()}catch(t){console.error("Error adding response:",t),pt.error("Failed to add response")}finally{m(!1)}else pt.error("Please enter a response")},className:"mt-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"response",className:"block text-sm font-medium text-gray-700",children:"Add Response"}),(0,ft.jsx)("div",{className:"mt-1",children:(0,ft.jsx)("textarea",{id:"response",name:"response",rows:4,className:"shadow-sm focus:ring-emerald-500 focus:border-emerald-500 block w-full sm:text-sm border-gray-300 rounded-md",value:d,onChange:e=>u(e.target.value),disabled:h})})]}),(0,ft.jsx)("div",{className:"mt-2 flex justify-end",children:(0,ft.jsx)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",disabled:h,children:h?"Sending...":"Send Response"})})]})]})})]})]}):(0,ft.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ft.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm text-yellow-700",children:"Ticket not found."}),(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsx)(Me,{to:"/tickets",className:"text-sm font-medium text-yellow-700 hover:text-yellow-600",children:"Go back to my tickets"})})]})]})})})},AI="label";function PI(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function MI(e,t){e.labels=t}function LI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:AI;const r=[];e.datasets=t.map((t=>{const s=e.datasets.find((e=>e[n]===t[n]));return s&&t.data&&!r.includes(s)?(r.push(s),Object.assign(s,t),s):{...t}}))}function OI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AI;const n={labels:[],datasets:[]};return MI(n,e.labels),LI(n,e.datasets,t),n}function RI(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=e,p=(0,a.useRef)(null),f=(0,a.useRef)(null),g=()=>{p.current&&(f.current=new Rv(p.current,{type:o,data:OI(l,i),options:c&&{...c},plugins:d}),PI(t,f.current))},x=()=>{PI(t,null),f.current&&(f.current.destroy(),f.current=null)};return(0,a.useEffect)((()=>{!s&&f.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(f.current,c)}),[s,c]),(0,a.useEffect)((()=>{!s&&f.current&&MI(f.current.config.data,l.labels)}),[s,l.labels]),(0,a.useEffect)((()=>{!s&&f.current&&l.datasets&&LI(f.current.config.data,l.datasets,i)}),[s,l.datasets]),(0,a.useEffect)((()=>{f.current&&(s?(x(),setTimeout(g)):f.current.update(h))}),[s,c,l.labels,l.datasets,h]),(0,a.useEffect)((()=>{f.current&&(x(),setTimeout(g))}),[o]),(0,a.useEffect)((()=>(g(),()=>x())),[]),a.createElement("canvas",{ref:p,role:"img",height:n,width:r,...m},u)}const II=(0,a.forwardRef)(RI);function FI(e,t){return Rv.register(t),(0,a.forwardRef)(((t,n)=>a.createElement(II,{...t,ref:n,type:e})))}const zI=FI("line",ay),BI=FI("bar",sy),qI=FI("pie",oy);const UI=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)({code:"",discountType:"percentage",discountValue:"",maxUses:"",validFrom:"",validUntil:"",minOrderValue:"",applicableTreks:[],isActive:!0}),[f,g]=(0,a.useState)({isOpen:!1,promoId:null});(0,a.useEffect)((()=>{x(),y()}),[]);const x=async()=>{try{i(!0);const e=await(async()=>{try{return(await Ru.get("/promos")).data}catch(e){throw console.error("Error fetching promo codes:",e),e}})();t(e)}catch(e){console.error("Error fetching promo codes:",e),pt.error("Failed to load promo codes")}finally{i(!1)}},y=async()=>{try{const e=await Iu();r(e)}catch(e){console.error("Error fetching treks:",e),pt.error("Failed to load treks")}},v=e=>{const{name:t,value:n,type:r,checked:s}=e.target;p((e=>({...e,[t]:"checkbox"===r?s:n})))},b=()=>{p({code:"",discountType:"percentage",discountValue:"",maxUses:"",validFrom:"",validUntil:"",minOrderValue:"",applicableTreks:[],isActive:!0}),d(!1),h(null)},w=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Promo Codes"}),(0,ft.jsx)("button",{onClick:()=>{b(),l(!0)},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Create Promo Code"})]}),s&&!o?(0,ft.jsx)("div",{className:"flex justify-center my-8",children:(0,ft.jsx)(np,{})}):0===e.length?(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md p-6 text-center text-gray-500",children:"No promo codes found. Create your first promo code to get started."}):(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,ft.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map((t=>(0,ft.jsx)("li",{children:(0,ft.jsxs)("div",{className:"px-4 py-4 sm:px-6",children:[(0,ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-emerald-600 truncate",children:t.code}),(0,ft.jsx)("span",{className:"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.isActive?"Active":"Inactive"})]}),(0,ft.jsxs)("div",{className:"flex space-x-2",children:[(0,ft.jsx)("button",{onClick:()=>{return h(e=t),p({code:e.code,discountType:e.discountType,discountValue:e.discountValue,maxUses:e.maxUses||"",validFrom:new Date(e.validFrom).toISOString().split("T")[0],validUntil:new Date(e.validUntil).toISOString().split("T")[0],minOrderValue:e.minOrderValue||"",applicableTreks:e.applicableTreks.map((e=>e._id||e)),isActive:e.isActive}),d(!0),void l(!0);var e},className:"text-emerald-600 hover:text-emerald-900",children:"Edit"}),(0,ft.jsx)("button",{onClick:()=>(t=>{const n=e.find((e=>e._id===t));g({isOpen:!0,promoId:t,promoCode:null===n||void 0===n?void 0:n.code})})(t._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]}),(0,ft.jsxs)("div",{className:"mt-2 sm:flex sm:justify-between",children:[(0,ft.jsxs)("div",{className:"sm:flex",children:[(0,ft.jsx)("p",{className:"flex items-center text-sm text-gray-500",children:"percentage"===t.discountType?`${t.discountValue}% off`:`$${t.discountValue} off`}),(0,ft.jsx)("p",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:t.maxUses?`${t.usedCount}/${t.maxUses} uses`:`${t.usedCount} uses`})]}),(0,ft.jsx)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:(0,ft.jsxs)("p",{children:["Valid: ",w(t.validFrom)," - ",w(t.validUntil)]})})]})]})},t._id)))})}),o&&(0,ft.jsx)(Uj,{title:c?"Edit Promo Code":"Create Promo Code",onClose:()=>{l(!1),b()},children:(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("form",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700",children:"Promo Code"}),(0,ft.jsx)("input",{type:"text",id:"code",name:"code",value:m.code,onChange:v,disabled:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"SUMMER2023"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"discountType",className:"block text-sm font-medium text-gray-700",children:"Discount Type"}),(0,ft.jsxs)("select",{id:"discountType",name:"discountType",value:m.discountType,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",children:[(0,ft.jsx)("option",{value:"percentage",children:"Percentage"}),(0,ft.jsx)("option",{value:"fixed",children:"Fixed Amount"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"discountValue",className:"block text-sm font-medium text-gray-700",children:"Discount Value"}),(0,ft.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:["fixed"===m.discountType&&(0,ft.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ft.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,ft.jsx)("input",{type:"number",id:"discountValue",name:"discountValue",value:m.discountValue,onChange:v,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm "+("fixed"===m.discountType?"pl-7":"px-3"),placeholder:"percentage"===m.discountType?"10":"5.00",min:"0",step:"percentage"===m.discountType?"1":"0.01"}),"percentage"===m.discountType&&(0,ft.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,ft.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"%"})})]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"maxUses",className:"block text-sm font-medium text-gray-700",children:"Maximum Uses (leave empty for unlimited)"}),(0,ft.jsx)("input",{type:"number",id:"maxUses",name:"maxUses",value:m.maxUses,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"100",min:"1"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"minOrderValue",className:"block text-sm font-medium text-gray-700",children:"Minimum Order Value"}),(0,ft.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[(0,ft.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ft.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,ft.jsx)("input",{type:"number",id:"minOrderValue",name:"minOrderValue",value:m.minOrderValue,onChange:v,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 pl-7 pr-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"0",min:"0",step:"0.01"})]})]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"validFrom",className:"block text-sm font-medium text-gray-700",children:"Valid From"}),(0,ft.jsx)("input",{type:"date",id:"validFrom",name:"validFrom",value:m.validFrom,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"validUntil",className:"block text-sm font-medium text-gray-700",children:"Valid Until"}),(0,ft.jsx)("input",{type:"date",id:"validUntil",name:"validUntil",value:m.validUntil,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Applicable Treks (leave empty for all treks)"}),(0,ft.jsx)("div",{className:"max-h-60 overflow-y-auto border border-gray-300 rounded-md p-2",children:n.map((e=>(0,ft.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ft.jsx)("input",{type:"checkbox",id:`trek-${e._id}`,checked:m.applicableTreks.includes(e._id),onChange:()=>{return t=e._id,void p((e=>{const n=[...e.applicableTreks];return n.includes(t)?{...e,applicableTreks:n.filter((e=>e!==t))}:{...e,applicableTreks:[...n,t]}}));var t},className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:`trek-${e._id}`,className:"ml-2 block text-sm text-gray-900",children:e.name})]},e._id)))})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("input",{type:"checkbox",id:"isActive",name:"isActive",checked:m.isActive,onChange:v,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>{l(!1),b()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:async e=>{e.preventDefault();try{i(!0);const e={...m,discountValue:Number(m.discountValue),maxUses:m.maxUses?Number(m.maxUses):null,minOrderValue:m.minOrderValue?Number(m.minOrderValue):0};c?(await(async(e,t)=>{try{return(await Ru.put(`/promos/${e}`,t)).data}catch(n){throw console.error("Error updating promo code:",n),n}})(u._id,e),pt.success("Promo code updated successfully")):(await(async e=>{try{return(await Ru.post("/promos",e)).data}catch(t){throw console.error("Error creating promo code:",t),t}})(e),pt.success("Promo code created successfully")),x(),l(!1),b()}catch(r){var t,n;console.error("Error saving promo code:",r),pt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to save promo code")}finally{i(!1)}},disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:s?"Saving...":c?"Update":"Create"})]})]})}),f.isOpen&&(0,ft.jsx)(Uj,{title:"Delete Promo Code",onClose:()=>g({isOpen:!1,promoId:null}),footer:(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>g({isOpen:!1,promoId:null}),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:async()=>{try{i(!0),await(async e=>{try{return(await Ru.delete(`/promos/${e}`)).data}catch(t){throw console.error("Error deleting promo code:",t),t}})(f.promoId),pt.success("Promo code deleted successfully"),x(),g({isOpen:!1,promoId:null})}catch(e){console.error("Error deleting promo code:",e),pt.error("Failed to delete promo code")}finally{i(!1)}},disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:s?"Deleting...":"Delete"})]}),children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this promo code? This action cannot be undone."})})]})};const VI=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)({name:"",description:"",discountType:"percentage",discountValue:"",startDate:"",endDate:"",applicableTreks:[],isActive:!0}),[f,g]=(0,a.useState)({isOpen:!1,offerId:null});(0,a.useEffect)((()=>{x(),y()}),[]);const x=async()=>{try{i(!0);const e=await(async()=>{try{return(await Ru.get("/offers")).data}catch(e){throw console.error("Error fetching offers:",e),e}})();t(e)}catch(e){console.error("Error fetching offers:",e),pt.error("Failed to load offers")}finally{i(!1)}},y=async()=>{try{i(!0);const e=await Iu();console.log("Treks data received:",e);const t=(Array.isArray(e)?e:e&&Array.isArray(e.treks)?e.treks:[]).filter((e=>e.isEnabled));r(t)}catch(e){console.error("Error fetching treks:",e),pt.error("Failed to load treks")}finally{i(!1)}},v=e=>{const{name:t,value:n,type:r,checked:s}=e.target;p((e=>({...e,[t]:"checkbox"===r?s:n})))},b=()=>{p({name:"",description:"",discountType:"percentage",discountValue:"",startDate:"",endDate:"",applicableTreks:[],isActive:!0}),d(!1),h(null)},w=async e=>{if(e.preventDefault(),0!==m.applicableTreks.length)try{i(!0);const e={...m,discountValue:Number(m.discountValue)};c?(await(async(e,t)=>{try{return(await Ru.put(`/offers/${e}`,t)).data}catch(n){throw console.error("Error updating offer:",n),n}})(u._id,e),pt.success("Offer updated successfully")):(await(async e=>{try{return(await Ru.post("/offers",e)).data}catch(t){throw console.error("Error creating offer:",t),t}})(e),pt.success("Offer created successfully")),x(),l(!1),b()}catch(r){var t,n;console.error("Error saving offer:",r),pt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to save offer")}finally{i(!1)}else pt.error("Please select at least one trek")},j=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Limited-Time Offers"}),(0,ft.jsx)("button",{onClick:()=>{b(),l(!0)},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Create New Offer"})]}),s&&(0,ft.jsx)(np,{}),s||0!==e.length?(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,ft.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map((t=>(0,ft.jsx)("li",{children:(0,ft.jsxs)("div",{className:"px-4 py-4 sm:px-6",children:[(0,ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 h-4 w-4 rounded-full "+(t.isActive?"bg-green-500":"bg-gray-400")}),(0,ft.jsx)("p",{className:"ml-2 text-sm font-medium text-gray-900",children:t.name})]}),(0,ft.jsxs)("div",{className:"flex space-x-2",children:[(0,ft.jsx)("button",{onClick:()=>(e=>{h(e),p({name:e.name,description:e.description,discountType:e.discountType,discountValue:e.discountValue,startDate:new Date(e.startDate).toISOString().split("T")[0],endDate:new Date(e.endDate).toISOString().split("T")[0],applicableTreks:e.applicableTreks.map((e=>e._id||e)),isActive:e.isActive}),d(!0),l(!0)})(t),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded text-emerald-700 bg-emerald-100 hover:bg-emerald-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Edit"}),(0,ft.jsx)("button",{onClick:()=>(t=>{const n=e.find((e=>e._id===t));g({isOpen:!0,offerId:t,offerName:n.name})})(t._id),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]}),(0,ft.jsxs)("div",{className:"mt-2 sm:flex sm:justify-between",children:[(0,ft.jsx)("div",{className:"sm:flex",children:(0,ft.jsx)("p",{className:"flex items-center text-sm text-gray-500",children:t.description})}),(0,ft.jsx)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:(0,ft.jsxs)("span",{children:[j(t.startDate)," - ",j(t.endDate)]})})]}),(0,ft.jsxs)("div",{className:"mt-2",children:[(0,ft.jsxs)("p",{className:"text-sm text-gray-500",children:["Discount: ","percentage"===t.discountType?`${t.discountValue}%`:`$${t.discountValue.toFixed(2)}`]}),(0,ft.jsxs)("div",{className:"mt-1",children:[(0,ft.jsx)("p",{className:"text-xs text-gray-500",children:"Applied to:"}),(0,ft.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:t.applicableTreks.map((e=>(0,ft.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:e.name},e._id)))})]})]})]})},t._id)))})}):(0,ft.jsx)("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:(0,ft.jsx)("p",{className:"text-gray-500",children:"No offers found. Create your first offer!"})}),o&&(0,ft.jsx)(Uj,{title:c?"Edit Offer":"Create New Offer",onClose:()=>{l(!1),b()},footer:(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>{l(!1),b()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:w,disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:s?"Saving...":"Save"})]}),children:(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("form",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Offer Name"}),(0,ft.jsx)("input",{type:"text",id:"name",name:"name",value:m.name,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"Summer Sale",required:!0})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,ft.jsx)("textarea",{id:"description",name:"description",value:m.description,onChange:v,rows:"2",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"Limited time summer discount on selected treks",required:!0})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"discountType",className:"block text-sm font-medium text-gray-700",children:"Discount Type"}),(0,ft.jsxs)("select",{id:"discountType",name:"discountType",value:m.discountType,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",children:[(0,ft.jsx)("option",{value:"percentage",children:"Percentage"}),(0,ft.jsx)("option",{value:"fixed",children:"Fixed Amount"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"discountValue",className:"block text-sm font-medium text-gray-700",children:"Discount Value"}),(0,ft.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:["fixed"===m.discountType&&(0,ft.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ft.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,ft.jsx)("input",{type:"number",id:"discountValue",name:"discountValue",value:m.discountValue,onChange:v,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm "+("fixed"===m.discountType?"pl-7":"px-3"),placeholder:"percentage"===m.discountType?"15":"50.00",min:"0",step:"percentage"===m.discountType?"1":"0.01",required:!0}),"percentage"===m.discountType&&(0,ft.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,ft.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"%"})})]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,ft.jsx)("input",{type:"date",id:"startDate",name:"startDate",value:m.startDate,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"End Date"}),(0,ft.jsx)("input",{type:"date",id:"endDate",name:"endDate",value:m.endDate,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Applicable Treks (select at least one)"}),(0,ft.jsx)("div",{className:"max-h-60 overflow-y-auto border border-gray-300 rounded-md p-2",children:n.map((e=>(0,ft.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ft.jsx)("input",{type:"checkbox",id:`trek-${e._id}`,checked:m.applicableTreks.includes(e._id),onChange:()=>{return t=e._id,void p((e=>{const n=[...e.applicableTreks];return n.includes(t)?{...e,applicableTreks:n.filter((e=>e!==t))}:{...e,applicableTreks:[...n,t]}}));var t},className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsxs)("label",{htmlFor:`trek-${e._id}`,className:"ml-2 block text-sm text-gray-900",children:[e.name," ",void 0!==e.price?`- $${Number(e.price).toFixed(2)}`:""]})]},e._id)))})]}),(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("input",{type:"checkbox",id:"isActive",name:"isActive",checked:m.isActive,onChange:v,className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>{l(!1),b()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:w,disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:s?"Saving...":"Save"})]})]})}),f.isOpen&&(0,ft.jsx)(Uj,{title:"Delete Offer",onClose:()=>g({isOpen:!1,offerId:null}),footer:(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>g({isOpen:!1,offerId:null}),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:async()=>{try{i(!0),await(async e=>{try{return(await Ru.delete(`/offers/${e}`)).data}catch(t){throw console.error("Error deleting offer:",t),t}})(f.offerId),pt.success("Offer deleted successfully"),x(),g({isOpen:!1,offerId:null})}catch(e){console.error("Error deleting offer:",e),pt.error("Failed to delete offer")}finally{i(!1)}},disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:s?"Deleting...":"Delete"})]}),children:(0,ft.jsxs)("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete the offer "',f.offerName,'"? This action cannot be undone.']})})]})};Rv.register(Uv,Cb,db,Db,Lb,ab,hb,Jv,Xv);const $I=function(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)("month"),[c,d]=(0,a.useState)("revenue"),[u,h]=(0,a.useState)("overview");(0,a.useEffect)((()=>{"overview"===u&&m()}),[o,u]);const m=async()=>{try{r(!0);const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";try{return(await Ru.get(`/stats/sales?timeRange=${e}`)).data}catch(s){throw console.error("Error fetching sales stats:",s),s}}(o);t(e),i(null)}catch(s){console.error("Error fetching sales stats:",s),i("Failed to load sales statistics"),pt.error("Failed to load sales statistics")}finally{r(!1)}},p=e=>null===e||void 0===e||isNaN(e)?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(0):new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);return(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Sales Dashboard"}),(0,ft.jsx)("div",{className:"mb-6",children:(0,ft.jsx)("div",{className:"border-b border-gray-200",children:(0,ft.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,ft.jsx)("button",{onClick:()=>h("overview"),className:("overview"===u?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",children:"Sales Overview"}),(0,ft.jsx)("button",{onClick:()=>h("promos"),className:("promos"===u?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",children:"Promo Codes"}),(0,ft.jsx)("button",{onClick:()=>h("offers"),className:("offers"===u?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",children:"Limited-Time Offers"})]})})}),"promos"===u?(0,ft.jsx)(UI,{}):"offers"===u?(0,ft.jsx)(VI,{}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("label",{htmlFor:"time-range",className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Range"}),(0,ft.jsxs)("select",{id:"time-range",value:o,onChange:e=>l(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md",children:[(0,ft.jsx)("option",{value:"month",children:"Last Month"}),(0,ft.jsx)("option",{value:"quarter",children:"Last Quarter"}),(0,ft.jsx)("option",{value:"year",children:"Last Year"})]})]}),n?(0,ft.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ft.jsx)(np,{})}):s?(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:s})})]})}):e?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[(0,ft.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,ft.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),(0,ft.jsx)("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:p((e.totalRevenue||0).toLocaleString("en-IN"))})]})}),(0,ft.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,ft.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Bookings"}),(0,ft.jsx)("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:e.totalBookings||0})]})}),(0,ft.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,ft.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average Booking Value"}),(0,ft.jsx)("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:p((e.avgBookingValue||0).toLocaleString("en-IN"))})]})}),(0,ft.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,ft.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average Participants"}),(0,ft.jsx)("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:(e.avgParticipants||0).toFixed(1)})]})})]}),(0,ft.jsx)("div",{className:"mb-6",children:(0,ft.jsxs)("div",{className:"flex space-x-4",children:[(0,ft.jsx)("button",{onClick:()=>d("revenue"),className:"px-4 py-2 text-sm font-medium rounded-md "+("revenue"===c?"bg-emerald-100 text-emerald-700":"bg-white text-gray-700 hover:bg-gray-50"),children:"Revenue Over Time"}),(0,ft.jsx)("button",{onClick:()=>d("bookings"),className:"px-4 py-2 text-sm font-medium rounded-md "+("bookings"===c?"bg-emerald-100 text-emerald-700":"bg-white text-gray-700 hover:bg-gray-50"),children:"Bookings Over Time"}),(0,ft.jsx)("button",{onClick:()=>d("regions"),className:"px-4 py-2 text-sm font-medium rounded-md "+("regions"===c?"bg-emerald-100 text-emerald-700":"bg-white text-gray-700 hover:bg-gray-50"),children:"Revenue by Region"})]})}),(0,ft.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:["revenue"===c&&(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Over Time"}),(0,ft.jsx)("div",{className:"h-80",children:(0,ft.jsx)(zI,{data:{labels:(e.revenueByPeriod||[]).map((e=>e.period)),datasets:[{label:"Revenue (INR)",data:(e.revenueByPeriod||[]).map((e=>e.amount)),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.5)",tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return p(e)}}}},plugins:{tooltip:{callbacks:{label:function(e){return p(e.raw)}}}}}})})]}),"bookings"===c&&(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bookings Over Time"}),(0,ft.jsx)("div",{className:"h-80",children:(0,ft.jsx)(BI,{data:{labels:(e.bookingsByPeriod||[]).map((e=>e.period)),datasets:[{label:"Bookings",data:(e.bookingsByPeriod||[]).map((e=>e.count)),backgroundColor:"rgba(16, 185, 129, 0.5)",borderColor:"rgb(16, 185, 129)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})})]}),"regions"===c&&(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Region"}),(0,ft.jsx)("div",{className:"h-80 flex justify-center",children:(0,ft.jsx)("div",{style:{width:"50%"},children:(0,ft.jsx)(qI,{data:{labels:(e.revenueByRegion||[]).map((e=>e.region)),datasets:[{label:"Revenue",data:(e.revenueByRegion||[]).map((e=>e.amount)),backgroundColor:["rgba(16, 185, 129, 0.7)","rgba(14, 165, 233, 0.7)","rgba(168, 85, 247, 0.7)","rgba(249, 115, 22, 0.7)","rgba(239, 68, 68, 0.7)","rgba(234, 179, 8, 0.7)"],borderColor:["rgb(16, 185, 129)","rgb(14, 165, 233)","rgb(168, 85, 247)","rgb(249, 115, 22)","rgb(239, 68, 68)","rgb(234, 179, 8)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:function(e){const t=e.label||"",n=e.raw||0,r=e.dataset.data.reduce(((e,t)=>e+t),0),s=Math.round(n/r*100);return`${t}: ${p(n)} (${s}%)`}}}}}})})})]})]}),(0,ft.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-8",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Top Performing Treks"})}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trek Name"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Region"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bookings"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue (INR)"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(e.topTreks||[]).map(((e,t)=>(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.region}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.bookings}),(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["\u20b9",p((e.revenue||0).toLocaleString("en-IN"))]})]},t)))})]})})]})]}):(0,ft.jsx)("div",{className:"text-center py-8",children:(0,ft.jsx)("p",{className:"text-gray-500",children:"No sales data available."})})]})]})},HI=e=>{let{isOpen:t,onClose:n,onExport:r}=e;const[s,i]=(0,a.useState)({name:!0,email:!0,phone:!0,status:!0,source:!0,createdAt:!0,assignedTo:!0,notes:!1,requestCallback:!1,trekId:!1}),[o,l]=(0,a.useState)("excel"),[c,d]=(0,a.useState)({startDate:"",endDate:""}),u=[{id:"name",label:"Name"},{id:"email",label:"Email"},{id:"phone",label:"Phone"},{id:"status",label:"Status"},{id:"source",label:"Source"},{id:"createdAt",label:"Created Date"},{id:"assignedTo",label:"Assigned To"},{id:"notes",label:"Notes"},{id:"requestCallback",label:"Callback Request"},{id:"trekId",label:"Trek Details"}],h=e=>{const{name:t,value:n}=e.target;d((e=>({...e,[t]:n})))};return t?(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,ft.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,ft.jsxs)("div",{className:"flex flex-col h-full",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold",children:"Export Leads"}),(0,ft.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("h4",{className:"font-medium mb-2",children:"Date Range (Optional)"}),(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Start Date"}),(0,ft.jsx)("input",{type:"date",name:"startDate",value:c.startDate,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"End Date"}),(0,ft.jsx)("input",{type:"date",name:"endDate",value:c.endDate,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]})]})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ft.jsx)("h4",{className:"font-medium",children:"Select Fields"}),(0,ft.jsx)("button",{onClick:()=>{const e=!Object.values(s).every((e=>e)),t={};u.forEach((n=>{t[n.id]=e})),i(t)},className:"text-sm text-emerald-600 hover:text-emerald-700",children:Object.values(s).every((e=>e))?"Deselect All":"Select All"})]}),(0,ft.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:u.map((e=>(0,ft.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,ft.jsx)("input",{type:"checkbox",checked:s[e.id],onChange:()=>{return t=e.id,void i((e=>({...e,[t]:!e[t]})));var t},className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),(0,ft.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.id)))})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("h4",{className:"font-medium mb-2",children:"File Type"}),(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,ft.jsx)("input",{type:"radio",value:"excel",checked:"excel"===o,onChange:e=>l(e.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),(0,ft.jsx)("span",{className:"text-sm text-gray-700",children:"Excel (.xlsx)"})]}),(0,ft.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,ft.jsx)("input",{type:"radio",value:"pdf",checked:"pdf"===o,onChange:e=>l(e.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),(0,ft.jsx)("span",{className:"text-sm text-gray-700",children:"PDF (.pdf)"})]})]})]}),(0,ft.jsx)("button",{onClick:()=>{const e=Object.entries(s).filter((e=>{let[t,n]=e;return n})).map((e=>{let[t]=e;return t}));r({fields:e,fileType:o,dateRange:{startDate:c.startDate||null,endDate:c.endDate||null}}),n()},disabled:!Object.values(s).some((e=>e)),className:"w-full bg-emerald-600 text-white py-2 px-4 rounded-md hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Export"})]})})}):null};const WI=function(){var e;const{isAdmin:t,currentUser:n}=yh(),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[p,f]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[y,v]=(0,a.useState)("New"),[b,w]=(0,a.useState)(!1),[j,N]=(0,a.useState)({status:"",source:"",startDate:"",endDate:"",search:"",requestCallback:!1,assignedToMe:!1}),[k,S]=(0,a.useState)(!1),[_,C]=(0,a.useState)(null),[E,T]=(0,a.useState)(!1),[D,A]=(0,a.useState)(!1),[P,M]=(0,a.useState)(!1),[L,O]=(0,a.useState)(null),[R,I]=(0,a.useState)({name:"",email:"",phone:"",status:"New",source:"Other",notes:"",requestCallback:!1}),[F,z]=(0,a.useState)({total:0,new:0,contacted:0,qualified:0,converted:0,closed:0}),[B,q]=(0,a.useState)({key:"createdAt",direction:"desc"}),[U,V]=(0,a.useState)(1);(0,a.useEffect)((()=>{(async()=>{try{o(!0);const e={...j,assignedTo:j.assignedToMe?n._id:""};console.log("Sending filters to backend:",e);const[r,i]=await Promise.all([sh(e),t()?fh():Promise.resolve([])]);console.log("Received leads:",r),s(r),u(i);const a={total:r.length,new:r.filter((e=>"new"===e.status)).length,contacted:r.filter((e=>"contacted"===e.status)).length,qualified:r.filter((e=>"qualified"===e.status)).length,converted:r.filter((e=>"converted"===e.status)).length,closed:r.filter((e=>"closed"===e.status)).length};z(a),c(null)}catch(e){console.error("Error fetching leads:",e),c("Failed to load leads. Please try again.")}finally{o(!1)}})()}),[j,t,n._id]);const $=e=>{const{name:t,value:n}=e.target;N((e=>({...e,[t]:n})))},H=async e=>{if(window.confirm("Are you sure you want to delete this lead?"))try{await(async e=>(await Ru.delete(`/leads/${e}`)).data)(e),s(r.filter((t=>t._id!==e))),pt.success("Lead deleted successfully"),z((t=>({...t,total:t.total-1,[r.find((t=>t._id===e)).status]:t[r.find((t=>t._id===e)).status]-1})))}catch(l){console.error("Error deleting lead:",l),pt.error("Failed to delete lead")}},W=()=>{C(null),T(!1)},Y=e=>{const{name:t,value:n}=e.target;C((e=>({...e,[t]:n})))},K=e=>{switch(e){case"New":return"bg-blue-100 text-blue-800";case"Contacted":return"bg-yellow-100 text-yellow-800";case"Qualified":return"bg-green-100 text-green-800";case"Converted":return"bg-emerald-100 text-emerald-800";default:return"bg-gray-100 text-gray-800"}},G=()=>{A(!1),O(null)},Q=e=>{const{name:t,value:n,type:r,checked:s}=e.target;I((e=>({...e,[t]:"checkbox"===r?s:n})))},X=e=>{let t="asc";B.key===e&&"asc"===B.direction&&(t="desc"),q({key:e,direction:t})},Z=e=>B.key!==e?(0,ft.jsx)(Lm,{className:"ml-1"}):"asc"===B.direction?(0,ft.jsx)(Mm,{className:"ml-1"}):(0,ft.jsx)(Pm,{className:"ml-1"}),J=a.useMemo((()=>{let e=[...r];return B.key&&e.sort(((e,t)=>e[B.key]<t[B.key]?"asc"===B.direction?-1:1:e[B.key]>t[B.key]?"asc"===B.direction?1:-1:0)),e}),[r,B]),ee=a.useMemo((()=>{const e=10*(U-1);return J.slice(e,e+10)}),[J,U]),te=Math.ceil(r.length/10);return(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,ft.jsxs)("div",{className:"sm:flex-auto mb-4",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Sales Leads"}),(0,ft.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Manage and track potential customers who have expressed interest in your treks."})]}),(0,ft.jsxs)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none flex space-x-4",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>w(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Export"}),(0,ft.jsxs)("button",{type:"button",onClick:()=>S(!k),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)(nm,{className:"mr-2"}),k?"Hide Filters":"Show Filters"]}),(0,ft.jsx)("button",{type:"button",onClick:()=>M(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Create Lead"})]})]}),k&&(0,ft.jsx)("div",{className:"mt-4 bg-white shadow rounded-lg p-4",children:(0,ft.jsxs)("form",{onSubmit:e=>{e.preventDefault()},children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,ft.jsxs)("select",{id:"status",name:"status",value:j.status,onChange:$,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md",children:[(0,ft.jsx)("option",{value:"",children:"All Statuses"}),(0,ft.jsx)("option",{value:"New",children:"New"}),(0,ft.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,ft.jsx)("option",{value:"Qualified",children:"Qualified"}),(0,ft.jsx)("option",{value:"Converted",children:"Converted"}),(0,ft.jsx)("option",{value:"Lost",children:"Lost"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,ft.jsxs)("select",{id:"source",name:"source",value:j.source,onChange:$,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md",children:[(0,ft.jsx)("option",{value:"",children:"All Sources"}),(0,ft.jsx)("option",{value:"Trek Detail Page",children:"Trek Detail Page"}),(0,ft.jsx)("option",{value:"Newsletter",children:"Newsletter"}),(0,ft.jsx)("option",{value:"Referral",children:"Referral"}),(0,ft.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,ft.jsx)("input",{type:"date",id:"startDate",name:"startDate",value:j.startDate,onChange:$,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"End Date"}),(0,ft.jsx)("input",{type:"date",id:"endDate",name:"endDate",value:j.endDate,onChange:$,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md"})]})]}),(0,ft.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,ft.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ft.jsx)(Tm,{className:"text-gray-400"})}),(0,ft.jsx)("input",{type:"text",name:"search",id:"search",value:j.search,onChange:$,className:"focus:ring-emerald-500 focus:border-emerald-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search by name, email or phone"})]})}),(0,ft.jsxs)("div",{className:"ml-4 flex space-x-2",children:[(0,ft.jsx)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Apply Filters"}),(0,ft.jsx)("button",{type:"button",onClick:()=>{N({status:"",source:"",startDate:"",endDate:"",search:"",requestCallback:!1,assignedToMe:!1})},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Reset"})]})]})]})}),(0,ft.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,ft.jsxs)("button",{type:"button",onClick:()=>N((e=>({...e,requestCallback:!e.requestCallback}))),className:"inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium "+(j.requestCallback?"bg-emerald-100 text-emerald-800 border-emerald-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:[(0,ft.jsx)(Nm,{className:"mr-2"}),"Call Requested"]}),(0,ft.jsxs)("button",{type:"button",onClick:()=>N((e=>({...e,assignedToMe:!e.assignedToMe}))),className:"inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium "+(j.assignedToMe?"bg-emerald-100 text-emerald-800 border-emerald-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:[(0,ft.jsx)(Ym,{className:"mr-2"}),"Assigned to Me"]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[(0,ft.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 bg-gray-100 rounded-md p-3",children:(0,ft.jsx)(Ym,{className:"h-6 w-6 text-gray-500"})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),(0,ft.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:F.total})]})]})}),(0,ft.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 bg-blue-100 rounded-md p-3",children:(0,ft.jsx)(Ym,{className:"h-6 w-6 text-blue-500"})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"New"}),(0,ft.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:F.new})]})]})}),(0,ft.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 bg-yellow-100 rounded-md p-3",children:(0,ft.jsx)(Nm,{className:"h-6 w-6 text-yellow-500"})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Contacted"}),(0,ft.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:F.contacted})]})]})}),(0,ft.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 bg-purple-100 rounded-md p-3",children:(0,ft.jsx)(Ym,{className:"h-6 w-6 text-purple-500"})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Qualified"}),(0,ft.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:F.qualified})]})]})}),(0,ft.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:(0,ft.jsx)(Ym,{className:"h-6 w-6 text-green-500"})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Converted"}),(0,ft.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:F.converted})]})]})}),(0,ft.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 bg-gray-100 rounded-md p-3",children:(0,ft.jsx)(Ym,{className:"h-6 w-6 text-gray-500"})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Closed"}),(0,ft.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:F.closed})]})]})})]}),(0,ft.jsx)("div",{className:"mt-6 bg-white shadow overflow-hidden rounded-lg",children:i?(0,ft.jsx)("div",{className:"p-4 flex justify-center",children:(0,ft.jsx)(np,{})}):l?(0,ft.jsx)("div",{className:"p-4 text-red-500",children:l}):0===r.length?(0,ft.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No leads found."}):(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,ft.jsx)("input",{type:"checkbox",checked:h.length===r.length,onChange:e=>{e.target.checked?m(r.map((e=>e._id))):m([])},className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})}),(0,ft.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>X("name"),children:(0,ft.jsxs)("div",{className:"flex items-center",children:["Lead",Z("name")]})}),(0,ft.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>X("status"),children:(0,ft.jsxs)("div",{className:"flex items-center",children:["Status",Z("status")]})}),(0,ft.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>X("assignedTo"),children:(0,ft.jsxs)("div",{className:"flex items-center",children:["Assigned To",Z("assignedTo")]})}),(0,ft.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>X("createdAt"),children:(0,ft.jsxs)("div",{className:"flex items-center",children:["Created Date",Z("createdAt")]})}),(0,ft.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Call Request"}),(0,ft.jsx)("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map((e=>{var t;return(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,ft.jsx)("input",{type:"checkbox",checked:h.includes(e._id),onChange:()=>{return t=e._id,void m((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})}),(0,ft.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-emerald-100 rounded-full flex items-center justify-center",children:(0,ft.jsx)(Ym,{className:"text-emerald-600"})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name||"No Name"}),(0,ft.jsx)("div",{className:"text-sm text-gray-500",children:e.email}),(0,ft.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]})]})}),(0,ft.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,ft.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{await ih(e,{status:t}),s(r.map((n=>n._id===e?{...n,status:t}:n))),pt.success("Lead status updated successfully"),z((n=>({...n,[t]:n[t]+1,[r.find((t=>t._id===e)).status]:n[r.find((t=>t._id===e)).status]-1})))}catch(l){console.error("Error updating lead status:",l),pt.error("Failed to update lead status")}})(e._id,t.target.value),className:`text-sm rounded-full px-3 py-1 font-medium ${K(e.status)}`,children:[(0,ft.jsx)("option",{value:"New",children:"New"}),(0,ft.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,ft.jsx)("option",{value:"Qualified",children:"Qualified"}),(0,ft.jsx)("option",{value:"Converted",children:"Converted"}),(0,ft.jsx)("option",{value:"Lost",children:"Lost"})]})}),(0,ft.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,ft.jsxs)("select",{value:(null===(t=e.assignedTo)||void 0===t?void 0:t._id)||"",onChange:t=>(async(e,t)=>{try{await ih(e,{assignedTo:t});const n=await sh(j);s(n),pt.success("Lead assigned successfully")}catch(l){console.error("Error assigning lead:",l),pt.error("Failed to assign lead")}})(e._id,t.target.value),className:"text-sm border-gray-300 rounded-md",children:[(0,ft.jsx)("option",{value:"",children:"Unassigned"}),d.map((e=>(0,ft.jsx)("option",{value:e._id,children:e.name},e._id)))]})}),(0,ft.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,ft.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,ft.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.requestCallback?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.requestCallback?"Requested":"Not Requested"})}),(0,ft.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,ft.jsx)(Me,{to:`/admin/leads/${e._id}`,className:"text-emerald-600 hover:text-emerald-900 mr-3",children:"View Details"}),(0,ft.jsx)("button",{onClick:()=>(e=>{C(e),T(!0)})(e),className:"text-emerald-600 hover:text-emerald-900 mr-3",children:(0,ft.jsx)(Gh,{})}),(0,ft.jsx)("button",{onClick:()=>(e=>{O(e),A(!0)})(e),className:"text-red-600 hover:text-red-900",children:(0,ft.jsx)(Um,{})})]})]},e._id)}))})]})})}),r.length>0&&(0,ft.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,ft.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,ft.jsx)("button",{onClick:()=>V((e=>Math.max(e-1,1))),disabled:1===U,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),(0,ft.jsx)("button",{onClick:()=>V((e=>Math.min(e+1,te))),disabled:U===te,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),(0,ft.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,ft.jsx)("div",{children:(0,ft.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,ft.jsx)("span",{className:"font-medium",children:10*(U-1)+1})," to"," ",(0,ft.jsx)("span",{className:"font-medium",children:Math.min(10*U,r.length)})," ","of ",(0,ft.jsx)("span",{className:"font-medium",children:r.length})," results"]})}),(0,ft.jsx)("div",{children:(0,ft.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,ft.jsxs)("button",{onClick:()=>V((e=>Math.max(e-1,1))),disabled:1===U,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Previous"}),(0,ft.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:te},((e,t)=>t+1)).map((e=>(0,ft.jsx)("button",{onClick:()=>V(e),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(U===e?"z-10 bg-emerald-50 border-emerald-500 text-emerald-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:e},e))),(0,ft.jsxs)("button",{onClick:()=>V((e=>Math.min(e+1,te))),disabled:U===te,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,ft.jsx)("span",{className:"sr-only",children:"Next"}),(0,ft.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),E&&_&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 overflow-y-auto max-h-[90vh]",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Edit Lead"}),(0,ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await ih(_._id,{name:_.name,email:_.email,phone:_.phone,status:_.status,notes:_.notes,assignedTo:_.assignedTo,requestCallback:_.requestCallback});const e=await sh(j);s(e),pt.success("Lead updated successfully"),W()}catch(l){console.error("Error updating lead:",l),pt.error("Failed to update lead")}},children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,ft.jsx)("input",{type:"text",name:"name",value:_.name||"",onChange:Y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,ft.jsx)("input",{type:"email",name:"email",value:_.email||"",onChange:Y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,ft.jsx)("input",{type:"tel",name:"phone",value:_.phone||"",onChange:Y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,ft.jsxs)("select",{name:"status",value:_.status||"New",onChange:Y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",children:[(0,ft.jsx)("option",{value:"New",children:"New"}),(0,ft.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,ft.jsx)("option",{value:"Qualified",children:"Qualified"}),(0,ft.jsx)("option",{value:"Converted",children:"Converted"}),(0,ft.jsx)("option",{value:"Lost",children:"Lost"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned To"}),(0,ft.jsxs)("select",{name:"assignedTo",value:(null===(e=_.assignedTo)||void 0===e?void 0:e._id)||"",onChange:Y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",children:[(0,ft.jsx)("option",{value:"",children:"Unassigned"}),d.map((e=>(0,ft.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Request Callback"}),(0,ft.jsxs)("select",{name:"requestCallback",value:_.requestCallback?"true":"false",onChange:e=>Y({target:{name:"requestCallback",value:"true"===e.target.value}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",children:[(0,ft.jsx)("option",{value:"true",children:"Requested"}),(0,ft.jsx)("option",{value:"false",children:"Not Requested"})]})]})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,ft.jsx)("textarea",{name:"notes",value:_.notes||"",onChange:Y,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:W,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-emerald-600 border border-transparent rounded-md hover:bg-emerald-700",children:"Save Changes"})]})]})]})}),D&&L&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,ft.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Confirm Delete"})}),(0,ft.jsx)("div",{className:"px-6 py-4",children:(0,ft.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to delete the lead for ",(0,ft.jsx)("span",{className:"font-medium text-gray-900",children:L.name}),"? This action cannot be undone."]})}),(0,ft.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:[(0,ft.jsx)("button",{type:"button",onClick:G,className:"mr-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:()=>{H(L._id),G()},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]})}),P&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 overflow-y-auto max-h-[90vh]",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Create New Lead"}),(0,ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await rh(R),M(!1),I({name:"",email:"",phone:"",status:"New",source:"Other",notes:"",requestCallback:!1}),pt.success("Lead created successfully");const e=await sh(j);s(e)}catch(l){console.error("Error creating lead:",l),pt.error("Failed to create lead")}},children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,ft.jsx)("input",{type:"text",name:"name",value:R.name,onChange:Q,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,ft.jsx)("input",{type:"email",name:"email",value:R.email,onChange:Q,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,ft.jsx)("input",{type:"tel",name:"phone",value:R.phone,onChange:Q,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,ft.jsxs)("select",{name:"status",value:R.status,onChange:Q,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",children:[(0,ft.jsx)("option",{value:"New",children:"New"}),(0,ft.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,ft.jsx)("option",{value:"Qualified",children:"Qualified"}),(0,ft.jsx)("option",{value:"Converted",children:"Converted"}),(0,ft.jsx)("option",{value:"Lost",children:"Lost"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,ft.jsxs)("select",{name:"source",value:R.source,onChange:Q,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",children:[(0,ft.jsx)("option",{value:"Trek Detail Page",children:"Trek Detail Page"}),(0,ft.jsx)("option",{value:"Newsletter",children:"Newsletter"}),(0,ft.jsx)("option",{value:"Referral",children:"Referral"}),(0,ft.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Request Callback"}),(0,ft.jsx)("input",{type:"checkbox",name:"requestCallback",checked:R.requestCallback,onChange:Q,className:"mt-1 h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]})]}),(0,ft.jsxs)("div",{className:"mb-4",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,ft.jsx)("textarea",{name:"notes",value:R.notes,onChange:Q,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-emerald-600 border border-transparent rounded-md hover:bg-emerald-700",children:"Create Lead"})]})]})]})}),h.length>0&&(0,ft.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,ft.jsxs)("div",{className:"relative inline-block text-left",children:[(0,ft.jsxs)("button",{type:"button",onClick:()=>f(!p),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:["Bulk Actions (",h.length,")",(0,ft.jsx)("svg",{className:"ml-2 -mr-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),p&&(0,ft.jsx)("div",{className:"origin-bottom-right absolute right-0 bottom-full mb-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,ft.jsx)("div",{className:"py-1",children:(0,ft.jsx)("button",{onClick:()=>{f(!1),x(!0)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Update Status"})})})]})}),g&&(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,ft.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Bulk Update Status"})}),(0,ft.jsxs)("div",{className:"p-6",children:[(0,ft.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["You are about to update ",h.length," leads. Please select the new status:"]}),(0,ft.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md",children:[(0,ft.jsx)("option",{value:"New",children:"New"}),(0,ft.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,ft.jsx)("option",{value:"Qualified",children:"Qualified"}),(0,ft.jsx)("option",{value:"Converted",children:"Converted"}),(0,ft.jsx)("option",{value:"Lost",children:"Lost"})]}),(0,ft.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:async()=>{try{const e=h.map((e=>ih(e,{status:y})));await Promise.all(e),s(r.map((e=>h.includes(e._id)?{...e,status:y}:e)));const t={...F};h.forEach((e=>{const n=r.find((t=>t._id===e));n&&(t[n.status]--,t[y]++)})),z(t),m([]),x(!1),pt.success(`Successfully updated ${h.length} leads to ${y}`)}catch(l){console.error("Error updating leads:",l),pt.error("Failed to update some leads")}},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Update"})]})]})]})}),(0,ft.jsx)(HI,{isOpen:b,onClose:()=>w(!1),onExport:async e=>{let{fields:t,fileType:n,dateRange:r}=e;try{const e=await(async e=>{try{return await Ru.post("/leads/export",e,{responseType:"blob"})}catch(l){throw console.error("Error exporting leads:",l),l}})({fields:t,fileType:n,dateRange:r}),s=e.headers["content-disposition"],i=s?s.split("filename=")[1]:"leads-export."+("excel"===n?"xlsx":"pdf"),a=new Blob([e.data],{type:"excel"===n?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"application/pdf"}),o=window.URL.createObjectURL(a),c=document.createElement("a");c.href=o,c.download=i,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(o),document.body.removeChild(c),pt.success("Export completed successfully")}catch(l){var s,i;console.error("Error exporting leads:",l),pt.error((null===(s=l.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Failed to export leads")}}})]})};const YI=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{r(!0);const e=await ah();t(e),i(null)}catch(e){console.error("Error fetching wishlist:",e),i("Failed to load wishlist. Please try again.")}finally{r(!1)}})()}),[]);const c=async n=>{try{l(n),await(async e=>{try{return(await Ru.delete(`/wishlist/${e}`)).data}catch(s){throw console.error("Error removing from wishlist:",s),s}})(n),t(e.filter((e=>e._id!==n))),pt.success("Trek removed from wishlist")}catch(r){console.error("Error removing from wishlist:",r),pt.error("Failed to remove trek from wishlist")}finally{l(null)}},d=e=>{if(void 0===e||null===e)return"Price not available";try{return e.toLocaleString()}catch(s){return"Price not available"}};return n?(0,ft.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ft.jsx)(np,{})}):s?(0,ft.jsxs)("div",{className:"text-center py-10",children:[(0,ft.jsx)("div",{className:"text-red-500 mb-4",children:s}),(0,ft.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700",children:"Try Again"})]}):0===e.length?(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsxs)("div",{className:"text-center py-16",children:[(0,ft.jsx)(am,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,ft.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Your wishlist is empty"}),(0,ft.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Start exploring treks and add them to your wishlist!"}),(0,ft.jsx)("div",{className:"mt-6",children:(0,ft.jsx)(Me,{to:"/treks",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Explore Treks"})})]})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,ft.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"My Wishlist"}),(0,ft.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map((e=>(0,ft.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-full h-48 object-cover"}),(0,ft.jsx)("button",{onClick:()=>c(e._id),disabled:o===e._id,className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow hover:bg-red-50",children:o===e._id?(0,ft.jsxs)("svg",{className:"animate-spin h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ft.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ft.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,ft.jsx)(am,{className:"h-5 w-5 text-red-500"})})]}),(0,ft.jsxs)("div",{className:"p-5",children:[(0,ft.jsx)(Me,{to:`/treks/${e._id}`,className:"block",children:(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 hover:text-emerald-600",children:e.name})}),(0,ft.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(gm,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),(0,ft.jsx)("span",{children:e.location||"Location not specified"})]}),e.duration&&(0,ft.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(Ih,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),(0,ft.jsxs)("span",{children:[e.duration," ",1===e.duration?"day":"days"]})]}),(0,ft.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,ft.jsxs)("div",{className:"flex items-center text-emerald-600",children:[(0,ft.jsx)(Em,{className:"h-4 w-4 mr-1"}),(0,ft.jsx)("span",{className:"text-lg font-semibold",children:d(e.price)})]}),(0,ft.jsx)(Me,{to:`/treks/${e._id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"View Details"})]})]})]},e._id)))})]})};const KI=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!1),c=(0,a.useRef)(null);(0,a.useEffect)((()=>{d()}),[]);const d=async()=>{try{r(!0);const e=await ch();t(e),i(null)}catch(e){console.error("Error fetching trek sections:",e),i("Failed to load trek sections"),pt.error("Failed to load trek sections")}finally{r(!1)}};return(0,ft.jsx)(ON,{showModal:o,setShowModal:l,onSectionChange:d,ref:c})};const GI=function(e){let{images:t,onClose:n,title:r}=e;const[s,i]=(0,a.useState)(0);(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key?n():"ArrowRight"===e.key?o():"ArrowLeft"===e.key&&l()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",e),document.body.style.overflow="auto"}}),[s,t.length]);const o=()=>{i((e=>e===t.length-1?0:e+1))},l=()=>{i((e=>0===e?t.length-1:e-1))};return(0,ft.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex flex-col",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center p-4 text-white",children:[(0,ft.jsxs)("h3",{className:"text-xl font-medium",children:[r," - Image ",s+1," of ",t.length]}),(0,ft.jsx)("button",{onClick:n,className:"text-white hover:text-gray-300 p-2","aria-label":"Close gallery",children:(0,ft.jsx)(qm,{className:"h-6 w-6"})})]}),(0,ft.jsxs)("div",{className:"flex-1 flex items-center justify-center relative",children:[(0,ft.jsx)("img",{src:t[s],alt:`${r} - ${s+1}`,className:"max-h-full max-w-full object-contain"}),(0,ft.jsx)("button",{className:"absolute left-4 p-2 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70",onClick:l,"aria-label":"Previous image",children:(0,ft.jsx)(Uh,{className:"h-6 w-6"})}),(0,ft.jsx)("button",{className:"absolute right-4 p-2 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70",onClick:o,"aria-label":"Next image",children:(0,ft.jsx)(Vh,{className:"h-6 w-6"})})]}),(0,ft.jsx)("div",{className:"p-4 overflow-x-auto",children:(0,ft.jsx)("div",{className:"flex space-x-2",children:t.map(((e,t)=>(0,ft.jsx)("button",{onClick:()=>i(t),className:"flex-shrink-0 h-16 w-24 rounded overflow-hidden "+(t===s?"ring-2 ring-emerald-500":""),children:(0,ft.jsx)("img",{src:e,alt:`Thumbnail ${t+1}`,className:"h-full w-full object-cover"})},t)))})})]})};const QI=function(e){let{videos:t,title:n}=e;const[r,s]=(0,a.useState)(0),[i,o]=(0,a.useState)(0),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(4),p=(0,a.useRef)(null),f=(0,a.useRef)(null),g=(0,a.useRef)(null),x=(0,a.useRef)([]),y=[...t.slice(t.length-2,t.length),...t,...t.slice(0,2)];(0,a.useEffect)((()=>{const e=()=>{window.innerWidth<640?m(1):window.innerWidth<768?m(2):window.innerWidth<1024?m(3):m(4)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const v=e=>{if(!e)return null;const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null},b=v(t[r]),w=e=>e+2,j=e=>{const t=w(e);if(g.current&&x.current[t]){const e=g.current.offsetWidth,n=x.current[t].offsetWidth,r=x.current[t].offsetLeft-e/2+n/2;g.current.scrollTo({left:r,behavior:"smooth"})}};return(0,a.useEffect)((()=>{const e=()=>{u(document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement)};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("msfullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("msfullscreenchange",e)}}),[]),(0,a.useEffect)((()=>{x.current=x.current.slice(0,y.length),setTimeout((()=>{j(i)}),100)}),[y.length,i]),(0,a.useEffect)((()=>{const e=()=>{if(!g.current)return;const e=g.current.scrollLeft,n=g.current.scrollWidth,r=g.current.clientWidth;if(e<100){const e=t.length-1,n=w(e);if(x.current[n]){const e=x.current[n].offsetLeft-g.current.offsetLeft;g.current.scrollLeft=e-r/2}}if(e>n-r-100){const e=w(0);if(x.current[e]){const t=x.current[e].offsetLeft-g.current.offsetLeft;g.current.scrollLeft=t-r/2}}},n=g.current;return n&&n.addEventListener("scroll",e),()=>{n&&n.removeEventListener("scroll",e)}}),[t.length]),t&&0!==t.length?(0,ft.jsxs)("div",{className:"mt-16 py-12 bg-gray-50",children:[(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ft.jsxs)("div",{className:"text-center mb-10",children:[(0,ft.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:n||"Memories For Life"}),(0,ft.jsx)("p",{className:"mt-2 text-lg text-gray-600",children:"Watch our videos and experience the journey"})]}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("button",{onClick:()=>{const e=(i-1+t.length)%t.length;o(e),j(e)},className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-80 hover:bg-opacity-100 text-gray-800 rounded-full p-2 shadow-md transition-all -ml-3","aria-label":"Previous video",children:(0,ft.jsx)(Uh,{className:"w-5 h-5"})}),(0,ft.jsx)("button",{onClick:()=>{const e=(i+1)%t.length;o(e),j(e)},className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-80 hover:bg-opacity-100 text-gray-800 rounded-full p-2 shadow-md transition-all -mr-3","aria-label":"Next video",children:(0,ft.jsx)(Vh,{className:"w-5 h-5"})}),(0,ft.jsx)("div",{ref:g,className:"flex overflow-x-hidden scroll-smooth pb-4 px-10",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:y.map(((e,n)=>{const r=v(e),a=(n-2+t.length)%t.length,l=a===i,d=Math.min(Math.abs(a-i),Math.abs(a-i-t.length),Math.abs(a-i+t.length)),u=l?1.15:Math.max(.85,1-.1*d);return(0,ft.jsx)("div",{ref:e=>x.current[n]=e,className:"relative rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer flex-shrink-0 "+(l?"z-10":"z-0"),style:{width:`calc(100% / ${h+.5})`,margin:"0 8px",transformOrigin:"center center",transform:`scale(${u})`,transition:"transform 0.3s ease, opacity 0.3s ease",opacity:.7*u+.3},onClick:()=>(e=>{o(e),j(e),setTimeout((()=>{s(e),c(!0)}),300)})(a),children:(0,ft.jsxs)("div",{className:"aspect-w-16 aspect-h-9",children:[(0,ft.jsx)("img",{src:`https://img.youtube.com/vi/${r}/maxresdefault.jpg`,alt:`Video thumbnail ${a+1}`,className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src=`https://img.youtube.com/vi/${r}/mqdefault.jpg`}}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:(0,ft.jsx)("div",{className:"bg-red-600 rounded-full p-3 transform transition-transform hover:scale-110 "+(l?"scale-110":"scale-100"),children:(0,ft.jsx)(km,{className:"w-6 h-6 text-white"})})})]})},n)}))})]})]}),l&&(0,ft.jsx)("div",{ref:f,className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:(0,ft.jsxs)("div",{className:"relative w-full max-w-5xl",children:[(0,ft.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:(0,ft.jsx)("iframe",{ref:p,src:`https://www.youtube.com/embed/${b}?autoplay=1&rel=0`,title:`Video ${r+1}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full rounded-lg"})}),(0,ft.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-4",children:[(0,ft.jsx)("button",{onClick:()=>{d?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),u(!1)):(f.current.requestFullscreen?f.current.requestFullscreen():f.current.webkitRequestFullscreen?f.current.webkitRequestFullscreen():f.current.msRequestFullscreen&&f.current.msRequestFullscreen(),u(!0))},className:"text-white hover:text-gray-300 p-2 bg-black bg-opacity-50 rounded-full","aria-label":d?"Exit fullscreen":"Enter fullscreen",children:d?(0,ft.jsx)(Yh,{}):(0,ft.jsx)(Jh,{})}),(0,ft.jsx)("button",{onClick:()=>c(!1),className:"text-white hover:text-gray-300 p-2 bg-black bg-opacity-50 rounded-full","aria-label":"Close video",children:"\u2715"})]}),t.length>1&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("button",{onClick:()=>{c(!1),s((e=>0===e?t.length-1:e-1))},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-3 transition-all","aria-label":"Previous video",children:(0,ft.jsx)(Uh,{className:"w-6 h-6"})}),(0,ft.jsx)("button",{onClick:()=>{c(!1),s((e=>e===t.length-1?0:e+1))},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-3 transition-all","aria-label":"Next video",children:(0,ft.jsx)(Vh,{className:"w-6 h-6"})})]})]})})]}):null};const XI=function(e){var t;let{region:n}=e;if(!n)return null;const r=n.trekSectionTitle||`Backpacking Trips In ${n.name}`,s=n.welcomeMessage||`Welcome to the land of ${n.name}!!`,i=n.detailedDescription||`\n    ${n.name} - a journey that'll leave a mark on your heart and soul! From the serene monasteries to \n    the thrilling rough terrains and the breathtaking views of Chandratal, ${n.name} has it all. \n    Popularized as the "Middle Land" owing to its historical significance as the connective link between \n    India and Tibet, ${n.name} is one of the secret marvels of the Himalayas. Except that it's no \n    longer a secret and the more people learn about it, the more penchant they become.\n    \n    You must be wondering about why you need to visit this cold desert but, imagine a land where \n    time stands still, where the slow-paced lives that people lead. ${n.name} makes you appreciate \n    the simple things in life; like a hot bowl of thukpa on a cold evening. These ${n.name} tour \n    packages, aren't just trips; they are soulful adventures where you'll discover ancient monasteries \n    perched on cliffs, crystal-clear rivers, and starry skies that stretch into infinity. Perfect for the \n    thrill-seeker and the soul-searcher, ${n.name} offers an offbeat experience that's all about raw \n    beauty and serene solitude.\n    \n    Pack your bags and get ready for a Himalayan escapade that's as wild as it is wondrous.\n  `,a=(null===(t=n.descriptionImages)||void 0===t?void 0:t.length)>0?n.descriptionImages:n.images;return(0,ft.jsx)("div",{className:"py-16 bg-white",children:(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ft.jsxs)("div",{className:"lg:flex lg:items-start lg:gap-12",children:[(0,ft.jsxs)("div",{className:"lg:w-1/2",children:[(0,ft.jsx)("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:r}),(0,ft.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:s}),(0,ft.jsx)("div",{className:"prose prose-lg max-w-none text-gray-600",children:i.split("\n\n").map(((e,t)=>(0,ft.jsx)("p",{children:e},t)))}),(0,ft.jsxs)("div",{className:"mt-10 flex flex-wrap gap-8",children:[(0,ft.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ft.jsx)("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-3",children:(0,ft.jsx)(Ih,{className:"w-8 h-8 text-blue-500"})}),(0,ft.jsx)("span",{className:"text-gray-800 font-medium mb-3",children:"Calendar"}),(0,ft.jsx)(Me,{to:"#",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-full transition-colors",children:"Download"})]}),(0,ft.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ft.jsx)("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-3",children:(0,ft.jsx)(pm,{className:"w-8 h-8 text-blue-500"})}),(0,ft.jsx)("span",{className:"text-gray-800 font-medium mb-3",children:"Packing List"}),(0,ft.jsx)(Me,{to:"#",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-full transition-colors",children:"Download"})]})]})]}),(0,ft.jsx)("div",{className:"mt-10 lg:mt-0 lg:w-1/2",children:(0,ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{className:"space-y-4",children:[a&&a[0]&&(0,ft.jsx)("div",{className:"rounded-lg overflow-hidden transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg h-[300px]",children:(0,ft.jsx)("img",{src:a[0],alt:`${n.name} landscape 1`,className:"w-full h-full object-cover transition-all duration-300 hover:brightness-110",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/300x200?text=Image+Not+Found"}})}),a&&a[2]&&(0,ft.jsx)("div",{className:"rounded-lg overflow-hidden transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg h-[200px]",children:(0,ft.jsx)("img",{src:a[2],alt:`${n.name} landscape 3`,className:"w-full h-full object-cover transition-all duration-300 hover:brightness-110",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/300x200?text=Image+Not+Found"}})})]}),(0,ft.jsxs)("div",{className:"space-y-4",children:[a&&a[1]&&(0,ft.jsx)("div",{className:"rounded-lg overflow-hidden transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg h-[200px]",children:(0,ft.jsx)("img",{src:a[1],alt:`${n.name} landscape 4`,className:"w-full h-full object-cover transition-all duration-300 hover:brightness-110",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/300x200?text=Image+Not+Found"}})}),a&&a[3]&&(0,ft.jsx)("div",{className:"rounded-lg overflow-hidden transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg h-[300px]",children:(0,ft.jsx)("img",{src:a[1],alt:`${n.name} landscape 2`,className:"w-full h-full object-cover transition-all duration-300 hover:brightness-110",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/300x200?text=Image+Not+Found"}})})]})]})})]})})})};const ZI=function(){var e;const{id:t}=ie(),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1);if((0,a.useEffect)((()=>{(async()=>{try{l(!0),console.log("Fetching data for region ID:",t);const n=await uh(t);if(console.log("Region data:",n),n){n.images=n.images||[],n.videos=n.videos||[],n.relatedRegions=n.relatedRegions||[],r(n);try{const e=await(async e=>{try{console.log("Fetching treks for exact region ID match:",e);const t=String(e),n=await Ru.get("/treks",{params:{regionId:t,enabledOnly:"true"}});console.log("Region treks data received:",n.data);const r=n.data.treks||n.data;return Array.isArray(r)?r:(console.error("Expected array of treks but got:",r),[])}catch(c){var t;return console.error("Error fetching treks by region ID:",(null===(t=c.response)||void 0===t?void 0:t.data)||c.message),[]}})(t);if(console.log("Exact treks for region:",e),e.length>0)i(e);else{console.log("No exact matches, trying alternative method");const e=(await hh(t)).filter((e=>{const n="object"===typeof e.region?e.region._id:e.region;return String(n)===String(t)}));console.log(`Filtered ${e.length} treks for region ${t}`),i(e)}}catch(e){console.error("Error fetching treks for region:",e),i([])}}d(null)}catch(n){console.error("Error fetching region data:",n),d("Failed to load region details. Please try again.")}finally{l(!1)}})()}),[t]),o)return(0,ft.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,ft.jsx)(np,{})});if(c||!n)return(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:c||"Region not found"})})]})})});const f=Math.max(0,((null===(e=n.images)||void 0===e?void 0:e.length)||0)-4);return(0,ft.jsxs)("div",{className:"bg-white",children:[(0,ft.jsxs)("div",{className:"relative h-96 md:h-[500px]",children:[(0,ft.jsx)("img",{src:n.coverImage||(n.images&&n.images.length>0?n.images[0]:"https://images.unsplash.com/photo-1465056836041-7f43ac27dcb5"),alt:n.name,className:"w-full h-full object-cover"}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-60"}),(0,ft.jsxs)("div",{className:"absolute bottom-0 left-0 p-8",children:[(0,ft.jsx)("h1",{className:"text-4xl font-bold text-white",children:n.name}),(0,ft.jsxs)("div",{className:"flex items-center mt-2 text-white",children:[(0,ft.jsx)(gm,{className:"mr-2"}),(0,ft.jsx)("span",{children:n.location||"Location not specified"})]})]})]}),(0,ft.jsx)(XI,{region:n}),(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ft.jsxs)("div",{className:"lg:col-span-2",children:[(0,ft.jsxs)("div",{className:"prose prose-lg max-w-none",children:[(0,ft.jsxs)("h2",{children:["About ",n.name]}),(0,ft.jsx)("p",{children:n.description})]}),n.images&&n.images.length>0&&(0,ft.jsxs)("div",{className:"mt-8",children:[(0,ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold",children:"Gallery"}),(0,ft.jsxs)("button",{onClick:()=>h(!0),className:"text-emerald-600 hover:text-emerald-700 flex items-center",children:[(0,ft.jsx)(um,{className:"mr-2"}),"View All"]})]}),(0,ft.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.images.slice(0,4).map(((e,t)=>(0,ft.jsxs)("div",{className:"relative h-40 rounded-lg overflow-hidden cursor-pointer",onClick:()=>h(!0),children:[(0,ft.jsx)("img",{src:e,alt:`${n.name} ${t+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/300x200?text=Image+Not+Found"}}),3===t&&f>0&&(0,ft.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:(0,ft.jsxs)("span",{className:"text-white text-xl font-bold",children:["+",f," more"]})})]},t)))})]}),s&&s.length>0?(0,ft.jsxs)("div",{className:"mt-12",children:[(0,ft.jsxs)("h2",{className:"text-2xl font-bold mb-6",children:["Treks in ",n.name]}),(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((e=>(0,ft.jsx)(dp,{trek:e},e._id)))})]}):(0,ft.jsxs)("div",{className:"mt-12 p-6 bg-gray-50 rounded-lg",children:[(0,ft.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:["Treks in ",n.name]}),(0,ft.jsx)("p",{className:"text-gray-500",children:"No treks available for this region at the moment."})]})]}),(0,ft.jsxs)("div",{className:"lg:col-span-1",children:[(0,ft.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Region Information"}),(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"text-gray-500 text-sm",children:"Best Season"}),(0,ft.jsx)("p",{className:"font-medium",children:n.bestSeason||"Not specified"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"text-gray-500 text-sm",children:"Average Trek Duration"}),(0,ft.jsxs)("p",{className:"font-medium",children:[n.avgTrekDuration||"N/A"," days"]})]})]})]}),n.relatedRegions&&n.relatedRegions.length>0&&(0,ft.jsxs)("div",{className:"mt-8 bg-gray-50 p-6 rounded-lg shadow-sm",children:[(0,ft.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Nearby Regions"}),(0,ft.jsx)("div",{className:"space-y-4",children:n.relatedRegions.map((e=>(0,ft.jsxs)(Me,{to:`/regions/${e._id}`,className:"flex items-center p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[e.coverImage&&(0,ft.jsx)("img",{src:e.coverImage,alt:e.name,className:"w-12 h-12 rounded-md object-cover mr-3",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/48?text=Region"}}),(0,ft.jsx)("span",{className:"font-medium",children:e.name})]},e._id)))})]})]})]})}),n.videos&&n.videos.length>0&&(0,ft.jsx)(QI,{videos:n.videos,title:"Memories For Life"}),u&&(0,ft.jsx)(GI,{images:n.images||[],onClose:()=>h(!1),title:n.name})]})};const JI=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{r(!0);const e=await Bu();console.log("Fetched regions:",e);const n=e.filter((e=>e.isActive));console.log("Active regions:",n),t(n),i(null)}catch(e){console.error("Error fetching regions:",e),i("Failed to load regions. Please try again later.")}finally{r(!1)}})()}),[]),n?(0,ft.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,ft.jsx)(np,{})}):s?(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:s})})]})})}):(0,ft.jsx)("div",{className:"bg-gray-50 min-h-screen py-12",children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ft.jsxs)("div",{className:"text-center mb-12",children:[(0,ft.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Explore Trekking Regions"}),(0,ft.jsx)("p",{className:"mt-5 max-w-xl mx-auto text-xl text-gray-500",children:"Discover breathtaking landscapes and adventures across different regions"})]}),0===e.length?(0,ft.jsx)("div",{className:"text-center py-12",children:(0,ft.jsx)("p",{className:"text-gray-500 text-lg",children:"No regions available at the moment."})}):(0,ft.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map((e=>{var t;return(0,ft.jsxs)(Me,{to:`/regions/${e._id}`,className:"group bg-white overflow-hidden rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,ft.jsxs)("div",{className:"relative h-60",children:[(0,ft.jsx)("img",{src:e.coverImage||(null===(t=e.images)||void 0===t?void 0:t[0])||"https://images.unsplash.com/photo-1465056836041-7f43ac27dcb5",alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-60"}),(0,ft.jsx)("div",{className:"absolute bottom-0 left-0 p-4",children:(0,ft.jsx)("h2",{className:"text-xl font-bold text-white",children:e.name})})]}),(0,ft.jsxs)("div",{className:"p-4",children:[(0,ft.jsx)("p",{className:"text-gray-600 line-clamp-2 mb-4",children:e.description}),(0,ft.jsxs)("div",{className:"flex flex-wrap gap-y-2",children:[(0,ft.jsxs)("div",{className:"w-full sm:w-1/2 flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(gm,{className:"text-emerald-600 mr-2"}),(0,ft.jsx)("span",{children:e.location})]}),(0,ft.jsxs)("div",{className:"w-full sm:w-1/2 flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(Ih,{className:"text-emerald-600 mr-2"}),(0,ft.jsx)("span",{children:e.bestSeason})]}),(0,ft.jsxs)("div",{className:"w-full sm:w-1/2 flex items-center text-sm text-gray-500",children:[(0,ft.jsx)(vm,{className:"text-emerald-600 mr-2"}),(0,ft.jsxs)("span",{children:["~",e.avgTrekDuration," days"]})]})]})]})]},e._id)}))})]})})},eF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},tF={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};const nF=function(){const[e]=(0,a.useState)(Yb),[t,n]=(0,a.useState)(e),[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)("all"),[l,c]=(0,a.useState)("");return(0,a.useMemo)((()=>{let t=e;if("all"!==i&&(t=t.filter((e=>e.category===i||e.tags&&e.tags.includes(i)))),l){const e=l.toLowerCase();t=t.filter((t=>t.name.toLowerCase().includes(e)||t.region.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.tags&&t.tags.some((t=>t.toLowerCase().includes(e)))))}n(t)}),[i,l,e]),(0,ft.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-200",children:[(0,ft.jsxs)("div",{className:"relative h-[65vh] overflow-hidden group",children:[(0,ft.jsx)(vc.div,{className:"absolute inset-0 bg-fixed bg-center bg-cover",style:{backgroundImage:"url(https://images.unsplash.com/photo-1533240332313-0db49b459ad6?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80)"},initial:{scale:1.1},animate:{scale:1},transition:{duration:10,ease:"linear",repeat:1/0,repeatType:"mirror"}}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/30 to-transparent"}),(0,ft.jsxs)("div",{className:"relative h-full flex flex-col items-center justify-center text-white text-center px-4 z-10",children:[(0,ft.jsx)(vc.h1,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"text-5xl md:text-7xl font-bold mb-4 tracking-tight text-shadow-lg",children:"Weekend Escapes"}),(0,ft.jsx)(vc.p,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"text-xl md:text-2xl max-w-2xl text-shadow",children:"Discover curated short trips designed for maximum refreshment."})]})]}),(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,ft.jsxs)(vc.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.6},className:"bg-white rounded-lg shadow-md p-4 md:p-6 mb-8 flex flex-col md:flex-row items-center gap-4 sticky top-4 z-30 backdrop-blur-sm bg-white/80",children:[(0,ft.jsxs)("div",{className:"relative flex-grow w-full md:w-auto",children:[(0,ft.jsx)(Tm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"Search by name, place, or tag...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",value:l,onChange:e=>c(e.target.value)})]}),(0,ft.jsxs)("button",{onClick:()=>{o("all"),c("")},className:"flex items-center text-gray-600 hover:text-emerald-600 transition-colors text-sm",children:[(0,ft.jsx)(qm,{className:"mr-1"})," Clear All"]})]}),(0,ft.jsx)(vc.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.6},className:"flex overflow-x-auto gap-3 pb-4 mb-8 hide-scrollbar",children:Array.isArray(Kb)&&Kb.map((e=>(0,ft.jsxs)(vc.button,{onClick:()=>o(e.id),className:"flex items-center px-5 py-2 rounded-full transition-all duration-300 ease-out transform whitespace-nowrap shadow-sm border\n                "+(i===e.id?"bg-emerald-600 text-white border-emerald-600 scale-105 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:bg-emerald-50 hover:border-emerald-300 hover:scale-105"),whileTap:{scale:.95},children:[(0,ft.jsx)("span",{className:"mr-2 text-lg",children:e.icon}),(0,ft.jsx)("span",{className:"font-medium text-sm",children:e.name})]},e.id)))}),(0,ft.jsx)(vc.div,{layout:!0,variants:eF,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:(0,ft.jsx)(Tt,{children:t.length>0?t.map((e=>(0,ft.jsx)(vc.div,{layout:!0,variants:tF,exit:{opacity:0,scale:.8},transition:{duration:.3},children:(0,ft.jsx)(Xb,{getaway:e})},e._id))):(0,ft.jsxs)(vc.div,{initial:{opacity:0},animate:{opacity:1},className:"col-span-full text-center py-16 text-gray-500",children:[(0,ft.jsx)("p",{className:"text-xl mb-2",children:"No getaways match your current filters."}),(0,ft.jsx)("p",{children:"Try adjusting your search or category selection."})]})})})]})]})},rF={enter:e=>({x:e>0?300:-300,opacity:0,scale:.9}),center:{zIndex:1,x:0,opacity:1,scale:1,transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.3},scale:{duration:.3}}},exit:e=>({zIndex:0,x:e<0?300:-300,opacity:0,scale:.9,transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2},scale:{duration:.2}}})};const sF=function(e){let{images:t,title:n}=e;const[[r,s],i]=(0,a.useState)([0,0]),[o,l]=(0,a.useState)(!1),c=r%t.length,d=e=>{i([r+e,e])};return t&&0!==t.length?(0,ft.jsxs)("div",{className:"relative w-full max-w-4xl mx-auto my-8",children:[(0,ft.jsxs)("div",{className:"relative h-[60vh] md:h-[70vh] overflow-hidden rounded-xl shadow-lg bg-gray-200",children:[(0,ft.jsx)(Tt,{initial:!1,custom:s,children:(0,ft.jsx)(vc.img,{custom:s,variants:rF,initial:"enter",animate:"center",exit:"exit",src:t[c],alt:`${n} - Image ${c+1}`,className:"absolute w-full h-full object-cover",drag:"x",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(e,t)=>{let{offset:n,velocity:r}=t;const s=Math.abs(n.x)*r.x;s<-1e4?d(1):s>1e4&&d(-1)}},r)}),(0,ft.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center z-10",children:(0,ft.jsx)(vc.button,{whileHover:{scale:1.1,backgroundColor:"rgba(0,0,0,0.6)"},whileTap:{scale:.9},onClick:()=>d(-1),className:"bg-black/40 text-white p-3 rounded-full m-4 focus:outline-none shadow-md",children:(0,ft.jsx)(Uh,{size:20})})}),(0,ft.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center z-10",children:(0,ft.jsx)(vc.button,{whileHover:{scale:1.1,backgroundColor:"rgba(0,0,0,0.6)"},whileTap:{scale:.9},onClick:()=>d(1),className:"bg-black/40 text-white p-3 rounded-full m-4 focus:outline-none shadow-md",children:(0,ft.jsx)(Vh,{size:20})})}),(0,ft.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,ft.jsx)(vc.button,{whileHover:{scale:1.1,backgroundColor:"rgba(0,0,0,0.6)"},whileTap:{scale:.9},onClick:()=>l(!0),className:"bg-black/40 text-white p-3 rounded-full focus:outline-none shadow-md",title:"View Full Gallery",children:(0,ft.jsx)(Jh,{size:18})})}),(0,ft.jsxs)("div",{className:"absolute bottom-4 left-4 z-10 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:[c+1," / ",t.length]})]}),(0,ft.jsx)("div",{className:"mt-4 grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-7 gap-2",children:t.map(((e,t)=>(0,ft.jsxs)(vc.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>i([t,t>c?1:-1]),className:"relative rounded-lg overflow-hidden aspect-square border-2 transition-all duration-200\n              "+(t===c?"border-emerald-500 scale-105 ring-2 ring-emerald-500 ring-offset-2":"border-transparent hover:border-emerald-300"),children:[(0,ft.jsx)("img",{src:e,alt:`Thumbnail ${t+1}`,className:"w-full h-full object-cover"}),t===c&&(0,ft.jsx)("div",{className:"absolute inset-0 bg-emerald-500/20 pointer-events-none"})]},t)))}),(0,ft.jsx)(Tt,{children:o&&(0,ft.jsx)(vc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/90 flex items-center justify-center p-4",onClick:()=>l(!1),children:(0,ft.jsxs)(vc.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},className:"relative max-w-4xl max-h-[90vh]",onClick:e=>e.stopPropagation(),children:[(0,ft.jsx)("img",{src:t[c],alt:`${n} - Full Image ${c+1}`,className:"max-w-full max-h-full object-contain rounded-lg"}),(0,ft.jsx)("button",{onClick:()=>l(!1),className:"absolute -top-4 -right-4 bg-white text-black rounded-full p-2 shadow-lg hover:scale-110 transition-transform",children:(0,ft.jsx)(qm,{})})]})})})]}):(0,ft.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No images available for this getaway."})},iF={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},aF={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};const oF=function(){const{id:e}=ie(),[t,n]=(0,a.useState)(null);if((0,a.useEffect)((()=>{const t=Yb.find((t=>t._id===e));n(t),window.scrollTo(0,0)}),[e]),!t)return(0,ft.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:(0,ft.jsx)("p",{className:"text-xl text-gray-600",children:"Loading getaway details or getaway not found..."})});const r=(e,t,n)=>(0,ft.jsx)(vc.ul,{className:"space-y-2",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.map(((e,r)=>(0,ft.jsxs)(vc.li,{className:"flex items-start",variants:aF,children:[(0,ft.jsx)("span",{className:`mr-3 mt-1 ${n}`,children:t}),(0,ft.jsx)("span",{children:e})]},r)))});return(0,ft.jsxs)("div",{className:"bg-gradient-to-b from-white via-emerald-50 to-white",children:[(0,ft.jsxs)(vc.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"relative pt-16 md:pt-20",children:[(0,ft.jsx)(sF,{images:t.gallery||t.images,title:t.name}),(0,ft.jsx)("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 -mt-16 md:-mt-24 z-20",children:(0,ft.jsxs)(vc.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.3},className:"bg-white rounded-xl shadow-xl p-6 md:p-8",children:[(0,ft.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 tracking-tight mb-3",children:t.name}),(0,ft.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-gray-600 mb-4",children:[(0,ft.jsxs)("span",{className:"flex items-center",children:[(0,ft.jsx)(gm,{className:"mr-1.5 text-emerald-500"})," ",t.location,", ",t.region]}),(0,ft.jsxs)("span",{className:"flex items-center",children:[(0,ft.jsx)(Hh,{className:"mr-1.5 text-blue-500"})," ",t.duration," Days"]}),(0,ft.jsxs)("span",{className:"flex items-center",children:[(0,ft.jsx)(om,{className:"mr-1.5 text-orange-500"})," ",t.difficulty]})]}),t.tags&&t.tags.length>0&&(0,ft.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map((e=>(0,ft.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-700 px-2.5 py-1 rounded-full capitalize flex items-center",children:[(0,ft.jsx)(Fm,{className:"mr-1 text-gray-500"})," ",e]},e)))}),(0,ft.jsx)("p",{className:"text-gray-700 text-base md:text-lg",children:t.description})]})})]}),(0,ft.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16 space-y-12 md:space-y-16",children:[(0,ft.jsxs)(vc.section,{variants:iF,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[(0,ft.jsxs)("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800 mb-6 flex items-center",children:[(0,ft.jsx)(Om,{className:"mr-3 text-yellow-500"})," Trip Highlights"]}),(0,ft.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-gray-700",children:t.weekendHighlights.map(((e,t)=>(0,ft.jsxs)(vc.div,{className:"flex items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*t},children:[(0,ft.jsx)(Bh,{className:"text-emerald-500 mr-3 flex-shrink-0"}),(0,ft.jsx)("span",{children:e})]},t)))})]}),(0,ft.jsxs)(vc.section,{variants:iF,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[(0,ft.jsxs)("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800 mb-6 flex items-center",children:[(0,ft.jsx)(Ih,{className:"mr-3 text-blue-500"})," Detailed Itinerary"]}),(0,ft.jsx)("div",{className:"space-y-6",children:t.itinerary.map(((e,t)=>{var n,r,s;return(0,ft.jsxs)(vc.div,{className:"flex flex-col md:flex-row items-start bg-white p-5 rounded-lg shadow-sm border border-gray-100",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.15*t},children:[(0,ft.jsxs)("div",{className:"flex-shrink-0 w-full md:w-28 text-center md:text-left mb-3 md:mb-0 md:mr-5",children:[(0,ft.jsx)("span",{className:"text-emerald-600 text-4xl font-bold block",children:e.icon?(0,ft.jsx)(e.icon,{className:"inline-block mb-1"}):"Day"}),(0,ft.jsx)("span",{className:"text-emerald-600 text-lg font-semibold block",children:e.icon?`Day ${e.day}`:`${e.day}`}),(0,ft.jsxs)("div",{className:"flex justify-center md:justify-start mt-1 space-x-1 text-xs text-gray-500",children:[(null===(n=e.meals)||void 0===n?void 0:n.breakfast)&&(0,ft.jsx)("span",{title:"Breakfast Included",children:"\ud83c\udf73"}),(null===(r=e.meals)||void 0===r?void 0:r.lunch)&&(0,ft.jsx)("span",{title:"Lunch Included",children:"\ud83c\udf71"}),(null===(s=e.meals)||void 0===s?void 0:s.dinner)&&(0,ft.jsx)("span",{title:"Dinner Included",children:"\ud83c\udf72"})]})]}),(0,ft.jsxs)("div",{className:"flex-grow",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:e.title}),(0,ft.jsx)("p",{className:"text-gray-600",children:e.description})]})]},t)}))})]}),(0,ft.jsxs)(vc.div,{variants:iF,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12",children:[(0,ft.jsxs)("section",{children:[(0,ft.jsxs)("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[(0,ft.jsx)(Bh,{className:"mr-3 text-emerald-500"})," What's Included"]}),(0,ft.jsx)("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100 text-gray-700",children:r(t.inclusions,(0,ft.jsx)(Bh,{}),"text-emerald-500")})]}),(0,ft.jsxs)("section",{children:[(0,ft.jsxs)("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[(0,ft.jsx)(qm,{className:"mr-3 text-red-500"})," What's Not Included"]}),(0,ft.jsx)("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100 text-gray-700",children:r(t.exclusions,(0,ft.jsx)(qm,{}),"text-red-500")})]})]}),(0,ft.jsxs)(vc.section,{variants:iF,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[(0,ft.jsxs)("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800 mb-6 flex items-center",children:[(0,ft.jsx)(hm,{className:"mr-3 text-purple-500"})," Good to Know"]}),(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 space-y-4",children:[(0,ft.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,ft.jsx)(Gm,{className:"mr-3 text-purple-500 text-xl"}),(0,ft.jsxs)("span",{children:[(0,ft.jsx)("strong",{children:"Vibe:"})," ",t.vibe]})]}),(0,ft.jsxs)("div",{className:"text-gray-700",children:[(0,ft.jsx)(Cm,{className:"inline mr-3 text-purple-500 text-xl align-middle"}),(0,ft.jsx)("strong",{children:"Quick Tips:"}),(0,ft.jsx)("ul",{className:"list-disc list-inside ml-4 mt-1 space-y-1",children:t.goodToKnow.map(((e,t)=>(0,ft.jsx)("li",{children:e},t)))})]}),(0,ft.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,ft.jsx)(Rh,{className:"mr-3 text-purple-500 text-xl"}),(0,ft.jsxs)("span",{children:[(0,ft.jsx)("strong",{children:"Transport:"})," ",t.transportation," (Dep: ",t.departureTime,", Ret: ",t.returnTime,", Meet: ",t.meetingPoint,")"]})]})]})]}),(0,ft.jsx)(vc.section,{variants:iF,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},className:"sticky bottom-0 z-40 py-4 bg-gradient-to-t from-white via-white to-transparent -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8",children:(0,ft.jsxs)("div",{className:"max-w-5xl mx-auto bg-white p-5 rounded-lg shadow-lg border border-gray-200 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,ft.jsxs)("div",{className:"text-center md:text-left",children:[(0,ft.jsx)("span",{className:"text-sm text-gray-600",children:"Starting Price per person"}),(0,ft.jsxs)("div",{className:"text-3xl font-bold text-emerald-600 flex items-center justify-center md:justify-start",children:[(0,ft.jsx)(Em,{className:"mr-1"}),t.price.toLocaleString()]})]}),(0,ft.jsx)(vc.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full md:w-auto px-8 py-3 bg-emerald-600 text-white rounded-lg font-semibold text-lg hover:bg-emerald-700 transition-colors shadow-md",children:"Book Your Spot Now"})]})}),(0,ft.jsx)("div",{className:"text-center mt-8",children:(0,ft.jsx)(Me,{to:"/weekend-getaways",className:"inline-flex items-center px-6 py-2 border border-emerald-600 text-emerald-600 rounded-md hover:bg-emerald-50 transition-colors",children:"\u2190 Explore Other Getaways"})})]})]})},lF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},cF={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};const dF=function(){var e;const t=ne(),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)({search:"",region:"",season:"",category:"",sort:"name-asc",duration:""}),[m,p]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{const e=(await Bu()).filter((e=>e.isActive));d(e)}catch(o){console.error("Error fetching regions:",o)}})()}),[]),(0,a.useEffect)((()=>{const e=new URLSearchParams(t.search),n={search:e.get("search")||"",region:e.get("region")||"",season:e.get("season")||"",category:e.get("category")||"",duration:e.get("duration")||"",sort:"name-asc"};h(n),f(n)}),[t.search]);const f=async e=>{try{i(!0);const t={...e,includeDisabled:!1};t.duration&&("15+"===t.duration?t.duration="15-100":"1"!==t.duration&&"2"!==t.duration||(t.duration=`${t.duration}-${t.duration}`)),console.log("Fetching treks with params:",t);const n=await Iu(t);console.log("API Response:",n);const s=Array.isArray(n)?n:n.treks||[];console.log("Processed treks:",s),r(s),l(null)}catch(t){console.error("Error fetching treks:",t),l("Failed to load treks. Please try again later."),r([])}finally{i(!1)}},g=e=>{const{name:t,value:n}=e.target;h((e=>({...e,[t]:n})))};return(0,ft.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,ft.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 mb-8",children:(0,ft.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg px-4 py-3",children:[(0,ft.jsx)(Tm,{className:"text-gray-400 mr-3"}),(0,ft.jsx)("input",{type:"text",placeholder:"Search treks...",className:"bg-transparent w-full focus:outline-none",name:"search",value:u.search,onChange:g})]})}),(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg px-4 py-3",children:[(0,ft.jsx)(gm,{className:"text-gray-400 mr-3"}),(0,ft.jsxs)("select",{className:"bg-transparent w-full focus:outline-none",name:"region",value:u.region,onChange:g,children:[(0,ft.jsx)("option",{value:"",children:"All Destinations"}),c.map((e=>(0,ft.jsx)("option",{value:e._id,children:e.name},e._id)))]})]})}),(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg px-4 py-3",children:[(0,ft.jsx)(Ih,{className:"text-gray-400 mr-3"}),(0,ft.jsxs)("select",{className:"bg-transparent w-full focus:outline-none",name:"season",value:u.season,onChange:g,children:[(0,ft.jsx)("option",{value:"",children:"All Seasons"}),(0,ft.jsx)("option",{value:"summer",children:"Summer"}),(0,ft.jsx)("option",{value:"spring",children:"Spring"}),(0,ft.jsx)("option",{value:"monsoon",children:"Monsoon"}),(0,ft.jsx)("option",{value:"autumn",children:"Autumn"}),(0,ft.jsx)("option",{value:"winter",children:"Winter"})]})]})}),(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg px-4 py-3",children:[(0,ft.jsx)(Ih,{className:"text-gray-400 mr-3"}),(0,ft.jsxs)("select",{className:"bg-transparent w-full focus:outline-none",name:"duration",value:u.duration,onChange:g,children:[(0,ft.jsx)("option",{value:"",children:"Any Duration"}),(0,ft.jsx)("option",{value:"1",children:"1 Day"}),(0,ft.jsx)("option",{value:"2",children:"2 Days"}),(0,ft.jsx)("option",{value:"2-5",children:"2-5 Days"}),(0,ft.jsx)("option",{value:"6-10",children:"6-10 Days"}),(0,ft.jsx)("option",{value:"11-15",children:"11-15 Days"}),(0,ft.jsx)("option",{value:"15+",children:"15+ Days"})]})]})}),(0,ft.jsx)("button",{onClick:()=>{const e=new URLSearchParams;Object.entries(u).forEach((t=>{let[n,r]=t;r&&("duration"===n?"15+"===r?e.append(n,"15-100"):"1"===r||"2"===r?e.append(n,`${r}-${r}`):e.append(n,r):e.append(n,r))}));const t=`/treks?${e.toString()}`;console.log("Updating URL to:",t),window.history.pushState({},"",t),console.log("Applying filters:",u),f(u)},className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300",children:"Apply Filters"})]})}),(0,ft.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:s?(0,ft.jsx)("div",{className:"flex justify-center py-12",children:(0,ft.jsx)(np,{})}):o?(0,ft.jsx)("div",{className:"text-center py-12",children:(0,ft.jsx)("p",{className:"text-red-500",children:o})}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"mb-4",children:(0,ft.jsxs)("p",{className:"text-gray-600",children:["Showing ",n.length," ",1===n.length?"trek":"treks",u.region&&` in ${(null===(e=c.find((e=>e._id===u.region)))||void 0===e?void 0:e.name)||u.region}`,u.season&&` during ${u.season}`,u.duration&&` of ${u.duration} duration`]})}),(0,ft.jsx)(vc.div,{variants:lF,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,ft.jsx)(Tt,{children:n.map((e=>(0,ft.jsx)(vc.div,{variants:cF,exit:{opacity:0,y:-10},layout:!0,children:(0,ft.jsx)(dp,{trek:e})},e._id)))})}),0===n.length&&!s&&(0,ft.jsxs)("div",{className:"text-center py-12",children:[(0,ft.jsx)("p",{className:"text-gray-500 text-lg",children:"No treks found matching your filters."}),(0,ft.jsx)("button",{onClick:()=>{h({search:"",region:"",season:"",category:"",duration:"",sort:"name-asc"}),window.history.pushState({},"","/treks"),f({})},className:"mt-4 px-4 py-2 bg-emerald-500 text-white rounded-md hover:bg-emerald-600 transition-colors",children:"Clear Filters"})]})]})})]})})};const uF=function(){var e;const{id:t}=ie(),n=se(),r=ne(),{currentUser:s}=yh(),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[p,f]=(0,a.useState)(null),[g,x]=(0,a.useState)({gstPercent:0,gatewayPercent:0}),[y,v]=(0,a.useState)({numberOfParticipants:1,addOns:[],userDetails:{name:(null===s||void 0===s?void 0:s.name)||"",email:(null===s||void 0===s?void 0:s.email)||"",phone:(null===s||void 0===s?void 0:s.phone)||""}}),[b,w]=(0,a.useState)(""),[j,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{console.log("Fetching Razorpay key from:",`${Ou}/payments/get-key`);const e=await Ru.get("/payments/get-key",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache","If-None-Match":"","If-Modified-Since":"",Accept:"application/json"},params:{_t:(new Date).getTime()},withCredentials:!0});return console.log("Razorpay key response:",e.data),e.data.key}catch(d){var e,t,n,r,s,i;throw console.error("Error fetching Razorpay key:",{message:d.message,response:null===(e=d.response)||void 0===e?void 0:e.data,status:null===(t=d.response)||void 0===t?void 0:t.status,headers:null===(n=d.response)||void 0===n?void 0:n.headers,config:{url:null===(r=d.config)||void 0===r?void 0:r.url,method:null===(s=d.config)||void 0===s?void 0:s.method,headers:null===(i=d.config)||void 0===i?void 0:i.headers}}),d}})();f(e)}catch(d){console.error("Error fetching Razorpay key:",d),"Please log in to proceed with booking"===d.message?n("/login",{state:{from:`/treks/${t}/book`}}):pt.error(d.message||"Failed to initialize payment. Please try again.")}})()}),[s,t,n]),(0,a.useEffect)((()=>{(async()=>{try{var e;c(!0);const n=await Fu(t);o(n),x({gstPercent:n.gstPercent||0,gatewayPercent:n.gatewayPercent||0});const s=null===(e=r.state)||void 0===e?void 0:e.selectedBatchId,i=s?n.batches.find((e=>e._id===s)):n.batches.find((e=>e.currentParticipants<e.maxParticipants));m(i)}catch(n){console.error("Error fetching trek:",n),u("Failed to load trek details. Please try again later.")}finally{c(!1)}})()}),[t,r.state]);const _=e=>{const{name:t,value:n}=e.target;v((e=>({...e,userDetails:{...e.userDetails,[t]:n}})))},C=()=>{if(!h)return 0;let e=h.price*y.numberOfParticipants;return y.addOns.forEach((t=>{const n=i.addOns.find((e=>e._id===t));n&&n.isEnabled&&(e+=n.price*y.numberOfParticipants)})),e},E=e=>{if(!j||!j.promoCode)return e;const{discountType:t,discountValue:n}=j.promoCode;return"percentage"===t?e*(1-n/100):"fixed"===t?Math.max(0,e-n):e},T=()=>{const e=C(),t=E(e);return t+t*(g.gstPercent/100)+t*(g.gatewayPercent/100)};return l?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):d?(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:d})})]})})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,ft.jsx)("div",{className:"mb-8",children:(0,ft.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,ft.jsxs)("ol",{className:"flex items-center space-x-4",children:[(0,ft.jsx)("li",{children:(0,ft.jsx)("div",{children:(0,ft.jsxs)(Me,{to:"/",className:"text-gray-400 hover:text-gray-500",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,ft.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),(0,ft.jsx)("span",{className:"sr-only",children:"Home"})]})})}),(0,ft.jsx)("li",{children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,ft.jsx)("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})}),(0,ft.jsx)(Me,{to:`/treks/${t}`,className:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700",children:i.name})]})}),(0,ft.jsx)("li",{children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,ft.jsx)("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})}),(0,ft.jsx)("span",{className:"ml-4 text-sm font-medium text-gray-500",children:"Book Now"})]})})]})})}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Booking Details"}),(0,ft.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Please fill in your booking information"})]}),(0,ft.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:(0,ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!s)return pt.info("Please log in to book this trek"),void n("/login",{state:{from:`/treks/${t}/book`}});if(y.userDetails.name&&y.userDetails.email&&y.userDetails.phone?/^\d{10}$/.test(y.userDetails.phone)?h||(pt.error("Please select a batch"),0):(pt.error("Please enter a valid 10-digit phone number"),0):(pt.error("Please fill in all user details"),0))try{const e=y.addOns.filter((e=>{const t=i.addOns.find((t=>t._id===e));return t&&t.isEnabled})),r={trekId:t,batchId:h._id,numberOfParticipants:y.numberOfParticipants,addOns:e,userDetails:y.userDetails,totalPrice:T(),couponCode:(null===j||void 0===j?void 0:j.code)||null,discountAmount:j?C()*(j.discountPercent/100):0,originalPrice:C()},s=await Vu(r),{order:a}=await(async(e,t)=>{try{return(await Ru.post("/payments/create-order",{amount:e,bookingId:t},{headers:oh()})).data}catch(d){throw console.error("Error creating payment order:",d),d}})(Math.round(s.totalPrice),s._id),o={key:p,amount:a.amount,currency:a.currency,name:"Trek Booking",description:"Trek Booking Payment"+(j?` (with ${j.discountPercent}% discount)`:""),order_id:a.id,handler:async function(e){try{await(async e=>{try{return(await Ru.post("/payments/verify",e,{headers:oh()})).data}catch(d){throw console.error("Error verifying payment:",d),d}})({razorpay_payment_id:e.razorpay_payment_id,razorpay_order_id:e.razorpay_order_id,razorpay_signature:e.razorpay_signature,bookingId:s._id}),pt.success("Payment successful! Please fill in participant details."),n(`/booking/${s._id}/participant-details`,{state:{paymentStatus:"success",numberOfParticipants:y.numberOfParticipants,addOns:y.addOns,trekId:t,batchId:h._id}})}catch(d){console.error("Payment verification error:",d),pt.error(d.message||"Payment verification failed. Please contact support."),n(`/booking-detail/${s._id}`,{state:{paymentStatus:"failure"}})}},modal:{ondismiss:function(){pt.info("Payment cancelled. You can try again.")},escape:!1},prefill:{name:y.userDetails.name,email:y.userDetails.email,contact:y.userDetails.phone},theme:{color:"#059669"}},l=document.createElement("script");l.src="https://checkout.razorpay.com/v1/checkout.js",l.async=!0,l.onload=()=>{new window.Razorpay(o).open()},document.body.appendChild(l)}catch(d){console.error("Error creating booking:",d),pt.error(d.message||"Failed to create booking")}},className:"space-y-8",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"numberOfParticipants",className:"block text-sm font-medium text-gray-700",children:"Number of Participants"}),(0,ft.jsx)("select",{id:"numberOfParticipants",name:"numberOfParticipants",value:y.numberOfParticipants,onChange:e=>{const t=parseInt(e.target.value);h&&t>0&&t<=h.maxParticipants-h.currentParticipants&&v((e=>({...e,numberOfParticipants:t})))},className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0,children:[...Array(h?h.maxParticipants-h.currentParticipants:0)].map(((e,t)=>(0,ft.jsx)("option",{value:t+1,children:t+1},t+1)))})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Your Details"}),(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{htmlFor:"userName",className:"block text-sm font-medium text-gray-700",children:["Full Name ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("input",{type:"text",name:"name",id:"userName",value:y.userDetails.name,onChange:_,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0,placeholder:"Enter your full name"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{htmlFor:"userEmail",className:"block text-sm font-medium text-gray-700",children:["Email ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("input",{type:"email",name:"email",id:"userEmail",value:y.userDetails.email,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-50 text-gray-500 cursor-not-allowed sm:text-sm",disabled:!0,required:!0})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("label",{htmlFor:"userPhone",className:"block text-sm font-medium text-gray-700",children:["Phone Number ",(0,ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ft.jsx)("input",{type:"tel",name:"phone",id:"userPhone",value:y.userDetails.phone,onChange:_,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0,placeholder:"Enter 10-digit phone number",pattern:"[0-9]{10}",maxLength:"10"})]})]})]}),i.addOns&&i.addOns.length>0&&(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Optional Add-ons"}),(0,ft.jsx)("div",{className:"space-y-4",children:i.addOns.filter((e=>e.isEnabled)).map((e=>(0,ft.jsxs)("div",{className:"relative flex items-start",children:[(0,ft.jsx)("div",{className:"flex items-center h-5",children:(0,ft.jsx)("input",{id:`addon-${e._id}`,type:"checkbox",checked:y.addOns.includes(e._id),onChange:()=>{return t=e._id,void v((e=>{const n=e.addOns.includes(t)?e.addOns.filter((e=>e!==t)):[...e.addOns,t];return{...e,addOns:n}}));var t},className:"focus:ring-emerald-500 h-4 w-4 text-emerald-600 border-gray-300 rounded"})}),(0,ft.jsxs)("div",{className:"ml-3 text-sm",children:[(0,ft.jsxs)("label",{htmlFor:`addon-${e._id}`,className:"font-medium text-gray-700",children:[e.name," - \u20b9",e.price]}),e.description&&(0,ft.jsx)("p",{className:"text-gray-500",children:e.description})]})]},e._id)))})]}),(0,ft.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,ft.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Apply Coupon Code"}),(0,ft.jsxs)("div",{className:"flex space-x-2",children:[(0,ft.jsx)("input",{type:"text",value:b,onChange:e=>{w(e.target.value),S(null)},placeholder:"Enter coupon code",className:"flex-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"}),(0,ft.jsx)("button",{type:"button",onClick:async()=>{if(!s)return pt.info("Please log in to apply coupon"),void n("/login",{state:{from:`/treks/${t}/book`}});if(b.trim())try{const e=C(),n=await(async(e,t,n)=>{try{return(await Ru.post("/promos/validate",{code:e,trekId:t,orderValue:n})).data}catch(d){var r,s;throw new Error((null===(r=d.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to validate coupon")}})(b,t,e);N(n),S(null)}catch(d){S(d.message||"Invalid coupon code"),N(null)}else S("Please enter a coupon code")},className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Apply"})]}),k&&(0,ft.jsx)("p",{className:"mt-2 text-sm text-red-600",children:k}),j&&(0,ft.jsxs)("div",{className:"mt-2 p-2 bg-green-50 rounded-md flex justify-between items-center",children:[(0,ft.jsxs)("p",{className:"text-sm text-green-700",children:["Coupon applied: ",j.promoCode.code," (","percentage"===j.promoCode.discountType?`${j.promoCode.discountValue}% off`:`\u20b9${j.promoCode.discountValue} off`,")"]}),(0,ft.jsx)("button",{type:"button",onClick:()=>{N(null),w(""),S(null)},className:"text-sm text-red-600 hover:text-red-800",children:"Remove"})]})]}),(0,ft.jsx)("div",{className:"flex justify-end",children:(0,ft.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Proceed to Payment"})})]})})]}),(0,ft.jsxs)("div",{className:"space-y-6",children:[(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Trek Information"})}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsxs)("dl",{children:[(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Trek Name"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:i.name})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Price per Person"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["\u20b9",(null===h||void 0===h||null===(e=h.price)||void 0===e?void 0:e.toFixed(2))||"0.00"]})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Number of Participants"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:y.numberOfParticipants})]}),y.addOns.length>0&&(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Add-ons"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(0,ft.jsx)("ul",{className:"space-y-1",children:y.addOns.map((e=>{const t=i.addOns.find((t=>t._id===e));return t?(0,ft.jsxs)("li",{children:[t.name," - \u20b9",(t.price*y.numberOfParticipants).toFixed(2)]},t._id):null}))})})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Base Amount"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:j&&j.promoCode?(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("span",{className:"line-through text-gray-500",children:["\u20b9",C().toFixed(2)]}),(0,ft.jsxs)("span",{className:"ml-2",children:["\u20b9",E(C()).toFixed(2)]})]}):(0,ft.jsxs)("span",{children:["\u20b9",C().toFixed(2)]})})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsxs)("dt",{className:"text-sm font-medium text-gray-500",children:["GST (",g.gstPercent,"%)"]}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["\u20b9",(E(C())*(g.gstPercent/100)).toFixed(2)]})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsxs)("dt",{className:"text-sm font-medium text-gray-500",children:["Payment Gateway Charges (",g.gatewayPercent,"%)"]}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["\u20b9",(E(C())*(g.gatewayPercent/100)).toFixed(2)]})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 font-semibold",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["\u20b9",T().toFixed(2)]})]})]})})]}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Available Batches"})}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsx)("div",{className:"divide-y divide-gray-200",children:i.batches.map((e=>{const t=e.currentParticipants>=e.maxParticipants,n=(null===h||void 0===h?void 0:h._id)===e._id,r=e.maxParticipants-e.currentParticipants;return(0,ft.jsx)("div",{className:"px-4 py-4 sm:px-6 cursor-pointer hover:bg-gray-50 "+(n?"bg-emerald-50":""),onClick:()=>!t&&(e=>{m(e)})(e),children:(0,ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[new Date(e.startDate).toLocaleDateString()," -"," ",new Date(e.endDate).toLocaleDateString()]}),(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:t?"Full":`${r} spots left`})]}),(0,ft.jsx)("div",{className:"flex items-center",children:n&&(0,ft.jsx)("svg",{className:"h-5 w-5 text-emerald-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})},e._id)}))})})]})]})]})]})},hF=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),mF=e=>{const t=new Date(e);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"long",day:"numeric"}).format(t)},pF=()=>{const{trekId:e}=ie(),[t]=Re(),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)("");(0,a.useEffect)((()=>{m()}),[e]),(0,a.useEffect)((()=>{const e=t.get("batchId");if(n&&e){const t=n.batches.find((t=>t._id===e));t&&f(t)}}),[n,t]);const m=async()=>{try{d(!0);const t=await(async e=>{try{return(await Ru.get(`/treks/${e}/performance`)).data}catch(u){throw console.error("Error fetching trek performance:",u),u}})(e);r(t),h("")}catch(t){console.error("Error fetching trek performance:",t),h("Failed to load trek performance data"),fN.error("Failed to load trek performance data")}finally{d(!1)}},p=async t=>{try{d(!0);const n=await(async(e,t)=>{try{return(await Ru.get(`/treks/${e}/batches/${t}/performance`)).data}catch(u){throw console.error("Error fetching batch performance:",u),u}})(e,t);l(n),h("")}catch(n){console.error("Error fetching batch details:",n),fN.error("Failed to load batch details")}finally{d(!1)}},f=async e=>{i(e),await p(e._id)};return c?(0,ft.jsx)(np,{}):u?(0,ft.jsx)("div",{className:"p-4 text-red-600",children:u}):n?(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,ft.jsxs)("h1",{className:"text-3xl font-bold mb-8",children:[n.trek.name," Performance"]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Revenue"}),(0,ft.jsx)("p",{className:"text-3xl font-bold text-emerald-600",children:hF(n.totalRevenue)})]}),(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Bookings"}),(0,ft.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:n.totalBookings})]}),(0,ft.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Average Rating"}),(0,ft.jsxs)("p",{className:"text-3xl font-bold text-yellow-600",children:[n.averageRating.toFixed(1)," / 5.0"]})]})]}),(0,ft.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-8",children:[(0,ft.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,ft.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Batch Performance"})}),(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bookings"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Occupancy"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.batches.map((e=>(0,ft.jsxs)("tr",{onClick:()=>f(e),className:"cursor-pointer hover:bg-gray-50 "+((null===s||void 0===s?void 0:s._id)===e._id?"bg-blue-50":""),children:[(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[mF(e.startDate)," - ",mF(e.endDate)]}),(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.currentParticipants," / ",e.maxParticipants]}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:hF(e.revenue)}),(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Math.round(e.currentParticipants/e.maxParticipants*100),"%"]}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+("completed"===e.status?"bg-green-100 text-green-800":"ongoing"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e._id)))})]})})]}),s&&o&&(0,ft.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,ft.jsxs)("div",{className:"px-6 py-5 border-b border-gray-200 flex justify-between items-center",children:[(0,ft.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Batch Details: ",mF(s.startDate)," - ",mF(s.endDate)]}),(0,ft.jsx)("button",{onClick:()=>{i(null),l(null)},className:"text-gray-400 hover:text-gray-500",children:(0,ft.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-6",children:[(0,ft.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ft.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),(0,ft.jsx)("p",{className:"mt-1 text-2xl font-semibold text-emerald-600",children:hF(o.revenue.total)})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ft.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Participants"}),(0,ft.jsxs)("p",{className:"mt-1 text-2xl font-semibold text-blue-600",children:[o.participants.total," / ",o.batchDetails.maxParticipants]})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ft.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Booking Status"}),(0,ft.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsx)("span",{className:"text-sm text-gray-500",children:"Confirmed"}),(0,ft.jsx)("span",{className:"text-sm font-medium text-green-600",children:o.bookings.confirmed})]}),(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsx)("span",{className:"text-sm text-gray-500",children:"Cancelled"}),(0,ft.jsx)("span",{className:"text-sm font-medium text-red-600",children:o.bookings.cancelled})]}),(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsx)("span",{className:"text-sm text-gray-500",children:"Total"}),(0,ft.jsx)("span",{className:"text-sm font-medium",children:o.bookings.total})]})]})]})]}),(0,ft.jsxs)("div",{className:"px-6 py-5 border-t border-gray-200",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bookings"}),(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Date"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.bookingDetails.map((e=>(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.user.name}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.user.email}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.user.phone}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.participants}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:hF(e.totalPrice)}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+("confirmed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:mF(e.bookingDate)})]},e.bookingId)))})]})})]})]})]}):(0,ft.jsx)("div",{className:"p-4 text-gray-600",children:"No performance data available"})};const fF=function(e){let{region:t,onSave:n,isEditing:r=!1}=e;const s=se(),[i,o]=(0,a.useState)({name:"",description:"",location:"",coverImage:"",images:[""],videos:[""],bestSeason:"",avgTrekDuration:0,relatedRegions:[],isActive:!0,trekSectionTitle:"",welcomeMessage:"",detailedDescription:"",descriptionImages:[""]}),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)({});(0,a.useEffect)((()=>{var e,n,s;((async()=>{try{const e=await Bu();u(e)}catch(e){console.error("Error fetching regions:",e),pt.error("Failed to load regions")}})(),r&&t)&&(console.log("Populating form with region data:",t),o({name:t.name||"",description:t.description||"",location:t.location||"",coverImage:t.coverImage||"",images:null!==(e=t.images)&&void 0!==e&&e.length?t.images:[""],videos:null!==(n=t.videos)&&void 0!==n&&n.length?t.videos:[""],bestSeason:t.bestSeason||"",avgTrekDuration:t.avgTrekDuration||0,relatedRegions:(null===(s=t.relatedRegions)||void 0===s?void 0:s.map((e=>"object"===typeof e?e._id:e)))||[],isActive:void 0===t.isEnabled||t.isEnabled,trekSectionTitle:t.trekSectionTitle||"",welcomeMessage:t.welcomeMessage||"",detailedDescription:t.detailedDescription||"",descriptionImages:t.descriptionImages||[""]}))}),[r,t]);const p=e=>{const{name:t,value:n,type:r,checked:s}=e.target;o((e=>({...e,[t]:"checkbox"===r?s:n})))},f=(e,t)=>{o((n=>({...n,[e]:t})))},g=e=>e.map((e=>!e||e.length<1e3||!e.startsWith("http")?e:e.length>1e4?(console.warn("Image URL is too large, consider implementing proper image upload"),e):e));return(0,ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.name.trim()||(e.name="Name is required"),i.description.trim()||(e.description="Description is required"),i.location.trim()||(e.location="Location is required"),i.coverImage.trim()||(e.coverImage="Cover image URL is required"),i.bestSeason.trim()||(e.bestSeason="Best season is required"),(!i.avgTrekDuration||i.avgTrekDuration<=0)&&(e.avgTrekDuration="Average trek duration must be greater than 0"),0===i.images.filter((e=>e.trim())).length&&(e.images="At least one image is required"),m(e),0===Object.keys(e).length})())try{var a,o,l;c(!0);const e={name:i.name.trim(),description:i.description.trim(),location:i.location.trim(),coverImage:i.coverImage.trim(),bestSeason:i.bestSeason.trim(),avgTrekDuration:Number(i.avgTrekDuration),images:g(i.images.filter((e=>""!==e.trim()))),descriptionImages:g(i.descriptionImages.filter((e=>""!==e.trim()))),videos:i.videos.filter((e=>""!==e.trim())),relatedRegions:i.relatedRegions,isEnabled:i.isActive,trekSectionTitle:(null===(a=i.trekSectionTitle)||void 0===a?void 0:a.trim())||"",welcomeMessage:(null===(o=i.welcomeMessage)||void 0===o?void 0:o.trim())||"",detailedDescription:(null===(l=i.detailedDescription)||void 0===l?void 0:l.trim())||""};let d;console.log("Submitting region data:",e),r?(d=await Uu(t._id,e),pt.success("Region updated successfully")):(d=await qu(e),pt.success("Region created successfully")),console.log("API response:",d),n?n():s("/admin/regions")}catch(h){var d,u;console.error("Error saving region:",h),pt.error((null===(d=h.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||"Failed to save region")}finally{c(!1)}},className:"space-y-6",children:[(0,ft.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,ft.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:r?"Edit Region":"Add New Region"}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Region Name*"}),(0,ft.jsx)("input",{type:"text",id:"name",name:"name",value:i.name,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(h.name?"border-red-300":"")}),h.name&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.name})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location*"}),(0,ft.jsx)("input",{type:"text",id:"location",name:"location",value:i.location,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(h.location?"border-red-300":""),placeholder:"e.g., Himachal Pradesh, India"}),h.location&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.location})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"bestSeason",className:"block text-sm font-medium text-gray-700",children:"Best Season*"}),(0,ft.jsx)("input",{type:"text",id:"bestSeason",name:"bestSeason",value:i.bestSeason,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(h.bestSeason?"border-red-300":""),placeholder:"e.g., May to October"}),h.bestSeason&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.bestSeason})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"avgTrekDuration",className:"block text-sm font-medium text-gray-700",children:"Average Trek Duration (days)*"}),(0,ft.jsx)("input",{type:"number",id:"avgTrekDuration",name:"avgTrekDuration",value:i.avgTrekDuration,onChange:p,min:"1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(h.avgTrekDuration?"border-red-300":"")}),h.avgTrekDuration&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.avgTrekDuration})]}),(0,ft.jsx)("div",{children:(0,ft.jsxs)("label",{htmlFor:"isActive",className:"flex items-center",children:[(0,ft.jsx)("input",{type:"checkbox",id:"isActive",name:"isActive",checked:i.isActive,onChange:p,className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),(0,ft.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Active (visible to users)"})]})})]}),(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"coverImage",className:"block text-sm font-medium text-gray-700",children:"Cover Image URL*"}),(0,ft.jsx)("input",{type:"text",id:"coverImage",name:"coverImage",value:i.coverImage,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm "+(h.coverImage?"border-red-300":""),placeholder:"https://example.com/image.jpg"}),h.coverImage&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.coverImage}),i.coverImage&&(0,ft.jsx)("div",{className:"mt-2 h-24 w-full overflow-hidden rounded-md",children:(0,ft.jsx)("img",{src:i.coverImage,alt:"Cover preview",className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/400x200?text=Invalid+Image+URL"}})})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Related Regions"}),(0,ft.jsx)("select",{multiple:!0,name:"relatedRegions",value:i.relatedRegions,onChange:e=>{const t=e.target.options,n=[];for(let r=0;r<t.length;r++)t[r].selected&&n.push(t[r].value);o((e=>({...e,relatedRegions:n})))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm",size:"3",children:d.filter((e=>e._id!==((null===t||void 0===t?void 0:t._id)||""))).map((e=>(0,ft.jsx)("option",{value:e._id,children:e.name},e._id)))}),(0,ft.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Hold Ctrl/Cmd to select multiple regions"})]})]})]}),(0,ft.jsxs)("div",{className:"form-group",children:[(0,ft.jsx)("label",{htmlFor:"trekSectionTitle",className:"form-label",children:"Trek Section Title"}),(0,ft.jsx)("input",{type:"text",id:"trekSectionTitle",name:"trekSectionTitle",value:i.trekSectionTitle||"",onChange:p,className:"form-input",placeholder:"e.g. Backpacking Trips In Spiti"})]}),(0,ft.jsxs)("div",{className:"form-group",children:[(0,ft.jsx)("label",{htmlFor:"welcomeMessage",className:"form-label",children:"Welcome Message"}),(0,ft.jsx)("input",{type:"text",id:"welcomeMessage",name:"welcomeMessage",value:i.welcomeMessage||"",onChange:p,className:"form-input",placeholder:"e.g. Welcome to the land of Lamas!!"})]}),(0,ft.jsxs)("div",{className:"form-group",children:[(0,ft.jsx)("label",{htmlFor:"detailedDescription",className:"form-label",children:"Detailed Description"}),(0,ft.jsx)("textarea",{id:"detailedDescription",name:"detailedDescription",value:i.detailedDescription||"",onChange:p,rows:"8",className:"form-input",placeholder:"Enter a detailed description for the trek section..."}),(0,ft.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Use double line breaks to create paragraphs."})]}),(0,ft.jsxs)("div",{className:"form-group",children:[(0,ft.jsx)("label",{className:"form-label",children:"Description Section Images"}),(0,ft.jsx)("div",{className:"mb-2",children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"These images will be displayed in the trek description section. Upload up to 4 images."})}),(0,ft.jsx)(HA,{images:i.descriptionImages||[],onChange:e=>f("descriptionImages",e),maxImages:4})]}),(0,ft.jsxs)("div",{className:"form-group",children:[(0,ft.jsx)("label",{className:"form-label",children:"Gallery Images"}),(0,ft.jsx)("div",{className:"mb-2",children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"These images will be displayed in the gallery section."})}),(0,ft.jsx)(HA,{images:i.images||[],onChange:e=>f("images",e)})]}),(0,ft.jsxs)("div",{className:"form-group",children:[(0,ft.jsx)("label",{className:"form-label",children:"YouTube Videos"}),(0,ft.jsx)("div",{className:"mb-2",children:(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:"Add YouTube video URLs to display in the video carousel."})}),(0,ft.jsxs)("div",{className:"space-y-2",children:[i.videos.map(((e,t)=>(0,ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ft.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...i.videos];n[e]=t,o((e=>({...e,videos:n})))})(t,e.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm form-input",placeholder:"https://www.youtube.com/watch?v=VIDEO_ID"}),(0,ft.jsx)("button",{type:"button",onClick:()=>(e=>{if(i.videos.length<=1)return;const t=i.videos.filter(((t,n)=>n!==e));o((e=>({...e,videos:t})))})(t),className:"inline-flex items-center p-1.5 border border-transparent rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",disabled:i.videos.length<=1,children:(0,ft.jsx)(Um,{className:"h-4 w-4"})}),e&&(0,ft.jsx)("div",{className:"h-10 w-10 overflow-hidden rounded-md flex-shrink-0 bg-red-100 flex items-center justify-center",children:(0,ft.jsx)(Ah,{className:"h-6 w-6 text-red-600"})})]},t))),(0,ft.jsxs)("button",{type:"button",onClick:()=>{o((e=>({...e,videos:[...e.videos,""]})))},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-emerald-700 bg-emerald-100 hover:bg-emerald-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)(_m,{className:"mr-1"})," Add Video"]})]})]})]}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>s("/admin/regions"),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Cancel"}),(0,ft.jsx)("button",{type:"submit",disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:l?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(np,{size:"sm",className:"mr-2"}),"Saving..."]}):r?"Update Region":"Create Region"})]})]})};const gF=function(){const{id:e}=ie(),t=se(),[n,r]=a.useState(!!e),[s,i]=a.useState(null),[o,l]=a.useState(null);return a.useEffect((()=>{if(e){const t=async()=>{try{r(!0);const t=await uh(e);i(t),l(null)}catch(t){console.error("Error fetching region:",t),l("Failed to load region"),pt.error("Failed to load region")}finally{r(!1)}};t()}}),[e]),n?(0,ft.jsx)(eP,{children:(0,ft.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ft.jsx)(np,{size:"lg"})})}):o?(0,ft.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ft.jsx)("p",{className:"text-red-700",children:o})}):(0,ft.jsx)(ft.Fragment,{children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsx)("div",{className:"mb-6",children:(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:e?"Edit Region":"Create New Region"})}),(0,ft.jsx)(fF,{region:s,onSave:async n=>{try{r(!0),e?(await Uu(e,n),pt.success("Region updated successfully")):(await qu(n),pt.success("Region created successfully")),t("/admin/regions")}catch(a){var s,i;console.error("Error saving region:",a),pt.error((null===(s=a.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Failed to save region")}finally{r(!1)}},isEditing:!!e})]})})};const xF=function(){var e,t,n,r,s,i,o,l;const{id:c}=ie(),d=se(),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)(!0),[f,g]=(0,a.useState)(null),[x,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[N,k]=(0,a.useState)(null),[S,_]=(0,a.useState)({specialRequirements:"",contactInfo:{name:"",email:"",phone:"",address:""},emergencyContact:{name:"",relationship:"",phone:""}}),[C,E]=(0,a.useState)({name:"",age:"",gender:"",medicalConditions:"",customFields:{}}),[T,D]=(0,a.useState)("auto"),[A,P]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{p(!0);const e=await $u(c);if(!e)throw new Error("Booking not found");h(e),_({specialRequirements:e.specialRequirements||"",contactInfo:e.contactInfo||{},emergencyContact:e.emergencyContact||{}})}catch(n){var e,t;console.error("Error fetching booking:",n),g((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load booking details"),pt.error("Failed to load booking details")}finally{p(!1)}})()}),[c]);const M=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",L=e=>{const{name:t,value:n}=e.target;if(t.includes(".")){const[e,r]=t.split(".");_((t=>({...t,[e]:{...t[e],[r]:n}})))}else _((e=>({...e,[t]:n})))},O=e=>{const{name:t,value:n}=e.target;if(t.startsWith("customFields.")){const e=t.split(".")[1];E((t=>({...t,customFields:{...t.customFields,[e]:n}})))}else E((e=>({...e,[t]:n})))};return m?(0,ft.jsx)(eP,{children:(0,ft.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ft.jsx)(np,{size:"lg"})})}):f?(0,ft.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ft.jsx)("p",{className:"text-red-700",children:f})}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("div",{className:"py-6",children:[(0,ft.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:(0,ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Edit Booking"}),(0,ft.jsxs)("div",{className:"flex space-x-4",children:["cancelled"===u.status?(0,ft.jsxs)("button",{onClick:()=>b(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)($m,{className:"mr-2"}),"Restore Booking"]}):(0,ft.jsxs)("button",{onClick:()=>y(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,ft.jsx)(Um,{className:"mr-2"}),"Cancel Booking"]}),(0,ft.jsx)("button",{onClick:async e=>{e.preventDefault();try{await(async(e,t)=>(await Ru.put(`/bookings/${e}`,t)).data)(c,S),pt.success("Booking updated successfully"),d(`/admin/bookings/${c}`)}catch(r){var t,n;console.error("Error updating booking:",r),pt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to update booking")}},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Save Changes"}),(0,ft.jsx)("button",{onClick:()=>d(`/admin/bookings/${c}`),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Cancel"})]})]})}),(0,ft.jsx)("div",{className:"mt-8 max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ft.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Booking #",u._id]}),(0,ft.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(e=>{switch(e){case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(u.status)}`,children:u.status})]}),(0,ft.jsxs)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Created on ",M(u.createdAt)]})]}),(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[(0,ft.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Trek Information"}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,ft.jsx)(gm,{className:"mr-2 text-emerald-500"}),(0,ft.jsx)("span",{children:(null===(e=u.trek)||void 0===e?void 0:e.name)||"N/A"})]}),(0,ft.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,ft.jsx)(Ih,{className:"mr-2 text-emerald-500"}),(0,ft.jsxs)("span",{children:[null!==(t=u.batch)&&void 0!==t&&t.startDate?M(u.batch.startDate):"N/A"," ","-",null!==(n=u.batch)&&void 0!==n&&n.endDate?M(u.batch.endDate):"N/A"]})]})]})]}),(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[(0,ft.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Contact Information"}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,ft.jsx)("input",{type:"text",name:"contactInfo.name",value:S.contactInfo.name,onChange:L,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,ft.jsx)("input",{type:"email",name:"contactInfo.email",value:S.contactInfo.email,onChange:L,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,ft.jsx)("input",{type:"tel",name:"contactInfo.phone",value:S.contactInfo.phone,onChange:L,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,ft.jsx)("input",{type:"text",name:"contactInfo.address",value:S.contactInfo.address,onChange:L,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]})]})]}),(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[(0,ft.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Emergency Contact"}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,ft.jsx)("input",{type:"text",name:"emergencyContact.name",value:S.emergencyContact.name,onChange:L,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Relationship"}),(0,ft.jsx)("input",{type:"text",name:"emergencyContact.relationship",value:S.emergencyContact.relationship,onChange:L,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,ft.jsx)("input",{type:"tel",name:"emergencyContact.phone",value:S.emergencyContact.phone,onChange:L,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]})]})]}),(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[(0,ft.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Special Requirements"}),(0,ft.jsx)("div",{children:(0,ft.jsx)("textarea",{name:"specialRequirements",value:S.specialRequirements,onChange:L,rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"Enter any special requirements or notes..."})})]}),(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsxs)("button",{onClick:()=>{k(null),E({name:"",age:"",gender:"",medicalConditions:"",customFields:{}}),j(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[(0,ft.jsx)(_m,{className:"mr-2"}),"Add Participant"]})}),(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,ft.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Participants"}),(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medical Conditions"}),null===u||void 0===u||null===(r=u.trek)||void 0===r||null===(s=r.customFields)||void 0===s?void 0:s.map((e=>(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.label},e.name))),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===u||void 0===u||null===(i=u.participantDetails)||void 0===i?void 0:i.map((e=>{var t,n;return(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.age}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.gender}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.medicalConditions||"None"}),null===u||void 0===u||null===(t=u.trek)||void 0===t||null===(n=t.customFields)||void 0===n?void 0:n.map((t=>{var n;return(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===(n=e.customFields)||void 0===n?void 0:n[t.name])||"N/A"},t.name)})),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(e.isCancelled?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.isCancelled?"Cancelled":"Active"})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,ft.jsxs)("div",{className:"flex space-x-2",children:[(0,ft.jsx)("button",{onClick:()=>(e=>{k(e),E({name:e.name,age:e.age,gender:e.gender,medicalConditions:e.medicalConditions||"",customFields:e.customFields||{}}),j(!0)})(e),className:"text-emerald-600 hover:text-emerald-900",children:(0,ft.jsx)(Gh,{className:"h-4 w-4"})}),e.isCancelled?(0,ft.jsx)("button",{onClick:()=>(async e=>{try{await Ku(c,e),pt.success("Participant restored successfully");const t=await $u(c);h(t)}catch(r){var t,n;console.error("Error restoring participant:",r),pt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to restore participant")}})(e._id),className:"text-emerald-600 hover:text-emerald-900",children:(0,ft.jsx)($m,{className:"h-4 w-4"})}):(0,ft.jsx)("button",{onClick:()=>(async e=>{try{await Yu(c,e),pt.success("Participant cancelled successfully");const t=await $u(c);h(t)}catch(r){var t,n;console.error("Error cancelling participant:",r),pt.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to cancel participant")}})(e._id),className:"text-red-600 hover:text-red-900",children:(0,ft.jsx)(Um,{className:"h-4 w-4"})})]})})]},e._id)}))})]})})]})]})})]}),(0,ft.jsx)(Uj,{isOpen:w,onClose:()=>j(!1),title:N?"Edit Participant":"Add Participant",children:(0,ft.jsxs)("div",{className:"p-6",children:[(0,ft.jsxs)("div",{className:"space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,ft.jsx)("input",{type:"text",name:"name",value:C.name,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Age"}),(0,ft.jsx)("input",{type:"number",name:"age",value:C.age,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),(0,ft.jsxs)("select",{name:"gender",value:C.gender,onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0,children:[(0,ft.jsx)("option",{value:"",children:"Select Gender"}),(0,ft.jsx)("option",{value:"male",children:"Male"}),(0,ft.jsx)("option",{value:"female",children:"Female"}),(0,ft.jsx)("option",{value:"other",children:"Other"})]})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Medical Conditions"}),(0,ft.jsx)("textarea",{name:"medicalConditions",value:C.medicalConditions,onChange:O,rows:2,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),null===u||void 0===u||null===(o=u.trek)||void 0===o||null===(l=o.customFields)||void 0===l?void 0:l.map((e=>(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.label}),(0,ft.jsx)("input",{type:e.type||"text",name:`customFields.${e.name}`,value:C.customFields[e.name]||"",onChange:O,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:e.required})]},e.name)))]}),(0,ft.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,ft.jsx)("button",{onClick:()=>j(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,ft.jsxs)("button",{onClick:async()=>{try{N?(await(async(e,t,n)=>{try{return(await Lu.put(`${Ou}/bookings/${e}/participants/${t}`,n,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch(f){throw f}})(c,N._id,C),pt.success("Participant updated successfully")):(await(async(e,t)=>{try{return(await Lu.post(`${Ou}/bookings/${e}/participants`,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch(f){throw f}})(c,C),pt.success("Participant added successfully"));const e=await $u(c);h(e),j(!1)}catch(n){var e,t;console.error("Error saving participant:",n),pt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to save participant")}},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700",children:[N?"Update":"Add"," Participant"]})]})]})}),(0,ft.jsx)(Uj,{isOpen:x,onClose:()=>y(!1),title:"Cancel Booking",children:(0,ft.jsxs)("div",{className:"p-6",children:[(0,ft.jsxs)("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to cancel this booking? This action cannot be undone.",(0,ft.jsx)("br",{}),"Refund to user: ",(0,ft.jsxs)("span",{className:"font-semibold",children:["\u20b9",function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";if(!e)return 0;const r=new Date(null===(t=e.batch)||void 0===t?void 0:t.startDate),s=new Date,i=e.totalPrice;if("full"===n)return i;const a=Math.ceil((r-s)/864e5);return a>7?Math.round(.9*i):a>=3?Math.round(.5*i):0}(u,T)]})]}),(0,ft.jsxs)("div",{className:"mt-4 flex justify-center gap-4",children:[(0,ft.jsx)("button",{className:"px-3 py-1 rounded "+("auto"===T?"bg-emerald-600 text-white":"bg-gray-200"),onClick:()=>D("auto"),disabled:A,children:"Auto Refund"}),(0,ft.jsx)("button",{className:"px-3 py-1 rounded "+("full"===T?"bg-emerald-600 text-white":"bg-gray-200"),onClick:()=>D("full"),disabled:A,children:"100% Refund"})]}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ft.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:A,children:"Cancel"}),(0,ft.jsx)("button",{onClick:async()=>{P(!0);try{await gh({bookingId:u._id,refund:!0,refundType:T}),pt.success("Booking cancelled and refund processed"),y(!1);const e=await $u(c);h(e)}catch(e){pt.error(e.message||"Failed to cancel booking")}finally{P(!1)}},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",disabled:A,children:A?"Processing...":"Confirm Cancellation & Refund"})]})]})}),(0,ft.jsx)(Uj,{isOpen:v,onClose:()=>b(!1),title:"Restore Booking",children:(0,ft.jsxs)("div",{className:"p-6",children:[(0,ft.jsx)("p",{className:"text-gray-700 mb-4",children:"Are you sure you want to restore this booking?"}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{onClick:async()=>{try{await Xu(c,"confirmed"),pt.success("Booking restored successfully"),b(!1),d(`/admin/bookings/${c}`)}catch(n){var e,t;console.error("Error restoring booking:",n),pt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to restore booking")}},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700",children:"Confirm Restoration"})]})]})})]})};const yF=function(e){let{participants:t=[],onCancelParticipant:n,onRestoreParticipant:r}=e;return t&&0!==t.length?(0,ft.jsx)("div",{className:"space-y-4",children:t.map((e=>(0,ft.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"font-medium",children:e.name}),(0,ft.jsxs)("p",{className:"text-sm text-gray-600",children:["Age: ",e.age]}),(0,ft.jsxs)("p",{className:"text-sm text-gray-600",children:["Gender: ",e.gender]}),e.medicalConditions&&(0,ft.jsxs)("p",{className:"text-sm text-gray-600",children:["Medical Conditions: ",e.medicalConditions]})]}),e.isCancelled?(0,ft.jsx)("button",{onClick:()=>r(e._id),className:"text-emerald-600 hover:text-emerald-900 text-sm font-medium",children:(0,ft.jsx)($m,{className:"h-4 w-4"})}):(0,ft.jsx)("button",{onClick:()=>n(e._id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:(0,ft.jsx)(Um,{className:"h-4 w-4"})})]}),e.isCancelled&&(0,ft.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Cancelled on:"," ",new Date(e.cancelledAt).toLocaleDateString()]})]},e._id)))}):(0,ft.jsx)("div",{className:"text-center text-gray-500 py-4",children:"No participants found"})};const vF=function(){var e;const{id:t}=ie(),n=se(),[r,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)("auto"),[p,f]=(0,a.useState)(!1);(0,a.useEffect)((()=>{g()}),[t]);const g=async()=>{try{o(!0);const e=await $u(t),n={...e,participantDetails:e.participantDetails||[]};s(n)}catch(e){console.error("Error fetching booking:",e),c("Failed to load booking details"),pt.error("Failed to load booking details")}finally{o(!1)}};return i?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):l||!r?(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)(Zh,{className:"h-5 w-5 text-red-400"})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:l||"Booking not found"})})]})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsx)("div",{className:"mb-6",children:(0,ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Details"}),(0,ft.jsxs)("div",{className:"flex space-x-3",children:[(0,ft.jsx)("button",{onClick:()=>n(`/admin/bookings/${t}/edit`),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Edit Booking"}),(0,ft.jsx)("button",{onClick:()=>n("/admin/bookings"),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Back to Bookings"}),(0,ft.jsx)("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",disabled:"cancelled"===r.status,children:"Cancel Booking"})]})]})}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Booking Information"}),(0,ft.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Details and participant information"})]}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsxs)("dl",{children:[(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Trek"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(null===(e=r.trek)||void 0===e?void 0:e.name)||"Unknown Trek"})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Booking ID"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:r._id})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(0,ft.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("confirmed"===r.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:r.status})})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),(0,ft.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["\u20b9",r.totalPrice]})]}),(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Number of Participants"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:r.participants})]}),(0,ft.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(r.createdAt).toLocaleDateString()})]}),r.specialRequirements&&(0,ft.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Special Requirements"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:r.specialRequirements})]})]})})]}),(0,ft.jsxs)("div",{className:"mt-8",children:[(0,ft.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Participants"}),(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,ft.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,ft.jsx)("div",{className:"space-y-4",children:(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsx)("div",{className:"divide-y divide-gray-200",children:(0,ft.jsx)(yF,{participants:(null===r||void 0===r?void 0:r.participantDetails)||[],onCancelParticipant:async e=>{try{await Yu(t,e),pt.success("Participant cancelled successfully"),g()}catch(n){console.error("Error cancelling participant:",n),pt.error(n.message||"Failed to cancel participant")}},onRestoreParticipant:async e=>{try{await Ku(t,e),pt.success("Participant restored successfully"),g()}catch(n){console.error("Error restoring participant:",n),pt.error(n.message||"Failed to restore participant")}}})})})})})})]}),d&&(0,ft.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,ft.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,ft.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),(0,ft.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,ft.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,ft.jsx)(Um,{className:"h-6 w-6 text-red-600"})}),(0,ft.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Cancel Booking"}),(0,ft.jsxs)("div",{className:"mt-2",children:[(0,ft.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to cancel this booking? This action cannot be undone.",(0,ft.jsx)("br",{}),"Refund to user: ",(0,ft.jsxs)("span",{className:"font-semibold",children:["\u20b9",function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";if(!e)return 0;const r=new Date(null===(t=e.batch)||void 0===t?void 0:t.startDate),s=new Date,i=e.totalPrice;if("full"===n)return i;const a=Math.ceil((r-s)/864e5);return a>7?Math.round(.9*i):a>=3?Math.round(.5*i):0}(r,h)]})]}),(0,ft.jsxs)("div",{className:"mt-4 flex justify-center gap-4",children:[(0,ft.jsx)("button",{className:"px-3 py-1 rounded "+("auto"===h?"bg-emerald-600 text-white":"bg-gray-200"),onClick:()=>m("auto"),disabled:p,children:"Auto Refund"}),(0,ft.jsx)("button",{className:"px-3 py-1 rounded "+("full"===h?"bg-emerald-600 text-white":"bg-gray-200"),onClick:()=>m("full"),disabled:p,children:"100% Refund"})]})]})]})]}),(0,ft.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,ft.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm",onClick:async()=>{f(!0);try{await gh({bookingId:r._id,refund:!0,refundType:h}),pt.success("Booking cancelled and refund processed"),u(!1),g()}catch(e){pt.error(e.message||"Failed to cancel booking")}finally{f(!1)}},disabled:p,children:p?"Processing...":"Cancel Booking & Refund"}),(0,ft.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>u(!1),disabled:p,children:"Go Back"})]})]})]})})]})};const bF=function(){const e=ne(),t=se(),{id:n}=ie(),r="/admin/user-groups/new"===e.pathname,s=n&&e.pathname.includes("/edit"),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(null),[g,x]=(0,a.useState)({name:"",description:"",permissions:{stats:{treks:!1,bookings:!1,region:!1,sales:!1,users:!1,ongoingTreks:!1},actions:{manageTreks:!1,manageWeekendGetaways:!1,manageRegions:!1,manageBookings:!1,manageUsers:!1,supportTickets:!1,salesDashboard:!1,manageLeads:!1,trekSections:!1,manageUserGroups:!1,manageBlogs:!1}}});(0,a.useEffect)((()=>{s?y():r?c(!1):v()}),[r,s,n]);const y=async()=>{try{var e,t,r,s,i,a,o,l,h,m,p,f,g,y,v,b,w,j,N,k,S,_,C,E,T,D,A,P,M,L,O,R,I,F;c(!0),u(null);const z=await(async e=>{try{return(await Ru.get(`/user-groups/${e}`)).data}catch(d){throw console.error("Error fetching user group:",d),d}})(n);if(!z)throw new Error("Group not found");x({name:z.name||"",description:z.description||"",permissions:{stats:{treks:(null===(e=z.permissions)||void 0===e||null===(t=e.stats)||void 0===t?void 0:t.treks)||!1,bookings:(null===(r=z.permissions)||void 0===r||null===(s=r.stats)||void 0===s?void 0:s.bookings)||!1,region:(null===(i=z.permissions)||void 0===i||null===(a=i.stats)||void 0===a?void 0:a.region)||!1,sales:(null===(o=z.permissions)||void 0===o||null===(l=o.stats)||void 0===l?void 0:l.sales)||!1,users:(null===(h=z.permissions)||void 0===h||null===(m=h.stats)||void 0===m?void 0:m.users)||!1,ongoingTreks:(null===(p=z.permissions)||void 0===p||null===(f=p.stats)||void 0===f?void 0:f.ongoingTreks)||!1},actions:{manageTreks:(null===(g=z.permissions)||void 0===g||null===(y=g.actions)||void 0===y?void 0:y.manageTreks)||!1,manageWeekendGetaways:(null===(v=z.permissions)||void 0===v||null===(b=v.actions)||void 0===b?void 0:b.manageWeekendGetaways)||!1,manageRegions:(null===(w=z.permissions)||void 0===w||null===(j=w.actions)||void 0===j?void 0:j.manageRegions)||!1,manageBookings:(null===(N=z.permissions)||void 0===N||null===(k=N.actions)||void 0===k?void 0:k.manageBookings)||!1,manageUsers:(null===(S=z.permissions)||void 0===S||null===(_=S.actions)||void 0===_?void 0:_.manageUsers)||!1,supportTickets:(null===(C=z.permissions)||void 0===C||null===(E=C.actions)||void 0===E?void 0:E.supportTickets)||!1,salesDashboard:(null===(T=z.permissions)||void 0===T||null===(D=T.actions)||void 0===D?void 0:D.salesDashboard)||!1,manageLeads:(null===(A=z.permissions)||void 0===A||null===(P=A.actions)||void 0===P?void 0:P.manageLeads)||!1,trekSections:(null===(M=z.permissions)||void 0===M||null===(L=M.actions)||void 0===L?void 0:L.trekSections)||!1,manageUserGroups:(null===(O=z.permissions)||void 0===O||null===(R=O.actions)||void 0===R?void 0:R.manageUserGroups)||!1,manageBlogs:(null===(I=z.permissions)||void 0===I||null===(F=I.actions)||void 0===F?void 0:F.manageBlogs)||!1}}})}catch(V){var z,B,q,U;console.error("Error fetching group:",V),u((null===(z=V.response)||void 0===z||null===(B=z.data)||void 0===B?void 0:B.message)||"Failed to load group data"),pt.error((null===(q=V.response)||void 0===q||null===(U=q.data)||void 0===U?void 0:U.message)||"Failed to load group data")}finally{c(!1)}},v=async()=>{try{c(!0),u(null);const e=await ph();if(!Array.isArray(e))throw new Error("Invalid response format");o(e)}catch(s){var e,t,n,r;console.error("Error fetching user groups:",s),u((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load user groups"),pt.error((null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to load user groups")}finally{c(!1)}},b=e=>{const{name:t,value:n}=e.target;x((e=>({...e,[t]:n})))},w=(e,t,n)=>{x((r=>({...r,permissions:{...r.permissions,[e]:{...r.permissions[e],[t]:n}}})))};return l?(0,ft.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ft.jsx)(np,{size:"lg"})}):(0,ft.jsx)(ft.Fragment,{children:(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Create New User Group":s?"Edit User Group":"User Groups"}),!r&&!s&&(0,ft.jsx)(Me,{to:"/admin/user-groups/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Add User Group"})]}),d&&(0,ft.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:(0,ft.jsxs)("div",{className:"flex",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:(0,ft.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ft.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,ft.jsx)("div",{className:"ml-3",children:(0,ft.jsx)("p",{className:"text-sm text-red-700",children:d})})]})}),r||s?(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,ft.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{c(!0),u(null),s?(await(async(e,t)=>{try{return(await Ru.put(`/user-groups/${e}`,t)).data}catch(d){throw console.error("Error updating user group:",d),d}})(n,g),pt.success("User group updated successfully"),t("/admin/user-groups")):(await(async e=>{try{return(await Ru.post("/user-groups",e)).data}catch(d){throw console.error("Error creating user group:",d),d}})(g),pt.success("User group created successfully"),t("/admin/user-groups"))}catch(l){var r,i,a,o;console.error("Error saving user group:",l),u((null===(r=l.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||"Failed to save user group"),pt.error((null===(a=l.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"Failed to save user group")}finally{c(!1)}},children:[(0,ft.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Group Name"}),(0,ft.jsx)("input",{type:"text",name:"name",id:"name",value:g.name,onChange:b,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,ft.jsx)("textarea",{name:"description",id:"description",value:g.description,onChange:b,rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Permissions"}),(0,ft.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Stats"}),(0,ft.jsx)("div",{className:"mt-2 space-y-2",children:Object.entries(g.permissions.stats).map((e=>{let[t,n]=e;return(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("input",{type:"checkbox",id:`stats.${t}`,name:`stats.${t}`,checked:n,onChange:e=>w("stats",t,e.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:`stats.${t}`,className:"ml-2 block text-sm text-gray-900",children:t.charAt(0).toUpperCase()+t.slice(1)})]},t)}))})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Actions"}),(0,ft.jsx)("div",{className:"mt-2 space-y-2",children:Object.entries(g.permissions.actions).map((e=>{let[t,n]=e;return(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("input",{type:"checkbox",id:`actions.${t}`,name:`actions.${t}`,checked:n,onChange:e=>w("actions",t,e.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"}),(0,ft.jsx)("label",{htmlFor:`actions.${t}`,className:"ml-2 block text-sm text-gray-900",children:t.split(/(?=[A-Z])/).map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")})]},t)}))})]})]})]})]}),(0,ft.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,ft.jsx)(Me,{to:"/admin/user-groups",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Cancel"}),(0,ft.jsx)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:s?"Update Group":"Create Group"})]})]})})}):(0,ft.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map((e=>(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.description}),(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,ft.jsx)(Me,{to:`/admin/user-groups/${e._id}/edit`,className:"text-emerald-600 hover:text-emerald-900 mr-4",children:"Edit"}),(0,ft.jsx)("button",{onClick:()=>(e=>{f(e),m(!0)})(e),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e._id)))})]})}),(0,ft.jsxs)(Uj,{isOpen:h,onClose:()=>{m(!1),f(null)},title:"Delete User Group",children:[(0,ft.jsx)("div",{className:"mt-2",children:(0,ft.jsxs)("p",{className:"text-sm text-gray-500",children:['Are you sure you want to delete the group "',null===p||void 0===p?void 0:p.name,'"? This action cannot be undone.']})}),(0,ft.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,ft.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm",onClick:async()=>{try{c(!0),u(null),await(async e=>{try{return(await Ru.delete(`/user-groups/${e}`)).data}catch(d){throw console.error("Error deleting user group:",d),d}})(p._id),pt.success("User group deleted successfully"),m(!1),f(null),await v()}catch(s){var e,t,n,r;console.error("Error deleting user group:",s),u((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete user group"),pt.error((null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to delete user group")}finally{c(!1)}},children:"Delete"}),(0,ft.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>{m(!1),f(null)},children:"Cancel"})]})]})]})})};const wF=function(){const{id:e}=ie(),[t,n]=(0,a.useState)(null),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{const t=await(async e=>(await Ru.get(`/leads/${e}`)).data)(e);n(t.lead),s(t.history),m(t.lead),o(!1)}catch(t){console.error("Error fetching lead:",t),c("Failed to load lead details. Please try again."),o(!1)}})()}),[e]);const p=e=>e?e.name?e.name:e.email:"Unassigned",f=e=>{switch(e){case"created":return(0,ft.jsx)(_m,{className:"text-green-500"});case"status_changed":return(0,ft.jsx)(Xh,{className:"text-blue-500"});case"assigned":return(0,ft.jsx)(Ym,{className:"text-purple-500"});case"note_added":return(0,ft.jsx)(Rm,{className:"text-yellow-500"});case"callback_requested":return(0,ft.jsx)(Nm,{className:"text-red-500"});case"callback_completed":return(0,ft.jsx)(Bh,{className:"text-green-500"});default:return(0,ft.jsx)(Gh,{className:"text-gray-500"})}},g=(e,t,n,r)=>{switch(e){case"created":return"Lead was created";case"status_changed":return`Status changed from ${n} to ${r}`;case"assigned":return`Assigned from ${p(n)} to ${p(r)}`;case"note_added":return"Note was added";case"callback_requested":return"Callback was requested";case"callback_completed":return"Callback was completed";default:return`${t} was updated`}};return i?(0,ft.jsx)(np,{}):l?(0,ft.jsx)("div",{className:"text-red-500",children:l}):t?(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ft.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Lead Details"}),(0,ft.jsx)(Me,{to:"/admin/leads",className:"text-sm text-emerald-600 hover:text-emerald-900",children:"\u2190 Back to Leads"})]}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Lead Information"})}),(0,ft.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:(0,ft.jsxs)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2",children:[(0,ft.jsxs)("div",{className:"sm:col-span-1",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.name||"Not provided"})]}),(0,ft.jsxs)("div",{className:"sm:col-span-1",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.email||"Not provided"})]}),(0,ft.jsxs)("div",{className:"sm:col-span-1",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.phone||"Not provided"})]}),(0,ft.jsxs)("div",{className:"sm:col-span-1",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.status||"Not set"})]}),(0,ft.jsxs)("div",{className:"sm:col-span-1",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Source"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.source||"Not provided"})]}),(0,ft.jsxs)("div",{className:"sm:col-span-1",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created At"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.createdAt?new Date(t.createdAt).toLocaleString():"Not available"})]}),(0,ft.jsxs)("div",{className:"sm:col-span-2",children:[(0,ft.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Notes"}),(0,ft.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:t.notes||"No notes available"})]})]})}),d&&(0,ft.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>u(!1),className:"mr-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:async t=>{t.preventDefault();try{const t={name:h.name,email:h.email,phone:h.phone,status:h.status,notes:h.notes,assignedTo:h.assignedTo,requestCallback:h.requestCallback};await ih(e,t),n(h),u(!1),pt.success("Lead updated successfully")}catch(l){console.error("Error updating lead:",l),pt.error("Failed to update lead")}},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Save Changes"})]}),(0,ft.jsxs)("div",{className:"border-t border-gray-200",children:[(0,ft.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,ft.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Activity History"})}),(0,ft.jsx)("div",{className:"border-t border-gray-200",children:(0,ft.jsx)("ul",{className:"divide-y divide-gray-200",children:r.map((e=>{return(0,ft.jsx)("li",{className:"px-4 py-4 sm:px-6",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0",children:f(e.action)}),(0,ft.jsxs)("div",{className:"ml-3",children:[(0,ft.jsx)("p",{className:"text-sm font-medium text-gray-900",children:p(e.performedBy)}),(0,ft.jsx)("p",{className:"text-sm text-gray-500",children:g(e.action,e.field,e.oldValue,e.newValue)}),(0,ft.jsx)("p",{className:"text-xs text-gray-400",children:(t=e.performedAt,new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]})]})},e._id);var t}))})})]})]})]}):(0,ft.jsx)("div",{className:"text-gray-500",children:"Lead not found"})};const jF=function(){const[e,t]=(0,a.useState)("upcoming"),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null);(0,a.useEffect)((()=>{u()}),[]);const u=async()=>{try{l(!0);const[e,t]=await Promise.all([Hu(),Zu()]);console.log("Bookings data:",e),r(Array.isArray(e)?e:[]),i(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching data:",e),d("Failed to load data. Please try again later."),pt.error("Failed to load dashboard data")}finally{l(!1)}},h=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",m=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},p=n.filter((e=>{var t;return new Date(e.startDate||(null===(t=e.batch)||void 0===t?void 0:t.startDate))>new Date&&"confirmed"===e.status})),f=n.filter((e=>{var t;return new Date(e.startDate||(null===(t=e.batch)||void 0===t?void 0:t.startDate))<new Date||"completed"===e.status}));return o?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-6 sm:py-12",children:[(0,ft.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,ft.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"My Dashboard"}),(0,ft.jsx)("p",{className:"mt-1 sm:mt-2 text-sm text-gray-600",children:"Manage your bookings, support tickets, and reviews"})]}),(0,ft.jsx)("div",{className:"border-b border-gray-200 mb-6 sm:mb-8",children:(0,ft.jsxs)("nav",{className:"flex space-x-4 sm:space-x-8 overflow-x-auto scrollbar-hide",children:[(0,ft.jsxs)("button",{onClick:()=>t("upcoming"),className:("upcoming"===e?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-sm flex items-center transition-colors touch-target",children:[(0,ft.jsx)(Ih,{className:"mr-2 h-4 w-4"}),(0,ft.jsx)("span",{className:"hidden sm:inline",children:"Upcoming Bookings"}),(0,ft.jsx)("span",{className:"sm:hidden",children:"Upcoming"})]}),(0,ft.jsxs)("button",{onClick:()=>t("history"),className:("history"===e?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-sm flex items-center transition-colors touch-target",children:[(0,ft.jsx)(lm,{className:"mr-2 h-4 w-4"}),(0,ft.jsx)("span",{className:"hidden sm:inline",children:"Booking History"}),(0,ft.jsx)("span",{className:"sm:hidden",children:"History"})]}),(0,ft.jsxs)("button",{onClick:()=>t("tickets"),className:("tickets"===e?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-sm flex items-center transition-colors touch-target",children:[(0,ft.jsx)(Bm,{className:"mr-2 h-4 w-4"}),(0,ft.jsx)("span",{className:"hidden sm:inline",children:"Support Tickets"}),(0,ft.jsx)("span",{className:"sm:hidden",children:"Tickets"})]}),(0,ft.jsxs)("button",{onClick:()=>t("reviews"),className:("reviews"===e?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-sm flex items-center transition-colors touch-target",children:[(0,ft.jsx)(Om,{className:"mr-2 h-4 w-4"}),(0,ft.jsx)("span",{className:"hidden sm:inline",children:"My Reviews"}),(0,ft.jsx)("span",{className:"sm:hidden",children:"Reviews"})]})]})}),(0,ft.jsxs)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:["upcoming"===e&&(0,ft.jsxs)("div",{className:"px-3 py-4 sm:px-4 sm:py-5 lg:px-6 lg:py-6",children:[(0,ft.jsx)("h2",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Upcoming Bookings"}),0===p.length?(0,ft.jsxs)("div",{className:"text-center py-4 sm:py-6",children:[(0,ft.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"You don't have any upcoming bookings."}),(0,ft.jsx)(Me,{to:"/treks",className:"mt-3 sm:mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 touch-target",children:"Browse Treks"})]}):(0,ft.jsx)("div",{className:"space-y-3 sm:space-y-4",children:p.map((e=>{var t,n,r;return(0,ft.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 sm:gap-0",children:[(0,ft.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ft.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 truncate",children:(null===(t=e.trek)||void 0===t?void 0:t.name)||"Unknown Trek"}),(0,ft.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:[h(e.startDate||(null===(n=e.batch)||void 0===n?void 0:n.startDate))," - ",h(e.endDate||(null===(r=e.batch)||void 0===r?void 0:r.endDate))]})]}),(0,ft.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${m(e.status)} self-start sm:self-auto`,children:e.status})]}),(0,ft.jsxs)("div",{className:"mt-3 sm:mt-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 sm:gap-0",children:[(0,ft.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:[e.participants||1," participants \u2022 \u20b9",e.totalPrice||0]}),(0,ft.jsxs)("div",{className:"flex space-x-3 sm:space-x-4",children:[(0,ft.jsx)(Me,{to:`/booking-detail/${e._id}`,className:"text-emerald-600 hover:text-emerald-900 text-xs sm:text-sm font-medium touch-target",children:"View Details"}),(0,ft.jsx)("button",{onClick:()=>{},className:"text-red-600 hover:text-red-900 text-xs sm:text-sm font-medium touch-target",children:"Cancel"})]})]})]},e._id)}))})]}),"history"===e&&(0,ft.jsxs)("div",{className:"px-3 py-4 sm:px-4 sm:py-5 lg:px-6 lg:py-6",children:[(0,ft.jsx)("h2",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Booking History"}),0===f.length?(0,ft.jsx)("div",{className:"text-center py-4 sm:py-6",children:(0,ft.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"You don't have any past bookings."})}):(0,ft.jsx)("div",{className:"space-y-3 sm:space-y-4",children:f.map((e=>{var t,n,r;return(0,ft.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 sm:gap-0",children:[(0,ft.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ft.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 truncate",children:(null===(t=e.trek)||void 0===t?void 0:t.name)||"Unknown Trek"}),(0,ft.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:[h(e.startDate||(null===(n=e.batch)||void 0===n?void 0:n.startDate))," - ",h(e.endDate||(null===(r=e.batch)||void 0===r?void 0:r.endDate))]})]}),(0,ft.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${m(e.status)} self-start sm:self-auto`,children:e.status})]}),(0,ft.jsxs)("div",{className:"mt-3 sm:mt-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 sm:gap-0",children:[(0,ft.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:[e.participants||1," participants \u2022 \u20b9",e.totalPrice||0]}),(0,ft.jsxs)("div",{className:"flex space-x-3 sm:space-x-4",children:[(0,ft.jsx)(Me,{to:`/booking-detail/${e._id}`,className:"text-emerald-600 hover:text-emerald-900 text-xs sm:text-sm font-medium touch-target",children:"View Details"}),"completed"===e.status&&!e.review&&(0,ft.jsx)("button",{onClick:()=>{},className:"text-emerald-600 hover:text-emerald-900 text-xs sm:text-sm font-medium touch-target",children:"Write Review"})]})]})]},e._id)}))})]}),"tickets"===e&&(0,ft.jsxs)("div",{className:"px-3 py-4 sm:px-4 sm:py-5 lg:px-6 lg:py-6",children:[(0,ft.jsx)("h2",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Support Tickets"}),0===s.length?(0,ft.jsxs)("div",{className:"text-center py-4 sm:py-6",children:[(0,ft.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"You don't have any support tickets."}),(0,ft.jsx)("p",{className:"mt-2 text-xs sm:text-sm text-gray-500",children:"If you need help with a booking, you can create a support ticket from your bookings page."})]}):(0,ft.jsx)("div",{className:"space-y-3 sm:space-y-4",children:s.map((e=>{var t,n;return(0,ft.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 sm:gap-0",children:[(0,ft.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ft.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 truncate",children:e.subject}),(0,ft.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Created on ",h(e.createdAt)]})]}),(0,ft.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${"open"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"} self-start sm:self-auto`,children:e.status})]}),(0,ft.jsx)("div",{className:"mt-3 sm:mt-4",children:(0,ft.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:e.description})}),(0,ft.jsxs)("div",{className:"mt-3 sm:mt-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 sm:gap-0",children:[(0,ft.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:["Related to: ",(null===(t=e.booking)||void 0===t||null===(n=t.trek)||void 0===n?void 0:n.name)||"Unknown Trek"]}),(0,ft.jsx)(Me,{to:`/ticket-detail/${e._id}`,className:"text-emerald-600 hover:text-emerald-900 text-xs sm:text-sm font-medium touch-target",children:"View Details"})]})]},e._id)}))})]}),"reviews"===e&&(0,ft.jsxs)("div",{className:"px-3 py-4 sm:px-4 sm:py-5 lg:px-6 lg:py-6",children:[(0,ft.jsx)("h2",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"My Reviews"}),(0,ft.jsxs)("div",{className:"text-center py-4 sm:py-6",children:[(0,ft.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"You haven't written any reviews yet."}),(0,ft.jsx)("p",{className:"mt-2 text-xs sm:text-sm text-gray-500",children:"Reviews will appear here after you complete a trek and write a review."})]})]})]})]})};const NF=function(e){let{amount:t,bookingId:n,onSuccess:r,allowPartialPayment:s=!1}=e;const[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,e.onload=()=>{u(!0)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),(0,a.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const t=await fetch("/api/payments/get-key",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to fetch Razorpay key")}const n=await t.json();if(!n.key)throw new Error("Invalid API key received");c(n.key)}catch(e){console.error("Error fetching Razorpay key:",e),pt.error(e.message||"Failed to initialize payment. Please try again.")}})()}),[]),(0,ft.jsx)("button",{onClick:async()=>{if(l)if(d)try{o(!0);const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const i=await fetch("/api/payments/create-order",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({amount:100*t,bookingId:n,partial_payment:s})});if(!i.ok){const e=await i.json();throw new Error(e.message||"Failed to create payment order")}const{order:a}=await i.json(),c={key:l,amount:a.amount,currency:a.currency,name:"Trek Booking",description:"Trek Booking Payment",order_id:a.id,handler:async function(t){try{const s=await fetch("/api/payments/verify",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({razorpay_payment_id:t.razorpay_payment_id,razorpay_order_id:t.razorpay_order_id,razorpay_signature:t.razorpay_signature,bookingId:n})});if(!s.ok){const e=await s.json();throw new Error(e.message||"Payment verification failed")}const{payment:i}=await s.json();"captured"===i.status?(pt.success("Payment successful!"),r()):pt.warning("Payment is being processed")}catch(s){console.error("Payment verification error:",s),pt.error(s.message||"Payment verification failed. Please contact support.")}},prefill:{name:"",email:"",contact:""},theme:{color:"#059669"},modal:{ondismiss:function(){pt.info("Payment cancelled")}},notes:{bookingId:n},callback_url:`${window.location.origin}/payment/callback`};console.log("options",c,l);new window.Razorpay(c).open()}catch(e){console.error("Payment error:",e),pt.error(e.message||"Payment failed. Please try again.")}finally{o(!1)}else pt.error("Payment system is still initializing. Please try again in a moment.");else pt.error("Payment system is not ready. Please try again in a moment.")},disabled:i||!l||!d,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 "+(!i&&l&&d?"":"opacity-50 cursor-not-allowed"),children:i?"Processing...":d?l?"Proceed to Payment":"Initializing...":"Loading Payment System..."})};function kF(e,t){let{title:n,titleId:r,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),n?a.createElement("title",{id:r},n):null,a.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const SF=a.forwardRef(kF),_F=e=>{let{bookingId:t,amount:n}=e;return(0,ft.jsx)("div",{className:"bg-white shadow rounded-lg p-6 max-w-md mx-auto mt-8",children:(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)(SF,{className:"h-16 w-16 text-green-500 mx-auto"}),(0,ft.jsx)("h2",{className:"mt-4 text-2xl font-semibold text-gray-800",children:"Payment Successful!"}),(0,ft.jsxs)("p",{className:"mt-2 text-gray-600",children:["Your payment of \u20b9",n.toFixed(2)," has been successfully processed."]}),(0,ft.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[(0,ft.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,ft.jsx)("span",{className:"text-gray-600",children:"Booking ID:"}),(0,ft.jsx)("span",{className:"font-medium",children:t})]}),(0,ft.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,ft.jsx)("span",{className:"text-gray-600",children:"Payment Status:"}),(0,ft.jsx)("span",{className:"text-green-600 font-medium",children:"Completed"})]}),(0,ft.jsxs)("div",{className:"flex justify-between",children:[(0,ft.jsx)("span",{className:"text-gray-600",children:"Amount Paid:"}),(0,ft.jsxs)("span",{className:"font-medium",children:["\u20b9",n.toFixed(2)]})]})]}),(0,ft.jsxs)("div",{className:"mt-8 space-y-3",children:[(0,ft.jsx)(Me,{to:`/bookings/${t}`,className:"block w-full py-3 px-4 text-center bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-md shadow-sm",children:"View Booking Details"}),(0,ft.jsx)(Me,{to:"/my-bookings",className:"block w-full py-3 px-4 text-center border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium rounded-md",children:"My Bookings"})]})]})})},CF=()=>{var e,t,n;const{bookingId:r}=ie(),s=se(),{currentUser:i}=yh(),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(!i)return void s("/login",{state:{redirectTo:`/payment/${r}`}});(async()=>{try{const e=await $u(r);if(e.user!==i._id)return pt.error("You don't have permission to view this booking"),void s("/my-bookings");"confirmed"!==e.status&&"completed"!==e.status||h(!0),l(e)}catch(e){console.error("Error fetching booking:",e),pt.error("Failed to load booking details"),s("/my-bookings")}finally{d(!1)}})()}),[r,i,s]);return c?(0,ft.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,ft.jsx)(np,{})}):o?(0,ft.jsx)("div",{className:"container mx-auto px-4 py-8",children:u?(0,ft.jsx)(_F,{bookingId:o._id,amount:o.totalPrice}):(0,ft.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 max-w-md mx-auto",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Complete Your Payment"}),(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Booking Summary"}),(0,ft.jsxs)("div",{className:"mt-4 border-t border-b border-gray-200 py-4",children:[(0,ft.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,ft.jsx)("span",{className:"text-gray-600",children:"Trek:"}),(0,ft.jsx)("span",{className:"font-medium",children:(null===(e=o.trek)||void 0===e?void 0:e.name)||"N/A"})]}),(0,ft.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,ft.jsx)("span",{className:"text-gray-600",children:"Dates:"}),(0,ft.jsx)("span",{className:"font-medium",children:null!==(t=o.formattedDates)&&void 0!==t&&t.startDate&&null!==(n=o.formattedDates)&&void 0!==n&&n.endDate?`${new Date(o.formattedDates.startDate).toLocaleDateString()} - ${new Date(o.formattedDates.endDate).toLocaleDateString()}`:"N/A"})]}),(0,ft.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,ft.jsx)("span",{className:"text-gray-600",children:"Participants:"}),(0,ft.jsx)("span",{className:"font-medium",children:o.participants||0})]}),(0,ft.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,ft.jsx)("span",{className:"text-gray-600",children:"Booking ID:"}),(0,ft.jsx)("span",{className:"font-medium",children:o._id})]}),(0,ft.jsxs)("div",{className:"flex justify-between pt-4 border-t border-gray-200",children:[(0,ft.jsx)("span",{className:"text-gray-800 font-medium",children:"Total Amount:"}),(0,ft.jsxs)("span",{className:"font-bold text-indigo-600",children:["\u20b9",o.totalPrice]})]})]})]}),(0,ft.jsx)(NF,{amount:o.totalPrice,bookingId:o._id,onSuccess:()=>{h(!0),$u(r).then((e=>l(e))).catch((e=>console.error("Error refreshing booking data:",e)))}}),(0,ft.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500",children:[(0,ft.jsx)("p",{children:"Your booking is secure. You can pay now or later."}),(0,ft.jsx)("button",{onClick:()=>s("/my-bookings"),className:"mt-4 text-indigo-600 hover:text-indigo-800 font-medium",children:"Return to My Bookings"})]})]})}):(0,ft.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ft.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Booking Not Found"}),(0,ft.jsx)("p",{className:"text-gray-600",children:"The booking you're looking for doesn't exist or you don't have permission to view it."}),(0,ft.jsx)("button",{onClick:()=>s("/my-bookings"),className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go to My Bookings"})]})})};var EF=n(536);const TF=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(1),[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)("-publishedAt"),[f,g]=(0,a.useState)(!1);(0,a.useEffect)((()=>{x()}),[o,u,m]);const x=async()=>{try{r(!0);const e=await Lu.get(`/blogs?page=${o}&search=${u}&sort=${m}`);t(e.data.blogs),d(e.data.totalPages),i(null)}catch(e){i("Failed to fetch blogs. Please try again later."),console.error("Error fetching blogs:",e)}finally{r(!1),g(!1)}},y=(0,EF.debounce)((e=>{g(!0),h(e),l(1)}),500);return(0,ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,ft.jsxs)("div",{className:"relative h-96 bg-emerald-600",children:[(0,ft.jsx)("div",{className:"absolute inset-0 bg-black opacity-50"}),(0,ft.jsx)("div",{className:"relative h-full flex items-center justify-center",children:(0,ft.jsxs)("div",{className:"text-center text-white",children:[(0,ft.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Our Blog"}),(0,ft.jsx)("p",{className:"text-xl md:text-2xl",children:"Discover stories, tips, and adventures"})]})})]}),(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-8",children:[(0,ft.jsx)("div",{className:"w-full md:w-96",children:(0,ft.jsx)("input",{type:"text",placeholder:"Search blogs...",onChange:e=>y(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})}),(0,ft.jsx)("div",{className:"w-full md:w-48",children:(0,ft.jsxs)("select",{value:m,onChange:e=>{return t=e.target.value,g(!0),p(t),void l(1);var t},className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,ft.jsx)("option",{value:"-publishedAt",children:"Newest First"}),(0,ft.jsx)("option",{value:"publishedAt",children:"Oldest First"}),(0,ft.jsx)("option",{value:"title",children:"Title A-Z"}),(0,ft.jsx)("option",{value:"-title",children:"Title Z-A"})]})})]}),n?(0,ft.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):s?(0,ft.jsx)("div",{className:"text-center text-red-600",children:s}):0===e.length?(0,ft.jsxs)("div",{className:"text-center py-12",children:[(0,ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blogs found"}),(0,ft.jsx)("p",{className:"text-gray-500",children:u?"Try adjusting your search or filters":"Check back later for new content"})]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((e=>(0,ft.jsxs)(Me,{to:`/blogs/${e.slug}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,ft.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:(0,ft.jsx)("img",{src:e.bannerImage,alt:e.title,className:"w-full h-48 object-cover"})}),(0,ft.jsxs)("div",{className:"p-6",children:[(0,ft.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),(0,ft.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.excerpt}),(0,ft.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,ft.jsx)("span",{children:e.author.name}),(0,ft.jsx)("span",{children:Lj(new Date(e.publishedAt),"MMM d, yyyy")})]})]})]},e._id)))}),c>1&&(0,ft.jsx)("div",{className:"mt-12 flex justify-center",children:(0,ft.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,ft.jsx)("button",{onClick:()=>l((e=>Math.max(e-1,1))),disabled:1===o||f,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),[...Array(c)].map(((e,t)=>(0,ft.jsx)("button",{onClick:()=>l(t+1),disabled:f,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===t+1?"z-10 bg-emerald-50 border-emerald-500 text-emerald-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} disabled:opacity-50`,children:t+1},t+1))),(0,ft.jsx)("button",{onClick:()=>l((e=>Math.min(e+1,c))),disabled:o===c||f,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})};const DF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PF={};function MF(e,t){return((t||PF).jsx?AF:DF).test(e)}const LF=/[ \t\n\f\r]/g;function OF(e){return""===e.replace(LF,"")}class RF{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function IF(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new RF(n,r,t)}function FF(e){return e.toLowerCase()}RF.prototype.normal={},RF.prototype.property={},RF.prototype.space=void 0;class zF{constructor(e,t){this.attribute=t,this.property=e}}zF.prototype.attribute="",zF.prototype.booleanish=!1,zF.prototype.boolean=!1,zF.prototype.commaOrSpaceSeparated=!1,zF.prototype.commaSeparated=!1,zF.prototype.defined=!1,zF.prototype.mustUseProperty=!1,zF.prototype.number=!1,zF.prototype.overloadedBoolean=!1,zF.prototype.property="",zF.prototype.spaceSeparated=!1,zF.prototype.space=void 0;let BF=0;const qF=KF(),UF=KF(),VF=KF(),$F=KF(),HF=KF(),WF=KF(),YF=KF();function KF(){return 2**++BF}const GF=Object.keys(r);class QF extends zF{constructor(e,t,n,s){let i=-1;if(super(e,t),XF(this,"space",s),"number"===typeof n)for(;++i<GF.length;){const e=GF[i];XF(this,GF[i],(n&r[e])===r[e])}}}function XF(e,t,n){n&&(e[t]=n)}function ZF(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new QF(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[FF(r)]=r,n[FF(i.attribute)]=r}return new RF(t,n,e.space)}QF.prototype.defined=!0;const JF=ZF({properties:{ariaActiveDescendant:null,ariaAtomic:UF,ariaAutoComplete:null,ariaBusy:UF,ariaChecked:UF,ariaColCount:$F,ariaColIndex:$F,ariaColSpan:$F,ariaControls:HF,ariaCurrent:null,ariaDescribedBy:HF,ariaDetails:null,ariaDisabled:UF,ariaDropEffect:HF,ariaErrorMessage:null,ariaExpanded:UF,ariaFlowTo:HF,ariaGrabbed:UF,ariaHasPopup:null,ariaHidden:UF,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:HF,ariaLevel:$F,ariaLive:null,ariaModal:UF,ariaMultiLine:UF,ariaMultiSelectable:UF,ariaOrientation:null,ariaOwns:HF,ariaPlaceholder:null,ariaPosInSet:$F,ariaPressed:UF,ariaReadOnly:UF,ariaRelevant:null,ariaRequired:UF,ariaRoleDescription:HF,ariaRowCount:$F,ariaRowIndex:$F,ariaRowSpan:$F,ariaSelected:UF,ariaSetSize:$F,ariaSort:null,ariaValueMax:$F,ariaValueMin:$F,ariaValueNow:$F,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function ez(e,t){return t in e?e[t]:t}function tz(e,t){return ez(e,t.toLowerCase())}const nz=ZF({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:WF,acceptCharset:HF,accessKey:HF,action:null,allow:null,allowFullScreen:qF,allowPaymentRequest:qF,allowUserMedia:qF,alt:null,as:null,async:qF,autoCapitalize:null,autoComplete:HF,autoFocus:qF,autoPlay:qF,blocking:HF,capture:null,charSet:null,checked:qF,cite:null,className:HF,cols:$F,colSpan:null,content:null,contentEditable:UF,controls:qF,controlsList:HF,coords:$F|WF,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qF,defer:qF,dir:null,dirName:null,disabled:qF,download:VF,draggable:UF,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qF,formTarget:null,headers:HF,height:$F,hidden:VF,high:$F,href:null,hrefLang:null,htmlFor:HF,httpEquiv:HF,id:null,imageSizes:null,imageSrcSet:null,inert:qF,inputMode:null,integrity:null,is:null,isMap:qF,itemId:null,itemProp:HF,itemRef:HF,itemScope:qF,itemType:HF,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qF,low:$F,manifest:null,max:null,maxLength:$F,media:null,method:null,min:null,minLength:$F,multiple:qF,muted:qF,name:null,nonce:null,noModule:qF,noValidate:qF,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qF,optimum:$F,pattern:null,ping:HF,placeholder:null,playsInline:qF,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qF,referrerPolicy:null,rel:HF,required:qF,reversed:qF,rows:$F,rowSpan:$F,sandbox:HF,scope:null,scoped:qF,seamless:qF,selected:qF,shadowRootClonable:qF,shadowRootDelegatesFocus:qF,shadowRootMode:null,shape:null,size:$F,sizes:null,slot:null,span:$F,spellCheck:UF,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$F,step:null,style:null,tabIndex:$F,target:null,title:null,translate:null,type:null,typeMustMatch:qF,useMap:null,value:UF,width:$F,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:HF,axis:null,background:null,bgColor:null,border:$F,borderColor:null,bottomMargin:$F,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qF,declare:qF,event:null,face:null,frame:null,frameBorder:null,hSpace:$F,leftMargin:$F,link:null,longDesc:null,lowSrc:null,marginHeight:$F,marginWidth:$F,noResize:qF,noHref:qF,noShade:qF,noWrap:qF,object:null,profile:null,prompt:null,rev:null,rightMargin:$F,rules:null,scheme:null,scrolling:UF,standby:null,summary:null,text:null,topMargin:$F,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$F,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qF,disableRemotePlayback:qF,prefix:null,property:null,results:$F,security:null,unselectable:null},space:"html",transform:tz}),rz=ZF({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:YF,accentHeight:$F,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$F,amplitude:$F,arabicForm:null,ascent:$F,attributeName:null,attributeType:null,azimuth:$F,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$F,by:null,calcMode:null,capHeight:$F,className:HF,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$F,diffuseConstant:$F,direction:null,display:null,dur:null,divisor:$F,dominantBaseline:null,download:qF,dx:null,dy:null,edgeMode:null,editable:null,elevation:$F,enableBackground:null,end:null,event:null,exponent:$F,externalResourcesRequired:null,fill:null,fillOpacity:$F,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:WF,g2:WF,glyphName:WF,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$F,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$F,horizOriginX:$F,horizOriginY:$F,id:null,ideographic:$F,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$F,k:$F,k1:$F,k2:$F,k3:$F,k4:$F,kernelMatrix:YF,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$F,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$F,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$F,overlineThickness:$F,paintOrder:null,panose1:null,path:null,pathLength:$F,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:HF,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$F,pointsAtY:$F,pointsAtZ:$F,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:YF,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:YF,rev:YF,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:YF,requiredFeatures:YF,requiredFonts:YF,requiredFormats:YF,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$F,specularExponent:$F,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$F,strikethroughThickness:$F,string:null,stroke:null,strokeDashArray:YF,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$F,strokeOpacity:$F,strokeWidth:null,style:null,surfaceScale:$F,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:YF,tabIndex:$F,tableValues:null,target:null,targetX:$F,targetY:$F,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:YF,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$F,underlineThickness:$F,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$F,values:null,vAlphabetic:$F,vMathematical:$F,vectorEffect:null,vHanging:$F,vIdeographic:$F,version:null,vertAdvY:$F,vertOriginX:$F,vertOriginY:$F,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$F,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ez}),sz=ZF({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),iz=ZF({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:tz}),az=ZF({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),oz=IF([JF,nz,sz,iz,az],"html"),lz=IF([JF,rz,sz,iz,az],"svg"),cz=/[A-Z]/g,dz=/-[a-z]/g,uz=/^data[-\w.:]+$/i;function hz(e){return"-"+e.toLowerCase()}function mz(e){return e.charAt(1).toUpperCase()}const pz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var fz=n(294);const gz=yz("end"),xz=yz("start");function yz(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function vz(e){return e&&"object"===typeof e?"position"in e||"type"in e?wz(e.position):"start"in e||"end"in e?wz(e):"line"in e||"column"in e?bz(e):"":""}function bz(e){return jz(e&&e.line)+":"+jz(e&&e.column)}function wz(e){return bz(e&&e.start)+"-"+bz(e&&e.end)}function jz(e){return e&&"number"===typeof e?e:1}class Nz extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",s={},i=!1;if(t&&(s="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?r=e:!s.cause&&e&&(i=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?s.ruleId=n:(s.source=n.slice(0,e),s.ruleId=n.slice(e+1))}if(!s.place&&s.ancestors&&s.ancestors){const e=s.ancestors[s.ancestors.length-1];e&&(s.place=e.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=a?a.line:void 0,this.name=vz(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=i&&s.cause&&"string"===typeof s.cause.stack?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Nz.prototype.file="",Nz.prototype.name="",Nz.prototype.reason="",Nz.prototype.message="",Nz.prototype.stack="",Nz.prototype.column=void 0,Nz.prototype.line=void 0,Nz.prototype.ancestors=void 0,Nz.prototype.cause=void 0,Nz.prototype.fatal=void 0,Nz.prototype.place=void 0,Nz.prototype.ruleId=void 0,Nz.prototype.source=void 0;const kz={}.hasOwnProperty,Sz=new Map,_z=/[A-Z]/g,Cz=new Set(["table","tbody","thead","tfoot","tr"]),Ez=new Set(["td","th"]),Tz="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Dz(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,s,i){const a=Array.isArray(s.children),o=xz(n);return t(r,s,i,a,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,s,i){const a=Array.isArray(s.children)?n:t;return i?a(r,s,i):a(r,s)}}(0,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?lz:oz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},i=Az(s,e,void 0);return i&&"string"!==typeof i?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function Az(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(s=lz,e.schema=s);e.ancestors.push(t);const i=Rz(e,t.tagName,!1),a=function(e,t){const n={};let r,s;for(s in t.properties)if("children"!==s&&kz.call(t.properties,s)){const i=Oz(e,s,t.properties[s]);if(i){const[s,a]=i;e.tableCellAlignToStyle&&"align"===s&&"string"===typeof a&&Ez.has(t.tagName)?r=a:n[s]=a}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=Lz(e,t);Cz.has(t.tagName)&&(o=o.filter((function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&OF(t.value):OF(t));var t})));return Pz(e,a,i,t),Mz(a,o),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Iz(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.name&&"html"===r.space&&(s=lz,e.schema=s);e.ancestors.push(t);const i=null===t.name?e.Fragment:Rz(e,t.name,!0),a=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const s=t.expression;s.type;const i=s.properties[0];i.type,Object.assign(n,e.evaluater.evaluateExpression(i.argument))}else Iz(e,t.position);else{const s=r.name;let i;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,i=e.evaluater.evaluateExpression(t.expression)}else Iz(e,t.position);else i=null===r.value||r.value;n[s]=i}return n}(e,t),o=Lz(e,t);return Pz(e,a,i,t),Mz(a,o),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Iz(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return Mz(r,Lz(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function Pz(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Mz(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Lz(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Sz;for(;++r<t.children.length;){const i=t.children[r];let a;if(e.passKeys){const e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){const t=s.get(e)||0;a=e+"-"+t,s.set(e,t+1)}}const o=Az(e,i,a);void 0!==o&&n.push(o)}return n}function Oz(e,t,n){const r=function(e,t){const n=FF(t);let r=t,s=zF;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&uz.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(dz,mz);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!dz.test(e)){let n=e.replace(cz,hz);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=QF}return new s(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){try{return fz(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new Nz("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Tz+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)kz.call(e,n)&&(t[Fz(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?pz[r.property]||r.property:r.attribute,n]}}function Rz(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,s=-1;for(;++s<e.length;){const t=MF(e[s])?{type:"Identifier",name:e[s]}:{type:"Literal",value:e[s]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(s&&"Literal"===t.type),optional:!1}:t}r=n}else r=MF(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return kz.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);Iz(e)}function Iz(e,t){const n=new Nz("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Tz+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Fz(e){let t=e.replace(_z,zz);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function zz(e){return"-"+e.toLowerCase()}const Bz={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qz={};function Uz(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Vz(e.children,t,n)}return Array.isArray(e)?Vz(e,t,n):""}function Vz(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Uz(e[s],t,n);return r.join("")}function $z(e,t,n,r){const s=e.length;let i,a=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function Hz(e,t){return e.length>0?($z(e,e.length,0,t),e):t}class Wz{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&Yz(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Yz(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Yz(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Yz(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Yz(this.left,t.reverse())}}}function Yz(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Kz(e){const t={};let n,r,s,i,a,o,l,c=-1;const d=new Wz(e);for(;++c<d.length;){for(;c in t;)c=t[c];if(n=d.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===d.get(c-1)[1].type&&(o=n[1]._tokenizer.events,s=0,s<o.length&&"lineEndingBlank"===o[s][1].type&&(s+=2),s<o.length&&"content"===o[s][1].type))for(;++s<o.length&&"content"!==o[s][1].type;)"chunkText"===o[s][1].type&&(o[s][1]._isInFirstContentOfListItem=!0,s++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Gz(d,c)),c=t[c],l=!0);else if(n[1]._container){for(s=c,r=void 0;s--;)if(i=d.get(s),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(r&&(d.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=s);else if("linePrefix"!==i[1].type&&"listItemIndent"!==i[1].type)break;r&&(n[1].end={...d.get(r)[1].start},a=d.slice(r,c),a.unshift(n),d.splice(r,c-r+1,a))}}return $z(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!l}function Gz(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let d,u,h=-1,m=n,p=0,f=0;const g=[f];for(;m;){for(;e.get(++s)[1]!==m;);i.push(s),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),u&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),u=m,m=m.next}for(m=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(f=h+1,g.push(f),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=i.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const Qz={}.hasOwnProperty;function Xz(e,t){let n;for(n in t){const r=(Qz.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let i;if(s)for(i in s){Qz.call(r,i)||(r[i]=[]);const e=s[i];Zz(r[i],Array.isArray(e)?e:e?[e]:[])}}}function Zz(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);$z(e,0,0,r)}const Jz=uB(/[A-Za-z]/),eB=uB(/[\dA-Za-z]/),tB=uB(/[#-'*+\--9=?A-Z^-~]/);function nB(e){return null!==e&&(e<32||127===e)}const rB=uB(/\d/),sB=uB(/[\dA-Fa-f]/),iB=uB(/[!-/:-@[-`{-~]/);function aB(e){return null!==e&&e<-2}function oB(e){return null!==e&&(e<0||32===e)}function lB(e){return-2===e||-1===e||32===e}const cB=uB(/\p{P}|\p{S}/u),dB=uB(/\s/);function uB(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function hB(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(r){if(lB(r))return e.enter(n),a(r);return t(r)};function a(r){return lB(r)&&i++<s?(e.consume(r),a):(e.exit(n),t(r))}}const mB={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),hB(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,s(t)}function s(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):aB(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),s)}}};const pB={tokenize:function(e){const t=this,n=[];let r,s,i,a=0;return o;function o(r){if(a<n.length){const s=n[a];return t.containerState=s[1],e.attempt(s[0].continuation,l,c)(r)}return c(r)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let s,i=n;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){s=t.events[i][1].end;break}x(a);let o=n;for(;o<t.events.length;)t.events[o][1].end={...s},o++;return $z(t.events,i+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(s){if(a===n.length){if(!r)return h(s);if(r.currentConstruct&&r.currentConstruct.concrete)return p(s);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(fB,d,u)(s)}function d(e){return r&&y(),x(a),h(e)}function u(e){return t.parser.lazy[t.now().line]=a!==n.length,i=t.now().offset,p(e)}function h(n){return t.containerState={},e.attempt(fB,m,p)(n)}function m(e){return a++,n.push([t.currentConstruct,t.containerState]),h(e)}function p(n){return null===n?(r&&y(),x(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),f(n))}function f(n){return null===n?(g(e.exit("chunkFlow"),!0),x(0),void e.consume(n)):aB(n)?(e.consume(n),g(e.exit("chunkFlow")),a=0,t.interrupt=void 0,o):(e.consume(n),f)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=s,s&&(s.next=e),s=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<i&&(!r.events[e][1].end||r.events[e][1].end.offset>i))return;const n=t.events.length;let s,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(s){o=t.events[l][1].end;break}s=!0}for(x(a),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;$z(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function x(r){let s=n.length;for(;s-- >r;){const r=n[s];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}},fB={tokenize:function(e,t,n){return hB(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const gB={partial:!0,tokenize:function(e,t,n){return function(t){return lB(t)?hB(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||aB(e)?t(e):n(e)}}};const xB={resolve:function(e){return Kz(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?s(t):aB(t)?e.check(yB,i,s)(t):(e.consume(t),r)}function s(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},yB={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),hB(e,s,"linePrefix")};function s(s){if(null===s||aB(s))return n(s);const i=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}};const vB={tokenize:function(e){const t=this,n=e.attempt(gB,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,hB(e,e.attempt(this.parser.constructs.flow,r,e.attempt(xB,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const bB={resolveAll:kB()},wB=NB("string"),jB=NB("text");function NB(e){return{resolveAll:kB("text"===e?SB:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],s=t.attempt(r,i,a);return i;function i(e){return l(e)?s(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),s(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let s=-1;if(t)for(;++s<t.length;){const e=t[s];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function kB(e){return function(t,n){let r,s=-1;for(;++s<=t.length;)void 0===r?t[s]&&"data"===t[s][1].type&&(r=s,s++):t[s]&&"data"===t[s][1].type||(s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),s=r+2),r=void 0);return e?e(t,n):t}}function SB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],s=t.sliceStream(r);let i,a=s.length,o=-1,l=0;for(;a--;){const e=s[a];if("string"===typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)i=!0,l++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const s={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...s.start},r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}const _B={name:"thematicBreak",tokenize:function(e,t,n){let r,s=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,i(e)}(t)};function i(i){return i===r?(e.enter("thematicBreakSequence"),a(i)):s>=3&&(null===i||aB(i))?(e.exit("thematicBreak"),t(i)):n(i)}function a(t){return t===r?(e.consume(t),s++,a):(e.exit("thematicBreakSequence"),lB(t)?hB(e,i,"whitespace")(t):i(t))}}};const CB={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(gB,s,i);function s(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,hB(e,t,"listItemIndent",r.containerState.size+1)(n)}function i(n){return r.containerState.furtherBlankLines||!lB(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(TB,t,a)(n))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,hB(e,e.attempt(CB,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,a=0;return function(t){const s=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===s?!r.containerState.marker||t===r.containerState.marker:rB(t)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),"listUnordered"===s)return e.enter("listItemPrefix"),42===t||45===t?e.check(_B,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return rB(t)&&++a<10?(e.consume(t),o):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(gB,r.interrupt?n:c,e.attempt(EB,u,d))}function c(e){return r.containerState.initialBlankLine=!0,i++,u(e)}function d(t){return lB(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},EB={partial:!0,tokenize:function(e,t,n){const r=this;return hB(e,(function(e){const s=r.events[r.events.length-1];return!lB(e)&&s&&"listItemPrefixWhitespace"===s[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},TB={partial:!0,tokenize:function(e,t,n){const r=this;return hB(e,(function(e){const s=r.events[r.events.length-1];return s&&"listItemIndent"===s[1].type&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)}};const DB={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(lB(t))return hB(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return s(t)};function s(r){return e.attempt(DB,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return n(t)};function s(n){return lB(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function AB(e,t,n,r,s,i,a,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return function(t){if(60===t)return e.enter(r),e.enter(s),e.enter(i),e.consume(t),e.exit(i),u;if(null===t||32===t||41===t||nB(t))return n(t);return e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),p(t)};function u(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),u(t)):null===t||60===t||aB(t)?n(t):(e.consume(t),92===t?m:h)}function m(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function p(s){return d||null!==s&&41!==s&&!oB(s)?d<c&&40===s?(e.consume(s),d++,p):41===s?(e.consume(s),d--,p):null===s||32===s||40===s||nB(s)?n(s):(e.consume(s),92===s?f:p):(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(s))}function f(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function PB(e,t,n,r,s,i){const a=this;let o,l=0;return function(t){return e.enter(r),e.enter(s),e.consume(t),e.exit(s),e.enter(i),c};function c(u){return l>999||null===u||91===u||93===u&&!o||94===u&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(u):93===u?(e.exit(i),e.enter(s),e.consume(u),e.exit(s),e.exit(r),t):aB(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(u))}function d(t){return null===t||91===t||93===t||aB(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!lB(t)),92===t?u:d)}function u(t){return 91===t||92===t||93===t?(e.consume(t),l++,d):d(t)}}function MB(e,t,n,r,s,i){let a;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(s),e.consume(t),e.exit(s),a=40===t?41:t,o;return n(t)};function o(n){return n===a?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),t):(e.enter(i),l(n))}function l(t){return t===a?(e.exit(i),o(a)):null===t?n(t):aB(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),hB(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||aB(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?d:c)}function d(t){return t===a||92===t?(e.consume(t),c):c(t)}}function LB(e,t){let n;return function r(s){if(aB(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r;if(lB(s))return hB(e,r,n?"linePrefix":"lineSuffix")(s);return t(s)}}function OB(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const RB={name:"definition",tokenize:function(e,t,n){const r=this;let s;return function(t){return e.enter("definition"),function(t){return PB.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function i(t){return s=OB(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return oB(t)?LB(e,o)(t):o(t)}function o(t){return AB(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(IB,c,c)(t)}function c(t){return lB(t)?hB(e,d,"whitespace")(t):d(t)}function d(i){return null===i||aB(i)?(e.exit("definition"),r.parser.defined.push(s),t(i)):n(i)}}},IB={partial:!0,tokenize:function(e,t,n){return function(t){return oB(t)?LB(e,r)(t):n(t)};function r(t){return MB(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return lB(t)?hB(e,i,"whitespace")(t):i(t)}function i(e){return null===e||aB(e)?t(e):n(e)}}};const FB={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),hB(e,s,"linePrefix",5)(t)};function s(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?o(t):aB(t)?e.attempt(zB,i,o)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||aB(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),a)}function o(n){return e.exit("codeIndented"),t(n)}}},zB={partial:!0,tokenize:function(e,t,n){const r=this;return s;function s(t){return r.parser.lazy[r.now().line]?n(t):aB(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):hB(e,i,"linePrefix",5)(t)}function i(e){const i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):aB(e)?s(e):n(e)}}};const BB={name:"headingAtx",resolve:function(e,t){let n,r,s=e.length-2,i=3;"whitespace"===e[i][1].type&&(i+=2);s-2>i&&"whitespace"===e[s][1].type&&(s-=2);"atxHeadingSequence"===e[s][1].type&&(i===s-1||s-4>i&&"whitespace"===e[s-2][1].type)&&(s-=i+1===s?2:4);s>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[s][1].end},r={type:"chunkText",start:e[i][1].start,end:e[s][1].end,contentType:"text"},$z(e,i,s-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),s(t)}(t)};function s(t){return 35===t&&r++<6?(e.consume(t),s):null===t||oB(t)?(e.exit("atxHeadingSequence"),i(t)):n(t)}function i(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||aB(n)?(e.exit("atxHeading"),t(n)):lB(n)?hB(e,i,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),i(t))}function o(t){return null===t||35===t||oB(t)?(e.exit("atxHeadingText"),i(t)):(e.consume(t),o)}}};const qB={name:"setextUnderline",resolveTo:function(e,t){let n,r,s,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(r=i)}else"content"===e[i][1].type&&e.splice(i,1),s||"definition"!==e[i][1].type||(s=i);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a;return e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let s;return function(t){let a,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){a="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||a))return e.enter("setextHeadingLine"),s=t,function(t){return e.enter("setextHeadingLineSequence"),i(t)}(t);return n(t)};function i(t){return t===s?(e.consume(t),i):(e.exit("setextHeadingLineSequence"),lB(t)?hB(e,a,"lineSuffix")(t):a(t))}function a(r){return null===r||aB(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const UB=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],VB=["pre","script","style","textarea"],$B={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let s,i,a,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),d):47===o?(e.consume(o),i=!0,m):63===o?(e.consume(o),s=3,r.interrupt?t:L):Jz(o)?(e.consume(o),a=String.fromCharCode(o),p):n(o)}function d(i){return 45===i?(e.consume(i),s=2,u):91===i?(e.consume(i),s=5,o=0,h):Jz(i)?(e.consume(i),s=4,r.interrupt?t:L):n(i)}function u(s){return 45===s?(e.consume(s),r.interrupt?t:L):n(s)}function h(s){const i="CDATA[";return s===i.charCodeAt(o++)?(e.consume(s),6===o?r.interrupt?t:_:h):n(s)}function m(t){return Jz(t)?(e.consume(t),a=String.fromCharCode(t),p):n(t)}function p(o){if(null===o||47===o||62===o||oB(o)){const l=47===o,c=a.toLowerCase();return l||i||!VB.includes(c)?UB.includes(a.toLowerCase())?(s=6,l?(e.consume(o),f):r.interrupt?t(o):_(o)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):i?g(o):x(o)):(s=1,r.interrupt?t(o):_(o))}return 45===o||eB(o)?(e.consume(o),a+=String.fromCharCode(o),p):n(o)}function f(s){return 62===s?(e.consume(s),r.interrupt?t:_):n(s)}function g(t){return lB(t)?(e.consume(t),g):k(t)}function x(t){return 47===t?(e.consume(t),k):58===t||95===t||Jz(t)?(e.consume(t),y):lB(t)?(e.consume(t),x):k(t)}function y(t){return 45===t||46===t||58===t||95===t||eB(t)?(e.consume(t),y):v(t)}function v(t){return 61===t?(e.consume(t),b):lB(t)?(e.consume(t),v):x(t)}function b(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):lB(t)?(e.consume(t),b):j(t)}function w(t){return t===l?(e.consume(t),l=null,N):null===t||aB(t)?n(t):(e.consume(t),w)}function j(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||oB(t)?v(t):(e.consume(t),j)}function N(e){return 47===e||62===e||lB(e)?x(e):n(e)}function k(t){return 62===t?(e.consume(t),S):n(t)}function S(t){return null===t||aB(t)?_(t):lB(t)?(e.consume(t),S):n(t)}function _(t){return 45===t&&2===s?(e.consume(t),D):60===t&&1===s?(e.consume(t),A):62===t&&4===s?(e.consume(t),O):63===t&&3===s?(e.consume(t),L):93===t&&5===s?(e.consume(t),M):!aB(t)||6!==s&&7!==s?null===t||aB(t)?(e.exit("htmlFlowData"),C(t)):(e.consume(t),_):(e.exit("htmlFlowData"),e.check(HB,R,C)(t))}function C(t){return e.check(WB,E,R)(t)}function E(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),T}function T(t){return null===t||aB(t)?C(t):(e.enter("htmlFlowData"),_(t))}function D(t){return 45===t?(e.consume(t),L):_(t)}function A(t){return 47===t?(e.consume(t),a="",P):_(t)}function P(t){if(62===t){const n=a.toLowerCase();return VB.includes(n)?(e.consume(t),O):_(t)}return Jz(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),P):_(t)}function M(t){return 93===t?(e.consume(t),L):_(t)}function L(t){return 62===t?(e.consume(t),O):45===t&&2===s?(e.consume(t),L):_(t)}function O(t){return null===t||aB(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),O)}function R(n){return e.exit("htmlFlow"),t(n)}}},HB={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(gB,t,n)}}},WB={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(aB(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s;return n(t)};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const YB={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},KB={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,s={partial:!0,tokenize:function(e,t,n){let s=0;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),lB(t)?hB(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===i?(e.enter("codeFencedFenceSequence"),d(t)):n(t)}function d(t){return t===i?(s++,e.consume(t),d):s>=o?(e.exit("codeFencedFenceSequence"),lB(t)?hB(e,u,"whitespace")(t):u(t)):n(t)}function u(r){return null===r||aB(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let i,a=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===i?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),lB(t)?hB(e,c,"whitespace")(t):c(t))}function c(n){return null===n||aB(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(YB,m,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return null===t||aB(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):lB(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),hB(e,u,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),d)}function u(t){return null===t||aB(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||aB(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===i?n(t):(e.consume(t),h)}function m(t){return e.attempt(s,y,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f}function f(t){return a>0&&lB(t)?hB(e,g,"linePrefix",a+1)(t):g(t)}function g(t){return null===t||aB(t)?e.check(YB,m,y)(t):(e.enter("codeFlowValue"),x(t))}function x(t){return null===t||aB(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),x)}function y(n){return e.exit("codeFenced"),t(n)}}};const GB=document.createElement("i");function QB(e){const t="&"+e+";";GB.innerHTML=t;const n=GB.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const XB={name:"characterReference",tokenize:function(e,t,n){const r=this;let s,i,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,i=eB,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,i=sB,c):(e.enter("characterReferenceValue"),s=7,i=rB,c(t))}function c(o){if(59===o&&a){const s=e.exit("characterReferenceValue");return i!==eB||QB(r.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return i(o)&&a++<s?(e.consume(o),c):n(o)}}};const ZB={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return iB(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const JB={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),hB(e,t,"linePrefix")}}};function eq(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const tq={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&$z(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,s,i,a=e.length,o=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(s){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(s=a);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[r+o+2][1].end},end:{...e[s-2][1].start}};return i=[["enter",l,t],["enter",c,t]],i=Hz(i,e.slice(r+1,r+o+3)),i=Hz(i,[["enter",d,t]]),i=Hz(i,eq(t.parser.constructs.insideSpan.null,e.slice(r+o+4,s-3),t)),i=Hz(i,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),i=Hz(i,e.slice(s+1)),i=Hz(i,[["exit",l,t]]),$z(e,r,e.length,i),e},tokenize:function(e,t,n){const r=this;let s,i,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){s=r.events[a][1];break}return function(t){if(!s)return n(t);if(s._inactive)return d(t);return i=r.parser.defined.includes(OB(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(nq,c,i?c:d)(t):91===t?e.attempt(rq,c,i?l:d)(t):i?c(t):d(t)}function l(t){return e.attempt(sq,c,d)(t)}function c(e){return t(e)}function d(e){return s._balanced=!0,n(e)}}},nq={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return oB(t)?LB(e,s)(t):s(t)}function s(t){return 41===t?c(t):AB(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return oB(t)?LB(e,o)(t):c(t)}function a(e){return n(e)}function o(t){return 34===t||39===t||40===t?MB(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return oB(t)?LB(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},rq={tokenize:function(e,t,n){const r=this;return function(t){return PB.call(r,e,s,i,"reference","referenceMarker","referenceString")(t)};function s(e){return r.parser.defined.includes(OB(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function i(e){return n(e)}}},sq={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const iq={name:"labelStartImage",resolveAll:tq.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s};function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function aq(e){return null===e||oB(e)||dB(e)?1:cB(e)?2:void 0}const oq={name:"attention",resolveAll:function(e,t){let n,r,s,i,a,o,l,c,d=-1;for(;++d<e.length;)if("enter"===e[d][0]&&"attentionSequence"===e[d][1].type&&e[d][1]._close)for(n=d;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[d][1]).charCodeAt(0)){if((e[n][1]._close||e[d][1]._open)&&(e[d][1].end.offset-e[d][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[d][1].end.offset-e[d][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[d][1].end.offset-e[d][1].start.offset>1?2:1;const u={...e[n][1].end},h={...e[d][1].start};lq(u,-o),lq(h,o),i={type:o>1?"strongSequence":"emphasisSequence",start:u,end:{...e[n][1].end}},a={type:o>1?"strongSequence":"emphasisSequence",start:{...e[d][1].start},end:h},s={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[d][1].start}},r={type:o>1?"strong":"emphasis",start:{...i.start},end:{...a.end}},e[n][1].end={...i.start},e[d][1].start={...a.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Hz(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Hz(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",s,t]]),l=Hz(l,eq(t.parser.constructs.insideSpan.null,e.slice(n+1,d),t)),l=Hz(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[d][1].end.offset-e[d][1].start.offset?(c=2,l=Hz(l,[["enter",e[d][1],t],["exit",e[d][1],t]])):c=0,$z(e,n-1,d-n+3,l),d=n+l.length-c-2;break}d=-1;for(;++d<e.length;)"attentionSequence"===e[d][1].type&&(e[d][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=aq(r);let i;return function(t){return i=t,e.enter("attentionSequence"),a(t)};function a(o){if(o===i)return e.consume(o),a;const l=e.exit("attentionSequence"),c=aq(o),d=!c||2===c&&s||n.includes(o),u=!s||2===s&&c||n.includes(r);return l._open=Boolean(42===i?d:d&&(s||!u)),l._close=Boolean(42===i?u:u&&(c||!d)),t(o)}}};function lq(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const cq={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s};function s(t){return Jz(t)?(e.consume(t),i):64===t?n(t):l(t)}function i(e){return 43===e||45===e||46===e||eB(e)?(r=1,a(e)):l(e)}function a(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||eB(t))&&r++<32?(e.consume(t),a):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||nB(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),c):tB(t)?(e.consume(t),l):n(t)}function c(e){return eB(e)?d(e):n(e)}function d(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):u(n)}function u(t){if((45===t||eB(t))&&r++<63){const n=45===t?u:d;return e.consume(t),n}return n(t)}}};const dq={name:"htmlText",tokenize:function(e,t,n){const r=this;let s,i,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),b):63===t?(e.consume(t),y):Jz(t)?(e.consume(t),N):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i=0,m):Jz(t)?(e.consume(t),x):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function d(t){return null===t?n(t):45===t?(e.consume(t),u):aB(t)?(a=d,P(t)):(e.consume(t),d)}function u(t){return 45===t?(e.consume(t),h):d(t)}function h(e){return 62===e?A(e):45===e?u(e):d(e)}function m(t){const r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),6===i?p:m):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),f):aB(t)?(a=p,P(t)):(e.consume(t),p)}function f(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?A(t):93===t?(e.consume(t),g):p(t)}function x(t){return null===t||62===t?A(t):aB(t)?(a=x,P(t)):(e.consume(t),x)}function y(t){return null===t?n(t):63===t?(e.consume(t),v):aB(t)?(a=y,P(t)):(e.consume(t),y)}function v(e){return 62===e?A(e):y(e)}function b(t){return Jz(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||eB(t)?(e.consume(t),w):j(t)}function j(t){return aB(t)?(a=j,P(t)):lB(t)?(e.consume(t),j):A(t)}function N(t){return 45===t||eB(t)?(e.consume(t),N):47===t||62===t||oB(t)?k(t):n(t)}function k(t){return 47===t?(e.consume(t),A):58===t||95===t||Jz(t)?(e.consume(t),S):aB(t)?(a=k,P(t)):lB(t)?(e.consume(t),k):A(t)}function S(t){return 45===t||46===t||58===t||95===t||eB(t)?(e.consume(t),S):_(t)}function _(t){return 61===t?(e.consume(t),C):aB(t)?(a=_,P(t)):lB(t)?(e.consume(t),_):k(t)}function C(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,E):aB(t)?(a=C,P(t)):lB(t)?(e.consume(t),C):(e.consume(t),T)}function E(t){return t===s?(e.consume(t),s=void 0,D):null===t?n(t):aB(t)?(a=E,P(t)):(e.consume(t),E)}function T(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||oB(t)?k(t):(e.consume(t),T)}function D(e){return 47===e||62===e||oB(e)?k(e):n(e)}function A(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function P(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),M}function M(t){return lB(t)?hB(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):L(t)}function L(t){return e.enter("htmlTextData"),a(t)}}};const uq={name:"labelStartLink",resolveAll:tq.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s};function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const hq={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return aB(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const mq={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,s=3;if(("lineEnding"===e[s][1].type||"space"===e[s][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=s;++t<r;)if("codeTextData"===e[t][1].type){e[s][1].type="codeTextPadding",e[r][1].type="codeTextPadding",s+=2,r-=2;break}t=s-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,s,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),i++,a):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(s=e.enter("codeTextSequence"),r=0,c(t)):aB(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||aB(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(s.type="codeTextData",l(n))}}};const pq={42:CB,43:CB,45:CB,48:CB,49:CB,50:CB,51:CB,52:CB,53:CB,54:CB,55:CB,56:CB,57:CB,62:DB},fq={91:RB},gq={[-2]:FB,[-1]:FB,32:FB},xq={35:BB,42:_B,45:[qB,_B],60:$B,61:qB,95:_B,96:KB,126:KB},yq={38:XB,92:ZB},vq={[-5]:JB,[-4]:JB,[-3]:JB,33:iq,38:XB,42:oq,60:[cq,dq],91:uq,92:[hq,ZB],93:tq,95:oq,96:mq},bq={null:[oq,bB]},wq={null:[42,95]},jq={null:[]};function Nq(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let a=[],o=[],l=!0;const c={attempt:y((function(e,t){v(e,t.from)})),check:y(x),consume:function(e){aB(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,b()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++));d.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),d.events.push(["enter",n,d]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=p(),d.events.push(["exit",t,d]),t},interrupt:y(x,{interrupt:!0})},d={code:null,containerState:{},defineSkip:function(e){s[e.line]=e.column,b()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let a;if("string"===typeof i)a=i;else switch(i){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&s)continue;a=" ";break;default:a=String.fromCharCode(i)}s=-2===i,r.push(a)}return r.join("")}(m(e),t)},sliceStream:m,write:function(e){if(a=Hz(a,e),f(),null!==a[a.length-1])return[];return v(t,0),d.events=eq(i,d.events,d),d.events}};let u,h=t.tokenize.call(d,c);return t.resolveAll&&i.push(t),d;function m(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,i)];else{if(a=e.slice(n,s),r>-1){const e=a[0];"string"===typeof e?a[0]=e.slice(r):a.shift()}i>0&&a.push(e[s].slice(0,i))}return a}(a,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:s,offset:i}=r;return{_bufferIndex:e,_index:t,line:n,column:s,offset:i}}function f(){let e;for(;r._index<a.length;){const t=a[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){l=void 0,u=e,h=h(e)}function x(e,t){t.restore()}function y(e,t){return function(n,s,i){let a,u,h,m;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function f(e){return a=e,u=0,0===e.length?i:g(e[u])}function g(e){return function(n){m=function(){const e=p(),t=d.previous,n=d.currentConstruct,s=d.events.length,i=Array.from(o);return{from:s,restore:a};function a(){r=e,d.previous=t,d.currentConstruct=n,d.events.length=s,o=i,b()}}(),h=e,e.partial||(d.currentConstruct=e);if(e.name&&d.parser.constructs.disable.null.includes(e.name))return y(n);return e.tokenize.call(t?Object.assign(Object.create(d),t):d,c,x,y)(n)}}function x(t){return l=!0,e(h,m),s}function y(e){return l=!0,m.restore(),++u<a.length?g(a[u]):i}}}function v(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&$z(d.events,t,d.events.length-t,e.resolve(d.events.slice(t),d)),e.resolveTo&&(d.events=e.resolveTo(d.events,d))}function b(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function kq(e){const t=function(e){const t={};let n=-1;for(;++n<e.length;)Xz(t,e[n]);return t}([s,...(e||{}).extensions||[]]),n={constructs:t,content:r(mB),defined:[],document:r(pB),flow:r(vB),lazy:{},string:r(wB),text:r(jB)};return n;function r(e){return function(t){return Nq(n,e,t)}}}const Sq=/[\0\t\n\r]/g;function _q(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const Cq=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Eq(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return _q(n.slice(t?2:1),t?16:10)}return QB(n)||e}const Tq={}.hasOwnProperty;function Dq(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(te),autolinkProtocol:S,autolinkEmail:S,atxHeading:i(X),blockQuote:i(W),characterEscape:S,characterReference:S,codeFenced:i(Y),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(Y,a),codeText:i(K,a),codeTextData:S,data:S,codeFlowValue:S,definition:i(G),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(Q),hardBreakEscape:i(Z),hardBreakTrailing:i(Z),htmlFlow:i(J,a),htmlFlowData:S,htmlText:i(J,a),htmlTextData:S,image:i(ee),label:a,link:i(te),listItem:i(re),listItemValue:h,listOrdered:i(ne,u),listUnordered:i(ne),paragraph:i(se),reference:z,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(X),strong:i(ie),thematicBreak:i(oe)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:H,autolinkProtocol:$,blockQuote:l(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:q,characterReferenceMarkerNumeric:q,characterReferenceValue:U,characterReference:V,codeFenced:l(g),codeFencedFence:f,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:_,codeIndented:l(x),codeText:l(A),codeTextData:_,data:_,definition:l(),definitionDestinationString:b,definitionLabelString:y,definitionTitleString:v,emphasis:l(),hardBreakEscape:l(E),hardBreakTrailing:l(E),htmlFlow:l(T),htmlFlowData:_,htmlText:l(D),htmlTextData:_,image:l(M),label:O,labelText:L,lineEnding:C,link:l(P),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:R,resourceTitleString:I,resource:F,setextHeading:l(k),setextHeadingLineSequence:N,setextHeadingText:j,strong:l(),thematicBreak:l()}};Pq(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const i={stack:[r],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:d,data:n},l=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])l.push(u);else{u=s(e,l.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];Tq.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},i),e[u][1])}if(i.tokenStack.length>0){const e=i.tokenStack[i.tokenStack.length-1];(e[1]||Lq).call(i,void 0,e[0])}for(r.position={start:Aq(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Aq(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)r=t.transforms[u](r)||r;return r}function s(e,t,n){let r,s,i,a,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||a||l||i||(i=o),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let a=o;for(s=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",s=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}i&&(!s||i<s)&&(r._spread=!0),r.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const s={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=s,e.splice(o,0,["enter",s,t[2]]),o++,n++,i=void 0,a=!0}}}return e[t][1]._spread=c,n}function i(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:Aq(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+vz({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Lq).call(this,e,r[0])}n.position.end=Aq(e.end)}function d(){return function(e,t){const n=t||qz;return Uz(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=OB(this.sliceSerialize(e)).toLowerCase()}function v(){const e=this.resume();this.stack[this.stack.length-1].title=e}function b(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function N(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function S(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ae(),n.position={start:Aq(e.start),end:void 0},t.push(n)),this.stack.push(n)}function _(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Aq(e.end)}function C(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Aq(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(S.call(this,e),_.call(this,e))}function E(){this.data.atHardBreak=!0}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e}function D(){const e=this.resume();this.stack[this.stack.length-1].value=e}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function M(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function L(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Cq,Eq)}(t),n.identifier=OB(t).toLowerCase()}function O(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function R(){const e=this.resume();this.stack[this.stack.length-1].url=e}function I(){const e=this.resume();this.stack[this.stack.length-1].title=e}function F(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function B(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=OB(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function q(e){this.data.characterReferenceType=e.type}function U(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=_q(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=QB(t)}this.stack[this.stack.length-1].value+=r}function V(e){this.stack.pop().position.end=Aq(e.end)}function $(e){_.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function H(e){_.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function W(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function G(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function J(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!Kz(e););return e}(kq(n).document().write(function(){let e,t=1,n="",r=!0;return function(s,i,a){const o=[];let l,c,d,u,h;for(s=n+("string"===typeof s?s.toString():new TextDecoder(i||void 0).decode(s)),d=0,n="",r&&(65279===s.charCodeAt(0)&&d++,r=void 0);d<s.length;){if(Sq.lastIndex=d,l=Sq.exec(s),u=l&&void 0!==l.index?l.index:s.length,h=s.charCodeAt(u),!l){n=s.slice(d);break}if(10===h&&d===u&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),d<u&&(o.push(s.slice(d,u)),t+=u-d),h){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}d=u+1}return a&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function Aq(e){return{line:e.line,column:e.column,offset:e.offset}}function Pq(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Pq(e,r):Mq(e,r)}}function Mq(e,t){let n;for(n in t)if(Tq.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Lq(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+vz({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+vz({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+vz({start:t.start,end:t.end})+") is still open")}function Oq(e){const t=this;t.parser=function(n){return Dq(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const Rq="object"===typeof self?self:globalThis,Iq=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=s=>{if(e.has(s))return e.get(s);const[i,a]=t[s];switch(i){case 0:case-1:return n(a,s);case 1:{const e=n([],s);for(const t of a)e.push(r(t));return e}case 2:{const e=n({},s);for(const[t,n]of a)e[r(t)]=r(n);return e}case 3:return n(new Date(a),s);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),s)}case 5:{const e=n(new Map,s);for(const[t,n]of a)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,s);for(const t of a)e.add(r(t));return e}case 7:{const{name:e,message:t}=a;return n(new Rq[e](t),s)}case 8:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new Rq[i](a),s)};return r})(new Map,e)(0),Fq="",{toString:zq}={},{keys:Bq}=Object,qq=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=zq.call(e).slice(8,-1);switch(n){case"Array":return[1,Fq];case"Object":return[2,Fq];case"Date":return[3,Fq];case"RegExp":return[4,Fq];case"Map":return[5,Fq];case"Set":return[6,Fq];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Uq=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},Vq=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const s=(e,t)=>{const s=r.push(e)-1;return n.set(t,s),s},i=r=>{if(n.has(r))return n.get(r);let[a,o]=qq(r);switch(a){case 0:{let t=r;switch(o){case"bigint":a=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return s([-1],r)}return s([a,t],r)}case 1:{if(o){let e=r;return"DataView"===o?e=new Uint8Array(r.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(r)),s([o,[...e]],r)}const e=[],t=s([a,e],r);for(const n of r)e.push(i(n));return t}case 2:{if(o)switch(o){case"BigInt":return s([o,r.toString()],r);case"Boolean":case"Number":case"String":return s([o,r.valueOf()],r)}if(t&&"toJSON"in r)return i(r.toJSON());const n=[],l=s([a,n],r);for(const t of Bq(r))!e&&Uq(qq(r[t]))||n.push([i(t),i(r[t])]);return l}case 3:return s([a,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return s([a,{source:e,flags:t}],r)}case 5:{const t=[],n=s([a,t],r);for(const[s,a]of r)(e||!Uq(qq(s))&&!Uq(qq(a)))&&t.push([i(s),i(a)]);return n}case 6:{const t=[],n=s([a,t],r);for(const s of r)!e&&Uq(qq(s))||t.push(i(s));return n}}const{message:l}=r;return s([a,{name:o,message:l}],r)};return i})(!(t||n),!!t,new Map,r)(e),r},$q="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Iq(Vq(e,t)):structuredClone(e):(e,t)=>Iq(Vq(e,t));function Hq(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(37===i&&eB(e.charCodeAt(n+1))&&eB(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const t=e.charCodeAt(n+1);i<56320&&t>56319&&t<57344?(a=String.fromCharCode(i,t),s=1):a="\ufffd"}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Wq(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Yq(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const Kq=function(e){if(null===e||void 0===e)return Qq;if("function"===typeof e)return Gq(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Kq(e[n]);return Gq(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return Gq(n);function n(n){const r=n;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}(e);if("string"===typeof e)return function(e){return Gq(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function Gq(e){return function(t,n,r){return Boolean(Xq(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function Qq(){return!0}function Xq(e){return null!==e&&"object"===typeof e&&"type"in e}const Zq=[],Jq=!0,eU=!1;function tU(e,t,n,r){let s;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):s=t;const i=Kq(s),a=r?-1:1;!function e(s,o,l){const c=s&&"object"===typeof s?s:{};if("string"===typeof c.type){const e="string"===typeof c.tagName?c.tagName:"string"===typeof c.name?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+s.type+(e?"<"+e+">":"")+")"})}return d;function d(){let c,d,u,h=Zq;if((!t||i(s,o,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[Jq,e];return null===e||void 0===e?Zq:[e]}(n(s,l)),h[0]===eU))return h;if("children"in s&&s.children){const t=s;if(t.children&&"skip"!==h[0])for(d=(r?t.children.length:-1)+a,u=l.concat(t);d>-1&&d<t.children.length;){const n=t.children[d];if(c=e(n,d,u)(),c[0]===eU)return c;d="number"===typeof c[1]?c[1]:d+a}}return h}}(e,void 0,[])()}function nU(e,t,n,r){let s,i,a;"function"===typeof t&&"function"!==typeof n?(i=void 0,a=t,s=n):(i=t,a=n,s=r),tU(e,i,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return a(e,r,n)}),s)}function rU(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&"text"===i.type?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&"text"===a.type?a.value+=r:s.push({type:"text",value:r}),s}function sU(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}function iU(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(aU(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(aU(t.slice(s),s>0,!1)),i.join("")}function aU(e,t,n){let r=0,s=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(s-1);for(;9===t||32===t;)s--,t=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}const oU={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=Hq(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=i+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rU(e,t);const s={src:Hq(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){const n={src:Hq(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rU(e,t);const s={href:Hq(r.url||"")};null!==r.title&&void 0!==r.title&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){const n={href:Hq(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),s=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=sU(n[r])}return t}(n):sU(t),i={},a=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(s||0!==o||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||s?a.push(e):a.push(...e.children)}const l=r[r.length-1];l&&(s||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let s=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++s<r.length;){const e=r[s];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),s.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},i=xz(t.children[1]),a=gz(t.children[t.children.length-1]);i&&a&&(r.position={start:i,end:a}),s.push(r)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,s=0===(r?r.indexOf(t):1)?"th":"td",i=n&&"table"===n.type?n.align:void 0,a=i?i.length:t.children.length;let o=-1;const l=[];for(;++o<a;){const n=t.children[o],r={},a=i?i[o]:void 0;a&&(r.align=a);let c={type:"element",tagName:s,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:iU(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:lU,yaml:lU,definition:lU,footnoteDefinition:lU};function lU(){}const cU={}.hasOwnProperty,dU={};function uU(e,t){e.position&&(t.position=function(e){const t=xz(e),n=gz(e);if(t&&n)return{start:t,end:n}}(e))}function hU(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&s&&Object.assign(n.properties,$q(s)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function mU(e,t){const n=t.data||{},r=!("value"in t)||cU.call(n,"hProperties")||cU.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function pU(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function fU(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function gU(e,t){const n=function(e,t){const n=t||dU,r=new Map,s=new Map,i=new Map,a={...oU,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const s=o.one(n[r],e);if(s){if(r&&"break"===n[r-1].type&&(Array.isArray(s)||"text"!==s.type||(s.value=fU(s.value)),!Array.isArray(s)&&"element"===s.type)){const e=s.children[0];e&&"text"===e.type&&(e.value=fU(e.value))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t},applyData:hU,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,r=o.handlers[n];if(cU.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=$q(n);return r.children=o.all(e),r}return $q(e)}return(o.options.unknownHandler||mU)(o,e,t)},options:n,patch:uU,wrap:pU};return nU(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:s,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),o}(e,t),r=n.one(e,void 0),s=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Wq,r=e.options.footnoteBackLabel||Yq,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[l]);if(!s)continue;const i=e.all(s),a=String(s.identifier).toUpperCase(),c=Hq(a.toLowerCase());let d=0;const u=[],h=e.footnoteCounts.get(a);for(;void 0!==h&&++d<=h;){u.length>0&&u.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,d);"string"===typeof e&&(e={type:"text",value:e}),u.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(l,d),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const m=i[i.length-1];if(m&&"element"===m.type&&"p"===m.tagName){const e=m.children[m.children.length-1];e&&"text"===e.type?e.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...u)}else i.push(...u);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(i,!0)};e.patch(s,p),o.push(p)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...$q(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:"\n"},s),i}function xU(e,t){return e&&"run"in e?async function(n,r){const s=gU(n,{file:r,...t});await e.run(s,r)}:function(n,r){return gU(n,{file:r,...e||t})}}function yU(e){if(e)throw e}var vU=n(240);function bU(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function wU(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let s=-1;const i=n.pop();if("function"!==typeof i)throw new TypeError("Expected function as last argument, not "+i);!function t(r){const a=e[++s];let o=-1;if(r)i(r);else{for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];for(;++o<n.length;)null!==c[o]&&void 0!==c[o]||(c[o]=n[o]);n=c,a?function(e,t){let n;return s;function s(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=e.length>s.length;let c;l&&s.push(i);try{c=e.apply(this,s)}catch(r){if(l&&n)throw r;return i(r)}l||(c&&c.then&&"function"===typeof c.then?c.then(a,i):c instanceof Error?i(c):a(c))}function i(e){if(!n){n=!0;for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];t(e,...s)}}function a(e){i(null,e)}}(a,t)(...c):i(null,...c)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const jU={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');NU(e);let n,r=0,s=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else s<0&&(n=!0,s=i+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else a<0&&(n=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(s=i):(o=-1,s=a));r===s?s=a:s<0&&(s=e.length);return e.slice(r,s)},dirname:function(e){if(NU(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){NU(e);let t,n=e.length,r=-1,s=0,i=-1,a=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?i<0?i=n:1!==a&&(a=1):i>-1&&(a=-1);else if(t){s=n+1;break}}if(i<0||r<0||0===a||1===a&&i===r-1&&i===s+1)return"";return e.slice(i,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++t<r.length;)NU(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){NU(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,s="",i=0,a=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===o);else if(a!==l-1&&2===o){if(s.length<2||2!==i||46!==s.codePointAt(s.length-1)||46!==s.codePointAt(s.length-2))if(s.length>2){if(r=s.lastIndexOf("/"),r!==s.length-1){r<0?(s="",i=0):(s=s.slice(0,r),i=s.length-1-s.lastIndexOf("/")),a=l,o=0;continue}}else if(s.length>0){s="",i=0,a=l,o=0;continue}t&&(s=s.length>0?s+"/..":"..",i=2)}else s.length>0?s+="/"+e.slice(a+1,l):s=e.slice(a+1,l),i=l-a-1;a=l,o=0}else 46===n&&o>-1?o++:o=-1}return s}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function NU(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const kU={cwd:function(){return"/"}};function SU(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function _U(e){if("string"===typeof e)e=new URL(e);else if(!SU(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const CU=["history","path","basename","stem","extname","dirname"];class EU{constructor(e){let t;t=e?SU(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":kU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<CU.length;){const e=CU[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)CU.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?jU.basename(this.path):void 0}set basename(e){DU(e,"basename"),TU(e,"basename"),this.path=jU.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?jU.dirname(this.path):void 0}set dirname(e){AU(this.basename,"dirname"),this.path=jU.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?jU.extname(this.path):void 0}set extname(e){if(TU(e,"extname"),AU(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jU.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){SU(e)&&(e=_U(e)),DU(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?jU.basename(this.path,this.extname):void 0}set stem(e){DU(e,"stem"),TU(e,"stem"),this.path=jU.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new Nz(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function TU(e,t){if(e&&e.includes(jU.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+jU.sep+"`")}function DU(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function AU(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const PU=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},MU={}.hasOwnProperty;class LU extends PU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wU()}copy(){const e=new LU;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(vU(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(FU("data",this.frozen),this.namespace[e]=t,this):MU.call(this.namespace,e)&&this.namespace[e]||void 0:e?(FU("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=qU(e),n=this.parser||this.Parser;return RU("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),RU("process",this.parser||this.Parser),IU("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,s){const i=qU(e),a=n.parse(i);function o(e,n){e||!n?s(e):r?r(n):t(void 0,n)}n.run(a,i,(function(e,t,r){if(e||!t||!r)return o(e);const s=t,i=n.stringify(s,r);var a;"string"===typeof(a=i)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?r.value=i:r.result=i,o(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),RU("processSync",this.parser||this.Parser),IU("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,yU(e),t=r})),BU("processSync","process",n),t}run(e,t,n){zU(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?s(void 0,n):new Promise(s);function s(s,i){const a=qU(t);r.run(e,a,(function(t,r,a){const o=r||e;t?i(t):s?s(o):n(void 0,o,a)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){yU(e),n=t,r=!0})),BU("runSync","run",r),n}stringify(e,t){this.freeze();const n=qU(t),r=this.compiler||this.Compiler;return IU("stringify",r),zU(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(FU("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];c(e,s)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):o(e)}return this;function a(e){if("function"===typeof e)c(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;c(t,n)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=vU(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){a(e[t])}}}function c(e,n){let r=-1,s=-1;for(;++r<t.length;)if(t[r][0]===e){s=r;break}if(-1===s)t.push([e,...n]);else if(n.length>0){let[r,...i]=n;const a=t[s][1];bU(a)&&bU(r)&&(r=vU(!0,a,r)),t[s]=[e,r,...i]}}}}const OU=(new LU).freeze();function RU(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function IU(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function FU(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zU(e){if(!bU(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function BU(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function qU(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new EU(e)}const UU=[],VU={allowDangerousHtml:!0},$U=/^(https?|ircs?|mailto|xmpp)$/i,HU=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function WU(e){const t=YU(e),n=KU(e);return GU(t.runSync(t.parse(n),n),e)}function YU(e){const t=e.rehypePlugins||UU,n=e.remarkPlugins||UU,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...VU}:VU;return OU().use(Oq).use(n).use(xU,r).use(t)}function KU(e){const t=e.children||"",n=new EU;return"string"===typeof t&&(n.value=t),n}function GU(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,i=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||QU;for(const c of HU)Object.hasOwn(t,c.from)&&(c.from,c.to&&c.to,c.id);return nU(e,(function(e,t,s){if("raw"===e.type&&s&&"number"===typeof t)return a?s.children.splice(t,1):s.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in Bz)if(Object.hasOwn(Bz,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Bz[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let a=n?!n.includes(e.tagName):!!i&&i.includes(e.tagName);if(!a&&r&&"number"===typeof t&&(a=!r(e,t,s)),a&&s&&"number"===typeof t)return o&&e.children?s.children.splice(t,1,...e.children):s.children.splice(t,1),t}})),Dz(e,{Fragment:ft.Fragment,components:s,ignoreInvalidStyle:!0,jsx:ft.jsx,jsxs:ft.jsxs,passKeys:!0,passNode:!0})}function QU(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return-1===t||-1!==s&&t>s||-1!==n&&t>n||-1!==r&&t>r||$U.test(e.slice(0,t))?e:""}var XU=n(366),ZU=n.n(XU),JU=n(740),eV=n.n(JU),tV=n(324),nV=n.n(tV),rV=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(rV||{}),sV={rel:["amphtml","canonical","alternate"]},iV={type:["application/ld+json"]},aV={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},oV=Object.values(rV),lV={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},cV=Object.entries(lV).reduce(((e,t)=>{let[n,r]=t;return e[r]=n,e}),{}),dV="data-rh",uV="defaultTitle",hV="defer",mV="encodeSpecialCharacters",pV="onChangeClientState",fV="titleTemplate",gV="prioritizeSeoTags",xV=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},yV=e=>{let t=xV(e,"title");const n=xV(e,fV);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(()=>t));const r=xV(e,uV);return t||r||void 0},vV=e=>xV(e,pV)||(()=>{}),bV=(e,t)=>t.filter((t=>"undefined"!==typeof t[e])).map((t=>t[e])).reduce(((e,t)=>({...e,...t})),{}),wV=(e,t)=>t.filter((e=>"undefined"!==typeof e.base)).map((e=>e.base)).reverse().reduce(((t,n)=>{if(!t.length){const r=Object.keys(n);for(let s=0;s<r.length;s+=1){const i=r[s].toLowerCase();if(-1!==e.indexOf(i)&&n[i])return t.concat(n)}}return t}),[]),jV=(e,t,n)=>{const r={};return n.filter((t=>{return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&(n=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"===typeof console.warn&&console.warn(n)),!1);var n})).map((t=>t[e])).reverse().reduce(((e,n)=>{const s={};n.filter((e=>{let n;const i=Object.keys(e);for(let r=0;r<i.length;r+=1){const s=i[r],a=s.toLowerCase();-1===t.indexOf(a)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===a&&"stylesheet"===e[a].toLowerCase()||(n=a),-1===t.indexOf(s)||"innerHTML"!==s&&"cssText"!==s&&"itemprop"!==s||(n=s)}if(!n||!e[n])return!1;const a=e[n].toLowerCase();return r[n]||(r[n]={}),s[n]||(s[n]={}),!r[n][a]&&(s[n][a]=!0,!0)})).reverse().forEach((t=>e.push(t)));const i=Object.keys(s);for(let t=0;t<i.length;t+=1){const e=i[t],n={...r[e],...s[e]};r[e]=n}return e}),[]).reverse()},NV=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},kV=e=>Array.isArray(e)?e.join(""):e,SV=(e,t)=>Array.isArray(e)?e.reduce(((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e)),{priority:[],default:[]}):{default:e,priority:[]},_V=(e,t)=>({...e,[t]:void 0}),CV=["noscript","script","style"],EV=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},TV=e=>Object.keys(e).reduce(((t,n)=>{const r="undefined"!==typeof e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r}),""),DV=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(((t,n)=>(t[lV[n]||n]=e[n],t)),t)},AV=(e,t)=>t.map(((t,n)=>{const r={key:n,[dV]:!0};return Object.keys(t).forEach((e=>{const n=lV[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]})),a.createElement(e,r)})),PV=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const r=DV(n,{key:t,[dV]:!0});return[a.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const s=TV(n),i=kV(t);return s?`<${e} ${dV}="true" ${s}>${EV(i,r)}</${e}>`:`<${e} ${dV}="true">${EV(i,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>DV(t),toString:()=>TV(t)};default:return{toComponent:()=>AV(e,t),toString:()=>function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.reduce(((t,r)=>{const s=r,i=Object.keys(s).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const r="undefined"===typeof s[t]?t:`${t}="${EV(s[t],n)}"`;return e?`${e} ${r}`:r}),""),a=s.innerHTML||s.cssText||"",o=-1===CV.indexOf(e);return`${t}<${e} ${dV}="true" ${i}${o?"/>":`>${a}</${e}>`}`}),"")}(e,t,n)}}},MV=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:u,scriptTags:h}=e,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:d,metaTags:u,scriptTags:h}=(e=>{let{metaTags:t,linkTags:n,scriptTags:r,encode:s}=e;const i=SV(t,aV),a=SV(n,sV),o=SV(r,iV);return{priorityMethods:{toComponent:()=>[...AV("meta",i.priority),...AV("link",a.priority),...AV("script",o.priority)],toString:()=>`${PV("meta",i.priority,s)} ${PV("link",a.priority,s)} ${PV("script",o.priority,s)}`},metaTags:i.default,linkTags:a.default,scriptTags:o.default}})(e)),{priority:m,base:PV("base",t,r),bodyAttributes:PV("bodyAttributes",n,r),htmlAttributes:PV("htmlAttributes",s,r),link:PV("link",d,r),meta:PV("meta",u,r),noscript:PV("noscript",i,r),script:PV("script",h,r),style:PV("style",a,r),title:PV("title",{title:o,titleAttributes:l},r)}},LV=[],OV=!("undefined"===typeof window||!window.document||!window.document.createElement),RV=class{instances=[];canUseDOM=(()=>OV)();context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?LV:this.instances,add:e=>{(this.canUseDOM?LV:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?LV:this.instances).indexOf(e);(this.canUseDOM?LV:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=MV({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},IV=a.createContext({}),FV=class e extends a.Component{static canUseDOM=(()=>OV)();helmetData;constructor(t){super(t),this.helmetData=new RV(this.props.context||{},e.canUseDOM)}render(){return a.createElement(IV.Provider,{value:this.helmetData.value},this.props.children)}},zV=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${dV}]`),s=[].slice.call(r),i=[];let a;return t&&t.length&&t.forEach((t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,s="undefined"===typeof t[r]?"":t[r];n.setAttribute(e,s)}n.setAttribute(dV,"true"),s.some(((e,t)=>(a=t,n.isEqualNode(e))))?s.splice(a,1):i.push(n)})),s.forEach((e=>e.parentNode?.removeChild(e))),i.forEach((e=>n.appendChild(e))),{oldTags:s,newTags:i}},BV=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(dV),s=r?r.split(","):[],i=[...s],a=Object.keys(t);for(const o of a){const e=t[o]||"";n.getAttribute(o)!==e&&n.setAttribute(o,e),-1===s.indexOf(o)&&s.push(o);const r=i.indexOf(o);-1!==r&&i.splice(r,1)}for(let o=i.length-1;o>=0;o-=1)n.removeAttribute(i[o]);s.length===i.length?n.removeAttribute(dV):n.getAttribute(dV)!==a.join(",")&&n.setAttribute(dV,a.join(","))},qV=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:a,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:u,titleAttributes:h}=e;BV("body",r),BV("html",s),((e,t)=>{"undefined"!==typeof e&&document.title!==e&&(document.title=kV(e)),BV("title",t)})(u,h);const m={baseTag:zV("base",n),linkTags:zV("link",i),metaTags:zV("meta",a),noscriptTags:zV("noscript",o),scriptTags:zV("script",c),styleTags:zV("style",d)},p={},f={};Object.keys(m).forEach((e=>{const{newTags:t,oldTags:n}=m[e];t.length&&(p[e]=t),n.length&&(f[e]=m[e].oldTags)})),t&&t(),l(e,p,f)},UV=null,VV=e=>{UV&&cancelAnimationFrame(UV),e.defer?UV=requestAnimationFrame((()=>{qV(e,(()=>{UV=null}))})):(qV(e),UV=null)},$V=class extends a.Component{rendered=!1;shouldComponentUpdate(e){return!nV()(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(s=e.get().map((e=>{const t={...e.props};return delete t.context,t})),{baseTag:wV(["href"],s),bodyAttributes:bV("bodyAttributes",s),defer:xV(s,hV),encode:xV(s,mV),htmlAttributes:bV("htmlAttributes",s),linkTags:jV("link",["rel","href"],s),metaTags:jV("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:jV("noscript",["innerHTML"],s),onChangeClientState:vV(s),scriptTags:jV("script",["src","innerHTML"],s),styleTags:jV("style",["cssText"],s),title:yV(s),titleAttributes:bV("titleAttributes",s),prioritizeSeoTags:NV(s,gV)});var s;FV.canUseDOM?VV(r):MV&&(n=MV(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},HV=class extends a.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!ZU()(_V(this.props,"helmetData"),_V(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach((t=>{n={...n,[t]:e[t]}})),n}warnOnInvalidChildren(e,t){return eV()(oV.some((t=>e.type===t)),"function"===typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${oV.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),eV()(!t||"string"===typeof t||Array.isArray(t)&&!t.some((e=>"string"!==typeof e)),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return a.Children.forEach(e,(e=>{if(!e||!e.props)return;const{children:r,...s}=e.props,i=Object.keys(s).reduce(((e,t)=>(e[cV[t]||t]=s[t],e)),{});let{type:a}=e;switch("symbol"===typeof a?a=a.toString():this.warnOnInvalidChildren(e,r),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,i,r);break;default:t=this.mapObjectTypeChildren(e,t,i,r)}})),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof RV)){r=new RV(r.context,!0),delete n.helmetData}return r?a.createElement($V,{...n,context:r.value}):a.createElement(IV.Consumer,null,(e=>a.createElement($V,{...n,context:e})))}};const WV=function(){const{slug:e}=ie(),[t,n]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0);(0,a.useEffect)((()=>{d()}),[e]);const d=async()=>{try{s(!0);const t=await Lu.get(`/blogs/${e}`);n(t.data),o(null)}catch(t){o("Failed to fetch blog. Please try again later."),console.error("Error fetching blog:",t)}finally{s(!1)}};return r?(0,ft.jsx)("div",{className:"min-h-screen flex justify-center items-center",children:(0,ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):i?(0,ft.jsx)("div",{className:"min-h-screen flex justify-center items-center",children:(0,ft.jsx)("div",{className:"text-red-600",children:i})}):t?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)(HV,{children:[(0,ft.jsx)("title",{children:t.metaTitle||t.title}),(0,ft.jsx)("meta",{name:"description",content:t.metaDescription||t.excerpt}),(0,ft.jsx)("meta",{name:"keywords",content:t.keywords.join(", ")}),(0,ft.jsx)("meta",{property:"og:title",content:t.metaTitle||t.title}),(0,ft.jsx)("meta",{property:"og:description",content:t.metaDescription||t.excerpt}),(0,ft.jsx)("meta",{property:"og:image",content:t.bannerImage}),(0,ft.jsx)("meta",{property:"og:type",content:"article"}),(0,ft.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,ft.jsx)("meta",{name:"twitter:title",content:t.metaTitle||t.title}),(0,ft.jsx)("meta",{name:"twitter:description",content:t.metaDescription||t.excerpt}),(0,ft.jsx)("meta",{name:"twitter:image",content:t.bannerImage})]}),(0,ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,ft.jsxs)("div",{className:"relative h-96",children:[l&&(0,ft.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:(0,ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}),(0,ft.jsx)("img",{src:t.bannerImage,alt:t.title,className:"w-full h-full object-cover",onLoad:()=>c(!1),onError:()=>c(!1)}),(0,ft.jsx)("div",{className:"absolute inset-0 bg-black opacity-50"}),(0,ft.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,ft.jsxs)("div",{className:"text-center text-white max-w-4xl px-4",children:[(0,ft.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:t.title}),(0,ft.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-lg",children:[(0,ft.jsx)("span",{children:t.author.name}),(0,ft.jsx)("span",{children:"\u2022"}),(0,ft.jsx)("span",{children:Lj(new Date(t.publishedAt),"MMMM d, yyyy")})]})]})})]}),(0,ft.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,ft.jsx)("article",{className:"prose prose-lg prose-emerald max-w-none",children:(0,ft.jsx)(WU,{components:{img:e=>{let{node:t,...n}=e;return(0,ft.jsx)("div",{className:"relative",children:(0,ft.jsx)("img",{...n,className:"w-full h-auto rounded-lg",loading:"lazy"})})},code:e=>{let{node:t,inline:n,className:r,children:s,...i}=e;return(0,ft.jsx)("code",{className:`${r} bg-gray-100 rounded px-1 py-0.5`,...i,children:s})},pre:e=>{let{node:t,children:n,...r}=e;return(0,ft.jsx)("pre",{className:"bg-gray-100 rounded-lg p-4 overflow-x-auto",...r,children:n})}},children:t.content})}),(0,ft.jsx)("div",{className:"mt-12 pt-8 border-t border-gray-200",children:(0,ft.jsx)("div",{className:"flex flex-wrap gap-2",children:t.keywords.map(((e,t)=>(0,ft.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800",children:e},t)))})})]})]})]}):(0,ft.jsx)("div",{className:"min-h-screen flex justify-center items-center",children:(0,ft.jsx)("div",{className:"text-gray-600",children:"Blog not found"})})};const YV=function(){const e=se(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)({}),[l,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("-createdAt");(0,a.useEffect)((()=>{h()}),[l,d]);const h=async()=>{try{s(!0);const e=await Lu.get(`/blogs/admin?status=${l}&sort=${d}`);n(e.data)}catch(e){pt.error("Failed to fetch blogs"),console.error("Error fetching blogs:",e)}finally{s(!1)}},m=t.filter((e=>"all"===l||e.status===l));return(0,ft.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Blog Management"}),(0,ft.jsx)("button",{onClick:()=>e("/admin/blogs/new"),className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700",children:"New Blog"})]}),(0,ft.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,ft.jsx)("option",{value:"all",children:"All Blogs"}),(0,ft.jsx)("option",{value:"published",children:"Published"}),(0,ft.jsx)("option",{value:"draft",children:"Drafts"})]})}),(0,ft.jsx)("div",{className:"flex-1",children:(0,ft.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,ft.jsx)("option",{value:"-createdAt",children:"Newest First"}),(0,ft.jsx)("option",{value:"createdAt",children:"Oldest First"}),(0,ft.jsx)("option",{value:"-publishedAt",children:"Recently Published"}),(0,ft.jsx)("option",{value:"title",children:"Title A-Z"}),(0,ft.jsx)("option",{value:"-title",children:"Title Z-A"})]})})]}),(0,ft.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:r?(0,ft.jsxs)("div",{className:"p-8 text-center",children:[(0,ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto"}),(0,ft.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading blogs..."})]}):0===m.length?(0,ft.jsx)("div",{className:"p-8 text-center",children:(0,ft.jsx)("p",{className:"text-gray-600",children:"No blogs found"})}):(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Published"}),(0,ft.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((t=>(0,ft.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.title}),(0,ft.jsx)("div",{className:"text-sm text-gray-500",children:t.excerpt})]}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("published"===t.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.status})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Lj(new Date(t.createdAt),"MMM d, yyyy")}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.publishedAt?Lj(new Date(t.publishedAt),"MMM d, yyyy"):"-"}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{onClick:()=>e(`/admin/blogs/${t._id}`),className:"text-emerald-600 hover:text-emerald-900",disabled:i[t._id],children:"Edit"}),(0,ft.jsx)("button",{onClick:()=>(async(e,t)=>{const n="published"===t?"publish":"unpublish",r="published"===t?"Are you sure you want to publish this blog?":"Are you sure you want to unpublish this blog? It will no longer be visible to users.";if(window.confirm(r))try{o((t=>({...t,[e]:!0}))),await Lu.put(`/blogs/${e}`,{status:t}),pt.success(`Blog ${n}ed successfully`),h()}catch(s){pt.error(`Failed to ${n} blog`),console.error(`Error ${n}ing blog:`,s)}finally{o((t=>({...t,[e]:!1})))}})(t._id,"published"===t.status?"draft":"published"),className:"text-blue-600 hover:text-blue-900",disabled:i[t._id],children:"published"===t.status?"Unpublish":"Publish"}),(0,ft.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this blog? This action cannot be undone."))try{o((t=>({...t,[e]:!0}))),await Lu.delete(`/blogs/${e}`),pt.success("Blog deleted successfully"),h()}catch(t){pt.error("Failed to delete blog"),console.error("Error deleting blog:",t)}finally{o((t=>({...t,[e]:!1})))}})(t._id),className:"text-red-600 hover:text-red-900",disabled:i[t._id],children:"Delete"}),i[t._id]&&(0,ft.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-emerald-600"})]})})]},t._id)))})]})})})]})};const KV=function(){se();const e=ne(),{setCurrentUser:t}=yh();return(0,a.useEffect)((()=>{try{const s=new URLSearchParams(e.search),i=s.get("data"),a=s.get("error"),o=s.get("reason");if(console.log("LoginSuccess params:",{encodedData:i,error:a,reason:o}),a){var n;const e={google_auth_failed:{no_user:"Failed to get user information from Google",no_email:"No email address provided by Google",validation_error:"Invalid user data received",invalid_id:"Invalid user ID format",duplicate_email:"Email already exists with a different account",unknown:"Failed to authenticate with Google"},user_not_found:"User account not found",default:"Authentication failed"},t=(null===(n=e[a])||void 0===n?void 0:n[o])||e[a]||e.default;return console.error("Authentication error:",t),window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:t},"*"),void window.close()}if(!i)throw new Error("No authentication data received");let l;try{l=JSON.parse(decodeURIComponent(i)),console.log("Decoded auth data:",l)}catch(r){throw console.error("Failed to parse auth data:",r),new Error("Invalid authentication data format")}if(!l.token||!l.user)throw console.error("Missing required auth data:",l),new Error("Invalid authentication data structure");localStorage.setItem("token",l.token),t(l.user),window.opener.postMessage({type:"GOOGLE_AUTH_SUCCESS",data:l,isNewUser:l.isNewUser||!1},"*"),window.close()}catch(s){console.error("Login success error:",s),window.opener.postMessage({type:"GOOGLE_AUTH_ERROR",error:s.message||"Failed to process authentication response"},"*"),window.close()}}),[e,t]),(0,ft.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Processing authentication..."}),(0,ft.jsx)("p",{className:"mt-2 text-gray-600",children:"Please wait while we complete your sign in."})]})})};const GV=function(){var e,t,n,r;const{bookingId:s}=ie(),i=se(),o=ne(),l=(null===(e=o.state)||void 0===e?void 0:e.numberOfParticipants)||1,c=(null===(t=o.state)||void 0===t?void 0:t.addOns)||[],d=null===(n=o.state)||void 0===n?void 0:n.trekId,u=null===(r=o.state)||void 0===r?void 0:r.batchId,[h,m]=(0,a.useState)(Array.from({length:l},(()=>({name:"",email:"",phone:"",age:"",gender:"",allergies:"",extraComment:""})))),[p,f]=(0,a.useState)(!1),[g,x]=(0,a.useState)([]),[y,v]=(0,a.useState)(null),[b,w]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{if(d)try{const e=await Fu(d);if(w(e),Array.isArray(e.participantFields)&&(x(e.participantFields),m((t=>t.map((t=>{const n={};return e.participantFields.forEach((e=>{n[e.name]=""})),{...t,...n}}))))),u&&e.batches){const t=e.batches.find((e=>e._id===u));v(t)}}catch(Wj){}})()}),[d,u]),(0,a.useEffect)((()=>{!y&&s&&$u(s).then((e=>{e&&e.batch&&v(e.batch),e&&e.trek&&w(e.trek)}))}),[y,s]);const j=(e,t)=>{const{name:n,value:r}=t.target;m((t=>{const s=[...t];return s[e][n]=r,s}))},N=e=>e?new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"-";return(0,ft.jsxs)("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold mb-6 text-emerald-700",children:"Participant Details"}),y&&(0,ft.jsxs)("div",{className:"bg-white rounded-xl shadow p-6 border border-emerald-100 mb-8",children:[(0,ft.jsx)("div",{className:"flex items-center gap-3 mb-2",children:(0,ft.jsx)("span",{className:"text-lg font-bold text-emerald-800",children:"Batch Information"})}),(0,ft.jsxs)("div",{className:"flex flex-wrap gap-6 text-gray-700",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("strong",{children:"Start Date:"})," ",N(y.startDate)]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("strong",{children:"End Date:"})," ",N(y.endDate)]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("strong",{children:"Price per Person:"})," \u20b9",y.price]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("strong",{children:"Max Participants:"})," ",y.maxParticipants]})]})]}),(0,ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0);try{await(async(e,t)=>(await Ru.put(`/bookings/${e}/participants`,t)).data)(s,{participants:h,pickupLocation:"To be confirmed",dropLocation:"To be confirmed",additionalRequests:""}),pt.success("Participant details saved!"),i(`/booking/${s}/preview`)}catch(t){pt.error(t.message||"Failed to save details")}finally{f(!1)}},className:"space-y-10",children:[h.map(((e,t)=>(0,ft.jsxs)("div",{className:"border p-6 rounded-lg mb-6 bg-white shadow-sm",children:[(0,ft.jsxs)("h3",{className:"font-semibold mb-4 text-lg text-emerald-600",children:["Participant ",t+1]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,ft.jsx)("input",{name:"name",value:e.name,onChange:e=>j(t,e),required:!0,placeholder:"Full Name",className:"border p-2 rounded w-full"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,ft.jsx)("input",{name:"email",value:e.email,onChange:e=>j(t,e),required:!0,placeholder:"Email",className:"border p-2 rounded w-full"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,ft.jsx)("input",{name:"phone",value:e.phone,onChange:e=>j(t,e),required:!0,placeholder:"Phone",className:"border p-2 rounded w-full"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),(0,ft.jsx)("input",{name:"age",value:e.age,onChange:e=>j(t,e),required:!0,placeholder:"Age",className:"border p-2 rounded w-full",type:"number",min:"1"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,ft.jsxs)("select",{name:"gender",value:e.gender,onChange:e=>j(t,e),required:!0,className:"border p-2 rounded w-full",children:[(0,ft.jsx)("option",{value:"",children:"Select Gender"}),(0,ft.jsx)("option",{value:"Male",children:"Male"}),(0,ft.jsx)("option",{value:"Female",children:"Female"}),(0,ft.jsx)("option",{value:"Other",children:"Other"})]})]}),g.map((n=>(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n.label||n.name}),(0,ft.jsx)("input",{name:n.name,value:e[n.name]||"",onChange:e=>j(t,e),placeholder:n.label||n.name,className:"border p-2 rounded w-full",type:n.type||"text",required:!!n.required})]},n.name))),(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),(0,ft.jsx)("textarea",{name:"allergies",value:e.allergies,onChange:e=>j(t,e),placeholder:"Any allergies?",className:"border p-2 rounded w-full",rows:2})]}),(0,ft.jsxs)("div",{className:"md:col-span-2",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Extra Comment"}),(0,ft.jsx)("textarea",{name:"extraComment",value:e.extraComment,onChange:e=>j(t,e),placeholder:"Any extra comment?",className:"border p-2 rounded w-full",rows:2})]})]}),c.length>0&&(0,ft.jsx)("div",{className:"mt-4 text-sm text-gray-600",children:"Add-on questions will appear here."})]},t))),(0,ft.jsx)("button",{type:"submit",disabled:p,className:"bg-emerald-600 text-white px-8 py-3 rounded shadow hover:bg-emerald-700 text-lg font-semibold",children:p?"Saving...":"Continue to Preview"})]})]})};const QV=function(){const e=se(),{id:t}=ie(),[n,r]=(0,a.useState)(!!t),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)({}),[f,g]=(0,a.useState)({title:"",content:"",excerpt:"",bannerImage:"",metaTitle:"",metaDescription:"",keywords:"",status:"draft"});(0,a.useEffect)((()=>{t&&y()}),[t]);const x=(0,a.useCallback)((0,EF.debounce)((async e=>{if(t&&"draft"===e.status)try{await Lu.put(`/blogs/${t}`,{...e,keywords:e.keywords.split(",").map((e=>e.trim())).filter((e=>e))}),pt.info("Draft auto-saved")}catch(n){console.error("Error auto-saving draft:",n)}}),3e4),[t]);(0,a.useEffect)((()=>(t&&"draft"===f.status&&x(f),()=>x.cancel())),[f,t,x]);const y=async()=>{try{r(!0);const e=(await Lu.get(`/blogs/admin/${t}`)).data;g({title:e.title,content:e.content,excerpt:e.excerpt,bannerImage:e.bannerImage,metaTitle:e.metaTitle,metaDescription:e.metaDescription,keywords:e.keywords.join(", "),status:e.status})}catch(n){pt.error("Failed to fetch blog"),console.error("Error fetching blog:",n),e("/admin/blogs")}finally{r(!1)}},v=async e=>{try{h(!0);if(!["image/jpeg","image/png","image/gif","image/webp"].includes(e.type))return pt.error("Invalid file type. Only JPEG, PNG, GIF, and WebP images are allowed."),"";const t=5242880;if(e.size>t)return pt.error("File size too large. Maximum size is 5MB."),"";const n=new FormData;n.append("image",e);return(await Lu.post("/blogs/upload-image",n,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(r){var t,n;const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to upload image";return pt.error(e),console.error("Error uploading image:",r),""}finally{h(!1)}};return(0,a.useEffect)((()=>()=>{c&&URL.revokeObjectURL(f.bannerImage)}),[c,f.bannerImage]),n?(0,ft.jsx)("div",{className:"min-h-screen flex justify-center items-center",children:(0,ft.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"}),(0,ft.jsx)("p",{className:"text-gray-600",children:"Loading blog..."})]})}):(0,ft.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ft.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ft.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Blog":"Create New Blog"}),(0,ft.jsxs)("div",{className:"flex space-x-4",children:[(0,ft.jsx)("button",{onClick:()=>e("/admin/blogs"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:s,children:"Cancel"}),(0,ft.jsx)("button",{onClick:()=>l(!o),className:"text-emerald-600 hover:text-emerald-900",disabled:s,children:o?"Edit":"Preview"})]})]}),o?(0,ft.jsxs)("div",{className:"prose prose-lg max-w-none",children:[(0,ft.jsx)("h1",{children:f.title}),f.bannerImage&&(0,ft.jsx)("img",{src:f.bannerImage,alt:f.title,className:"w-full h-64 object-cover rounded-lg"}),(0,ft.jsx)(WU,{children:f.content})]}):(0,ft.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),(()=>{const e={};return f.title.trim()||(e.title="Title is required"),f.content.trim()||(e.content="Content is required"),f.excerpt.trim()||(e.excerpt="Excerpt is required"),f.metaTitle.trim()||(e.metaTitle="Meta title is required"),f.metaDescription.trim()||(e.metaDescription="Meta description is required"),f.keywords.trim()||(e.keywords="At least one keyword is required"),"published"!==f.status||f.bannerImage||(e.bannerImage="Banner image is required for published blogs"),p(e),0===Object.keys(e).length})()){if("published"!==f.status||window.confirm("Are you sure you want to publish this blog?"))try{i(!0);let n=f.bannerImage;if(c&&(n=await v(c),!n))return void pt.error("Failed to upload banner image");const r={...f,bannerImage:n,keywords:f.keywords.split(",").map((e=>e.trim())).filter((e=>e))};t?(await Lu.put(`/blogs/${t}`,r),pt.success("Blog updated successfully")):(await Lu.post("/blogs",r),pt.success("Blog created successfully")),e("/admin/blogs")}catch(a){var r,s;const e=(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(t?"Failed to update blog":"Failed to create blog");pt.error(e),console.error("Error saving blog:",a)}finally{i(!1)}}else pt.error("Please fix the errors in the form")},className:"space-y-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,ft.jsx)("input",{type:"text",value:f.title,onChange:e=>{g({...f,title:e.target.value}),p((e=>({...e,title:""})))},className:"mt-1 block w-full rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm "+(m.title?"border-red-300":"border-gray-300"),required:!0}),m.title&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.title})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Excerpt"}),(0,ft.jsx)("textarea",{value:f.excerpt,onChange:e=>{g({...f,excerpt:e.target.value}),p((e=>({...e,excerpt:""})))},rows:3,className:"mt-1 block w-full rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm "+(m.excerpt?"border-red-300":"border-gray-300"),required:!0}),m.excerpt&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.excerpt})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Content"}),(0,ft.jsx)("div",{className:"mt-1 "+(m.content?"border-2 border-red-300 rounded-md":""),children:(0,ft.jsx)(RA,{value:f.content,onChange:e=>{g({...f,content:e}),p((e=>({...e,content:""})))},onImageUpload:v})}),m.content&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.content})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Banner Image"}),(0,ft.jsxs)("div",{className:"mt-1 flex items-center space-x-4",children:[(0,ft.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/png","image/gif","image/webp"].includes(t.type))return void pt.error("Invalid file type. Only JPEG, PNG, GIF, and WebP images are allowed.");const e=5242880;if(t.size>e)return void pt.error("File size too large. Maximum size is 5MB.");d(t);const n=URL.createObjectURL(t);return g((e=>({...e,bannerImage:n}))),p((e=>({...e,bannerImage:""}))),()=>{URL.revokeObjectURL(n)}}},className:"block w-full text-sm text-gray-500\n                    file:mr-4 file:py-2 file:px-4\n                    file:rounded-md file:border-0\n                    file:text-sm file:font-semibold\n                    file:bg-emerald-50 file:text-emerald-700\n                    hover:file:bg-emerald-100\n                    "+(m.bannerImage?"border-2 border-red-300 rounded-md":"")}),u&&(0,ft.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-emerald-600"}),f.bannerImage&&(0,ft.jsx)("div",{className:"relative w-20 h-20",children:(0,ft.jsx)("img",{src:f.bannerImage,alt:"Banner preview",className:"w-full h-full object-cover rounded-md"})})]}),m.bannerImage&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.bannerImage})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),(0,ft.jsx)("input",{type:"text",value:f.metaTitle,onChange:e=>{g({...f,metaTitle:e.target.value}),p((e=>({...e,metaTitle:""})))},className:"mt-1 block w-full rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm "+(m.metaTitle?"border-red-300":"border-gray-300"),required:!0}),m.metaTitle&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.metaTitle})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),(0,ft.jsx)("textarea",{value:f.metaDescription,onChange:e=>{g({...f,metaDescription:e.target.value}),p((e=>({...e,metaDescription:""})))},rows:3,className:"mt-1 block w-full rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm "+(m.metaDescription?"border-red-300":"border-gray-300"),required:!0}),m.metaDescription&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.metaDescription})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Keywords (comma-separated)"}),(0,ft.jsx)("input",{type:"text",value:f.keywords,onChange:e=>{g({...f,keywords:e.target.value}),p((e=>({...e,keywords:""})))},className:"mt-1 block w-full rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm "+(m.keywords?"border-red-300":"border-gray-300"),required:!0}),m.keywords&&(0,ft.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.keywords})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,ft.jsxs)("select",{value:f.status,onChange:e=>g({...f,status:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",disabled:s,children:[(0,ft.jsx)("option",{value:"draft",children:"Draft"}),(0,ft.jsx)("option",{value:"published",children:"Published"})]})]}),(0,ft.jsx)("div",{className:"flex justify-end",children:(0,ft.jsx)("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 disabled:opacity-50",disabled:s,children:s?(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?"Updating...":"Creating..."]}):t?"Update Blog":"Create Blog"})})]})]})})};const XV=function(){var e,t,n,r,s;const{bookingId:i}=ie(),o=se(),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0);if((0,a.useEffect)((()=>{(async()=>{try{const e=await $u(i);c(e)}catch(e){console.error("Error fetching booking:",e),c(null)}finally{u(!1)}})()}),[i]),d)return(0,ft.jsx)("div",{className:"p-8",children:"Loading..."});if(!l)return(0,ft.jsx)("div",{className:"p-8 text-red-600",children:"Booking not found."});const h=l.trek||{},m=l.batch||{},p=l.participantDetails||[],f=l.participants||p.length||0,g=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(e||0),x=e=>e?new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"-";return(0,ft.jsxs)("div",{className:"max-w-5xl mx-auto py-8 px-2 md:px-4 flex flex-col md:flex-row gap-8",children:[(0,ft.jsxs)("div",{className:"flex-1 space-y-6",children:[(0,ft.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,ft.jsxs)("div",{className:"flex items-center gap-2 text-emerald-700 font-semibold",children:[(0,ft.jsx)("span",{className:"rounded-full bg-emerald-600 text-white w-8 h-8 flex items-center justify-center",children:"1"}),(0,ft.jsx)("span",{children:"Details"}),(0,ft.jsx)("span",{className:"mx-2",children:"\u2192"}),(0,ft.jsx)("span",{className:"rounded-full bg-emerald-600 text-white w-8 h-8 flex items-center justify-center",children:"2"}),(0,ft.jsx)("span",{children:"Review"}),(0,ft.jsx)("span",{className:"mx-2",children:"\u2192"}),(0,ft.jsx)("span",{className:"rounded-full bg-gray-200 text-gray-500 w-8 h-8 flex items-center justify-center",children:"3"}),(0,ft.jsx)("span",{className:"text-gray-500",children:"Confirm"})]})}),(0,ft.jsxs)("div",{className:"bg-white rounded-xl shadow p-6 border border-emerald-100",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ft.jsx)(gm,{className:"text-emerald-500"}),(0,ft.jsx)("span",{className:"text-xl font-bold text-emerald-800",children:h.name})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ft.jsx)(Ih,{className:"text-emerald-500"}),(0,ft.jsxs)("span",{className:"text-gray-700",children:[x(m.startDate)," - ",x(m.endDate)]})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ft.jsx)(ym,{className:"text-emerald-500"}),(0,ft.jsxs)("span",{className:"text-gray-700",children:["Price per Person: ",(0,ft.jsx)("span",{className:"font-semibold",children:g(m.price)})]})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ft.jsx)(Gm,{className:"text-emerald-500"}),(0,ft.jsxs)("span",{className:"text-gray-700",children:["Max Participants: ",(0,ft.jsx)("span",{className:"font-semibold",children:m.maxParticipants||"-"})]})]})]}),(0,ft.jsxs)("div",{className:"bg-white rounded-xl shadow p-6 border border-emerald-100",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ft.jsx)(Ym,{className:"text-emerald-500"}),(0,ft.jsx)("span",{className:"text-lg font-semibold text-emerald-700",children:"Contact Information"})]}),(0,ft.jsxs)("div",{className:"ml-7 space-y-1",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)(Ym,{className:"text-gray-400"}),(0,ft.jsx)("span",{children:(null===(e=l.userDetails)||void 0===e?void 0:e.name)||"-"})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)(Qh,{className:"text-gray-400"}),(0,ft.jsx)("span",{children:(null===(t=l.userDetails)||void 0===t?void 0:t.email)||"-"})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)(jm,{className:"text-gray-400"}),(0,ft.jsx)("span",{children:(null===(n=l.userDetails)||void 0===n?void 0:n.phone)||"-"})]})]})]}),(0,ft.jsxs)("div",{className:"bg-white rounded-xl shadow p-6 border border-emerald-100",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ft.jsx)(Gm,{className:"text-emerald-500"}),(0,ft.jsx)("span",{className:"text-lg font-semibold text-emerald-700",children:"Booking Details"})]}),(0,ft.jsxs)("div",{className:"ml-7 space-y-1",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)(Gm,{className:"text-gray-400"}),(0,ft.jsxs)("span",{children:["Number of Participants: ",(0,ft.jsx)("strong",{children:f})]})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)(ym,{className:"text-gray-400"}),(0,ft.jsxs)("span",{children:["Total Price: ",(0,ft.jsx)("strong",{children:g(l.totalPrice)})]})]}),(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,ft.jsx)("span",{className:"capitalize font-semibold text-emerald-600",children:l.status})]})]})]}),(0,ft.jsxs)("div",{className:"bg-white rounded-xl shadow p-6 border border-emerald-100",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ft.jsx)(Sm,{className:"text-emerald-500"}),(0,ft.jsx)("span",{className:"text-lg font-semibold text-emerald-700",children:"Add-ons"})]}),(0,ft.jsx)("div",{className:"ml-7 text-gray-700",children:null!==(r=l.addOns)&&void 0!==r&&r.length?l.addOns.join(", "):"None"})]}),(0,ft.jsxs)("div",{className:"bg-white rounded-xl shadow p-6 border border-emerald-100",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ft.jsx)(Gm,{className:"text-emerald-500"}),(0,ft.jsxs)("span",{className:"text-lg font-semibold text-emerald-700",children:["Participants (",p.length,")"]})]}),p.length>0?(0,ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:null===(s=p.map)||void 0===s?void 0:s.call(p,((e,t)=>(0,ft.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4 border border-emerald-100",children:[(0,ft.jsxs)("div",{className:"font-semibold text-emerald-800 mb-1",children:["Participant ",t+1]}),(0,ft.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,ft.jsx)("strong",{children:"Name:"})," ",e.name||"-"]}),(0,ft.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,ft.jsx)("strong",{children:"Email:"})," ",e.email||"-"]}),(0,ft.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,ft.jsx)("strong",{children:"Phone:"})," ",e.phone||"-"]}),(0,ft.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,ft.jsx)("strong",{children:"Age:"})," ",e.age||"-"]}),(0,ft.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,ft.jsx)("strong",{children:"Gender:"})," ",e.gender||"-"]}),e.allergies&&(0,ft.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,ft.jsx)("strong",{children:"Allergies:"})," ",e.allergies]}),e.extraComment&&(0,ft.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,ft.jsx)("strong",{children:"Extra Comment:"})," ",e.extraComment]}),Object.keys(e).filter((e=>!["name","email","phone","age","gender","allergies","extraComment"].includes(e))).map((t=>(0,ft.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,ft.jsxs)("strong",{children:[t.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),":"]})," ",e[t]]},t)))]},t)))}):(0,ft.jsx)("div",{className:"ml-7 text-gray-500 italic",children:"No participant details available"})]})]}),(0,ft.jsx)("div",{className:"md:w-80 w-full md:sticky md:top-24 flex-shrink-0",children:(0,ft.jsxs)("div",{className:"bg-emerald-700 text-white rounded-2xl shadow-xl p-6 flex flex-col gap-4 sticky bottom-0 md:static",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ft.jsx)(ym,{className:"text-2xl"}),(0,ft.jsx)("span",{className:"text-xl font-bold",children:"Total Price"})]}),(0,ft.jsx)("div",{className:"text-3xl font-extrabold text-center",children:g(l.totalPrice)}),(0,ft.jsx)("button",{className:"mt-4 bg-white text-emerald-700 font-bold text-lg py-3 rounded-xl shadow hover:bg-emerald-50 transition-all duration-200 border border-emerald-200",onClick:()=>o(`/booking-detail/${l._id}`),children:"Confirm Booking"})]})})]})};const ZV=function(){const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[f,g]=(0,a.useState)({weekendHighlights:[],transportation:"",departureTime:"",returnTime:"",meetingPoint:""}),[x,y]=(0,a.useState)("");(0,a.useEffect)((()=>{v()}),[]);const v=async()=>{r(!0);try{const e=await Iu();t(e);const n=e.filter((e=>e.isWeekendGetaway)),r=e.filter((e=>!e.isWeekendGetaway));i(n),l(r)}catch(e){console.error("Error fetching treks:",e),fN.error("Failed to load treks")}finally{r(!1)}},b=e=>{const{name:t,value:n}=e.target;g({...f,[t]:n})},w=()=>{x.trim()&&(g({...f,weekendHighlights:[...f.weekendHighlights,x.trim()]}),y(""))},j=e=>{const t=[...f.weekendHighlights];t.splice(e,1),g({...f,weekendHighlights:t})},N=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(m)try{console.log("Saving weekend getaway for trek:",m._id),console.log("Form data:",f),await mh(m._id,{isWeekendGetaway:!0,...f}),fN.success(`Trek ${e?"added to":"updated in"} weekend getaways`),d(!1),h(!1),v()}catch(t){console.error("Error saving weekend getaway:",t),fN.error(`Failed to save weekend getaway: ${t.message}`)}},k=e=>e.duration<=3;return(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,ft.jsx)(Vm,{className:"mr-2 text-emerald-600"}),"Weekend Getaway Manager"]}),(0,ft.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage which treks are featured as weekend getaways on the website."})]}),n?(0,ft.jsxs)("div",{className:"text-center py-10",children:[(0,ft.jsx)("div",{className:"spinner"}),(0,ft.jsx)("p",{className:"mt-3 text-gray-600",children:"Loading treks..."})]}):(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsxs)("div",{className:"mb-8",children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold mb-3 border-b pb-2",children:"Current Weekend Getaways"}),0===s.length?(0,ft.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,ft.jsx)("p",{className:"text-gray-500",children:"No weekend getaways configured yet."}),(0,ft.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add treks from the list below."})]}):(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trek"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Region"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transportation"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e=>{var t;return(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,ft.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.imageUrl,alt:e.name})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,ft.jsx)("div",{className:"text-sm text-gray-500",children:e.difficulty})]})]})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("div",{className:"text-sm text-gray-900",children:(null===(t=e.region)||void 0===t?void 0:t.name)||"No region"})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsxs)("div",{className:"text-sm text-gray-900",children:[e.duration," days"]})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("div",{className:"text-sm text-gray-900",children:e.transportation||"Not specified"})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,ft.jsxs)("div",{className:"flex space-x-2",children:[(0,ft.jsx)("button",{onClick:()=>(e=>{p(e),g({weekendHighlights:e.weekendHighlights||[],transportation:e.transportation||"",departureTime:e.departureTime||"",returnTime:e.returnTime||"",meetingPoint:e.meetingPoint||""}),h(!0)})(e),className:"text-indigo-600 hover:text-indigo-900",title:"Edit weekend getaway details",children:(0,ft.jsx)(Gh,{})}),(0,ft.jsx)("button",{onClick:()=>(async e=>{try{await mh(e,{isWeekendGetaway:!1}),fN.success("Trek removed from weekend getaways"),v()}catch(t){console.error("Error removing trek from weekend getaways:",t),fN.error("Failed to remove trek from weekend getaways")}})(e._id),className:"text-red-600 hover:text-red-900",title:"Remove from weekend getaways",children:(0,ft.jsx)(xm,{})}),(0,ft.jsx)(Me,{to:`/treks/${e._id}`,className:"text-blue-600 hover:text-blue-900",title:"View trek",target:"_blank",children:(0,ft.jsx)(tm,{})})]})})]},e._id)}))})]})})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h3",{className:"text-lg font-semibold mb-3 border-b pb-2",children:"Available Treks"}),0===o.length?(0,ft.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,ft.jsx)("p",{className:"text-gray-500",children:"No regular treks available."}),(0,ft.jsx)(Me,{to:"/admin/treks/new",className:"text-emerald-600 hover:underline",children:"Create a new trek"})]}):(0,ft.jsx)("div",{className:"overflow-x-auto",children:(0,ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ft.jsx)("thead",{className:"bg-gray-50",children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trek"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Region"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Suitable"}),(0,ft.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((e=>{var t;return(0,ft.jsxs)("tr",{className:k(e)?"bg-green-50":"",children:[(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsxs)("div",{className:"flex items-center",children:[(0,ft.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,ft.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.imageUrl,alt:e.name})}),(0,ft.jsxs)("div",{className:"ml-4",children:[(0,ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,ft.jsx)("div",{className:"text-sm text-gray-500",children:e.difficulty})]})]})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsx)("div",{className:"text-sm text-gray-900",children:(null===(t=e.region)||void 0===t?void 0:t.name)||"No region"})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ft.jsxs)("div",{className:"text-sm text-gray-900",children:[e.duration," days"]})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:k(e)?(0,ft.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[(0,ft.jsx)(Bh,{className:"mr-1"})," Good fit"]}):(0,ft.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:[(0,ft.jsx)(qm,{className:"mr-1"})," Too long"]})}),(0,ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,ft.jsxs)("button",{onClick:()=>(e=>{p(e),g({weekendHighlights:e.weekendHighlights||[],transportation:e.transportation||"",departureTime:e.departureTime||"",returnTime:e.returnTime||"",meetingPoint:e.meetingPoint||""}),d(!0)})(e),className:"text-emerald-600 hover:text-emerald-900 flex items-center",children:[(0,ft.jsx)(_m,{className:"mr-1"})," Add"]})})]},e._id)}))})]})})]})]}),c&&m&&(0,ft.jsx)(Uj,{title:`Add ${m.name} to Weekend Getaways`,onClose:()=>d(!1),size:"large",children:(0,ft.jsxs)("div",{className:"p-4",children:[(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("p",{className:"text-gray-600 mb-4",children:"Configure the weekend getaway details for this trek. These details will help travelers plan their weekend escape."}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transportation"}),(0,ft.jsx)("input",{type:"text",name:"transportation",value:f.transportation,onChange:b,placeholder:"e.g., Shared taxi from city center",className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Point"}),(0,ft.jsx)("input",{type:"text",name:"meetingPoint",value:f.meetingPoint,onChange:b,placeholder:"e.g., Main Bus Terminal",className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Time"}),(0,ft.jsx)("input",{type:"text",name:"departureTime",value:f.departureTime,onChange:b,placeholder:"e.g., 7:00 AM Friday",className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Time"}),(0,ft.jsx)("input",{type:"text",name:"returnTime",value:f.returnTime,onChange:b,placeholder:"e.g., 6:00 PM Sunday",className:"w-full p-2 border border-gray-300 rounded-md"})]})]})]}),(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weekend Highlights"}),(0,ft.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,ft.jsx)("input",{type:"text",value:x,onChange:e=>y(e.target.value),placeholder:"Add a weekend highlight",className:"flex-1 p-2 border border-gray-300 rounded-md"}),(0,ft.jsx)("button",{type:"button",onClick:w,className:"px-4 py-2 bg-emerald-600 text-white rounded-md",children:"Add"})]}),(0,ft.jsxs)("div",{className:"space-y-2 mt-3",children:[f.weekendHighlights.map(((e,t)=>(0,ft.jsxs)("div",{className:"flex justify-between bg-gray-50 p-2 rounded",children:[(0,ft.jsx)("span",{children:e}),(0,ft.jsx)("button",{type:"button",onClick:()=>j(t),className:"text-red-600",children:(0,ft.jsx)(qm,{})})]},t))),0===f.weekendHighlights.length&&(0,ft.jsx)("p",{className:"text-gray-400 text-sm",children:"No highlights added yet"})]})]}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:()=>N(!0),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700",children:"Add to Weekend Getaways"})]})]})}),u&&m&&(0,ft.jsx)(Uj,{title:`Edit ${m.name} Weekend Getaway Details`,onClose:()=>h(!1),size:"large",children:(0,ft.jsxs)("div",{className:"p-4",children:[(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("p",{className:"text-gray-600 mb-4",children:"Update the weekend getaway details for this trek."}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transportation"}),(0,ft.jsx)("input",{type:"text",name:"transportation",value:f.transportation,onChange:b,placeholder:"e.g., Shared taxi from city center",className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Point"}),(0,ft.jsx)("input",{type:"text",name:"meetingPoint",value:f.meetingPoint,onChange:b,placeholder:"e.g., Main Bus Terminal",className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Time"}),(0,ft.jsx)("input",{type:"text",name:"departureTime",value:f.departureTime,onChange:b,placeholder:"e.g., 7:00 AM Friday",className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,ft.jsxs)("div",{children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Time"}),(0,ft.jsx)("input",{type:"text",name:"returnTime",value:f.returnTime,onChange:b,placeholder:"e.g., 6:00 PM Sunday",className:"w-full p-2 border border-gray-300 rounded-md"})]})]})]}),(0,ft.jsxs)("div",{className:"mb-6",children:[(0,ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weekend Highlights"}),(0,ft.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,ft.jsx)("input",{type:"text",value:x,onChange:e=>y(e.target.value),placeholder:"Add a weekend highlight",className:"flex-1 p-2 border border-gray-300 rounded-md"}),(0,ft.jsx)("button",{type:"button",onClick:w,className:"px-4 py-2 bg-emerald-600 text-white rounded-md",children:"Add"})]}),(0,ft.jsx)("div",{className:"space-y-2 mt-3",children:f.weekendHighlights.map(((e,t)=>(0,ft.jsxs)("div",{className:"flex justify-between bg-gray-50 p-2 rounded",children:[(0,ft.jsx)("span",{children:e}),(0,ft.jsx)("button",{type:"button",onClick:()=>j(t),className:"text-red-600",children:(0,ft.jsx)(qm,{})})]},t)))})]}),(0,ft.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ft.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,ft.jsx)("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700",children:"Update Weekend Getaway"})]})]})})]})},JV=()=>(0,ft.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,ft.jsx)("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-lg",children:(0,ft.jsxs)("div",{className:"text-center",children:[(0,ft.jsx)("div",{className:"mb-6",children:(0,ft.jsx)("svg",{className:"mx-auto h-16 w-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,ft.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Access Denied"}),(0,ft.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),(0,ft.jsx)("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors duration-200",children:"Go Back"})]})})});const e$=function(){var e;const{currentUser:t,loading:n,refreshUser:r}=yh(),s=null===t||void 0===t||null===(e=t.group)||void 0===e?void 0:e.permissions,i=ne();(0,a.useEffect)((()=>{r()}),[r]);const o=i.pathname.startsWith("/admin");return n?(0,ft.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ft.jsx)(np,{})}):(0,ft.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,ft.jsx)(ep,{}),(0,ft.jsx)("main",{className:"flex-grow",children:(0,ft.jsx)(Tt,{mode:"wait",children:(0,ft.jsx)(vc.div,{initial:"initial",animate:"in",exit:"out",variants:{initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},transition:{type:"tween",ease:"anticipate",duration:.4},children:(0,ft.jsxs)(Ne,{location:i,children:[(0,ft.jsx)(we,{path:"/",element:(0,ft.jsx)(lw,{})}),(0,ft.jsx)(we,{path:"/login",element:t?(0,ft.jsx)(be,{to:"/"}):(0,ft.jsx)(dw,{})}),(0,ft.jsx)(we,{path:"/register",element:t?(0,ft.jsx)(be,{to:"/"}):(0,ft.jsx)(uw,{})}),(0,ft.jsx)(we,{path:"/about",element:(0,ft.jsx)(hw,{})}),(0,ft.jsx)(we,{path:"/contact",element:(0,ft.jsx)(mw,{})}),(0,ft.jsx)(we,{path:"/treks",element:(0,ft.jsx)(dF,{})}),(0,ft.jsx)(we,{path:"/treks/:id",element:(0,ft.jsx)(Fj,{})}),(0,ft.jsx)(we,{path:"/treks/:id/book",element:(0,ft.jsx)(uF,{})}),(0,ft.jsx)(we,{path:"/profile",element:(0,ft.jsx)(zj,{})}),(0,ft.jsx)(we,{path:"/dashboard",element:(0,ft.jsx)(jF,{})}),(0,ft.jsx)(we,{path:"/booking/:trekId/:batchId",element:(0,ft.jsx)(rp,{children:(0,ft.jsx)(Bj,{})})}),(0,ft.jsx)(we,{path:"/booking-confirmation/:bookingId",element:(0,ft.jsx)(rp,{children:(0,ft.jsx)(qj,{})})}),(0,ft.jsx)(we,{path:"/payment/:bookingId",element:(0,ft.jsx)(rp,{children:(0,ft.jsx)(CF,{})})}),(0,ft.jsx)(we,{path:"/my-bookings",element:(0,ft.jsx)(rp,{children:(0,ft.jsx)(Vj,{})})}),(0,ft.jsx)(we,{path:"/booking-detail/:id",element:(0,ft.jsx)(rp,{children:(0,ft.jsx)(Hj,{})})}),(0,ft.jsx)(we,{path:"/booking-detail/:id/participants",element:(0,ft.jsx)(GV,{})}),(0,ft.jsx)(we,{path:"/booking/:bookingId/participant-details",element:(0,ft.jsx)(GV,{})}),(0,ft.jsx)(we,{path:"/booking/:bookingId/preview",element:(0,ft.jsx)(XV,{})}),(0,ft.jsx)(we,{path:"/wishlist",element:(0,ft.jsx)(rp,{children:(0,ft.jsx)(YI,{})})}),(0,ft.jsx)(we,{path:"/admin/*",element:(0,ft.jsx)(sp,{children:(0,ft.jsx)(ip,{children:(0,ft.jsxs)(Ne,{children:[(0,ft.jsx)(we,{path:"/",element:(0,ft.jsx)(be,{to:"dashboard",replace:!0})}),(0,ft.jsx)(we,{path:"dashboard",element:(0,ft.jsx)(zA,{})}),(0,ft.jsx)(we,{path:"treks",element:(0,ft.jsx)(ap,{permissionKey:"manageTreks",permissions:s,children:(0,ft.jsx)($A,{})})}),(0,ft.jsx)(we,{path:"treks/new",element:(0,ft.jsx)(ap,{permissionKey:"manageTreks",permissions:s,children:(0,ft.jsx)(JA,{})})}),(0,ft.jsx)(we,{path:"treks/edit/:id",element:(0,ft.jsx)(ap,{permissionKey:"manageTreks",permissions:s,children:(0,ft.jsx)(JA,{})})}),(0,ft.jsx)(we,{path:"treks/:trekId/performance",element:(0,ft.jsx)(ap,{permissionKey:"manageTreks",permissions:s,children:(0,ft.jsx)(pF,{})})}),(0,ft.jsx)(we,{path:"regions",element:(0,ft.jsx)(ap,{permissionKey:"manageRegions",permissions:s,children:(0,ft.jsx)(tP,{})})}),(0,ft.jsx)(we,{path:"regions/new",element:(0,ft.jsx)(ap,{permissionKey:"manageRegions",permissions:s,children:(0,ft.jsx)(gF,{})})}),(0,ft.jsx)(we,{path:"regions/:id/edit",element:(0,ft.jsx)(ap,{permissionKey:"manageRegions",permissions:s,children:(0,ft.jsx)(gF,{})})}),(0,ft.jsx)(we,{path:"bookings",element:(0,ft.jsx)(ap,{permissionKey:"manageBookings",permissions:s,children:(0,ft.jsx)(kI,{})})}),(0,ft.jsx)(we,{path:"bookings/:id",element:(0,ft.jsx)(ap,{permissionKey:"manageBookings",permissions:s,children:(0,ft.jsx)(vF,{})})}),(0,ft.jsx)(we,{path:"bookings/:id/edit",element:(0,ft.jsx)(ap,{permissionKey:"manageBookings",permissions:s,children:(0,ft.jsx)(xF,{})})}),(0,ft.jsx)(we,{path:"users",element:(0,ft.jsx)(ap,{permissionKey:"manageUsers",permissions:s,children:(0,ft.jsx)(SI,{})})}),(0,ft.jsx)(we,{path:"support",element:(0,ft.jsx)(ap,{permissionKey:"supportTickets",permissions:s,children:(0,ft.jsx)(CI,{})})}),(0,ft.jsx)(we,{path:"support/:id",element:(0,ft.jsx)(ap,{permissionKey:"supportTickets",permissions:s,children:(0,ft.jsx)(EI,{})})}),(0,ft.jsx)(we,{path:"sales",element:(0,ft.jsx)(ap,{permissionKey:"salesDashboard",permissions:s,children:(0,ft.jsx)($I,{})})}),(0,ft.jsx)(we,{path:"leads",element:(0,ft.jsx)(ap,{permissionKey:"manageLeads",permissions:s,children:(0,ft.jsx)(WI,{})})}),(0,ft.jsx)(we,{path:"leads/:id",element:(0,ft.jsx)(ap,{permissionKey:"manageLeads",permissions:s,children:(0,ft.jsx)(wF,{})})}),(0,ft.jsx)(we,{path:"trek-sections",element:(0,ft.jsx)(ap,{permissionKey:"trekSections",permissions:s,children:(0,ft.jsx)(KI,{})})}),(0,ft.jsx)(we,{path:"weekend-getaways",element:(0,ft.jsx)(ap,{permissionKey:"manageWeekendGetaways",permissions:s,children:(0,ft.jsx)(ZV,{})})}),(0,ft.jsx)(we,{path:"user-groups",element:(0,ft.jsx)(ap,{permissionKey:"manageUserGroups",permissions:s,children:(0,ft.jsx)(bF,{})})}),(0,ft.jsx)(we,{path:"user-groups/new",element:(0,ft.jsx)(ap,{permissionKey:"manageUserGroups",permissions:s,children:(0,ft.jsx)(bF,{})})}),(0,ft.jsx)(we,{path:"user-groups/:id/edit",element:(0,ft.jsx)(ap,{permissionKey:"manageUserGroups",permissions:s,children:(0,ft.jsx)(bF,{})})}),(0,ft.jsx)(we,{path:"unauthorized",element:(0,ft.jsx)(JV,{})}),(0,ft.jsx)(we,{path:"blogs",element:(0,ft.jsx)(ap,{permissionKey:"manageBlogs",permissions:s,children:(0,ft.jsx)(YV,{})})}),(0,ft.jsx)(we,{path:"blogs/new",element:(0,ft.jsx)(ap,{permissionKey:"manageBlogs",permissions:s,children:(0,ft.jsx)(QV,{})})}),(0,ft.jsx)(we,{path:"blogs/:id",element:(0,ft.jsx)(ap,{permissionKey:"manageBlogs",permissions:s,children:(0,ft.jsx)(QV,{})})})]})})})}),(0,ft.jsx)(we,{path:"/tickets",element:(0,ft.jsx)(rp,{children:(0,ft.jsx)(TI,{})})}),(0,ft.jsx)(we,{path:"/tickets/:id",element:(0,ft.jsx)(rp,{children:(0,ft.jsx)(DI,{})})}),(0,ft.jsx)(we,{path:"/regions/:id",element:(0,ft.jsx)(ZI,{})}),(0,ft.jsx)(we,{path:"/regions",element:(0,ft.jsx)(JI,{})}),(0,ft.jsx)(we,{path:"/weekend-getaways",element:(0,ft.jsx)(nF,{})}),(0,ft.jsx)(we,{path:"/weekend-getaways/:id",element:(0,ft.jsx)(oF,{})}),(0,ft.jsx)(we,{path:"/blogs",element:(0,ft.jsx)(TF,{})}),(0,ft.jsx)(we,{path:"/blogs/:slug",element:(0,ft.jsx)(WV,{})}),(0,ft.jsx)(we,{path:"/login/success",element:(0,ft.jsx)(KV,{})}),(0,ft.jsx)(we,{path:"/verify-otp",element:(0,ft.jsx)(op,{})}),(0,ft.jsx)(we,{path:"*",element:(0,ft.jsx)(_I,{})})]})},i.pathname)})}),!o&&(0,ft.jsx)(tp,{}),(0,ft.jsx)(st,{position:"bottom-right",autoClose:3e3})]})};l.createRoot(document.getElementById("root")).render((0,ft.jsx)(a.StrictMode,{children:(0,ft.jsx)(De,{children:(0,ft.jsx)(vh,{children:(0,ft.jsx)(e$,{})})})}))})()})();
//# sourceMappingURL=main.1417ac61.js.map